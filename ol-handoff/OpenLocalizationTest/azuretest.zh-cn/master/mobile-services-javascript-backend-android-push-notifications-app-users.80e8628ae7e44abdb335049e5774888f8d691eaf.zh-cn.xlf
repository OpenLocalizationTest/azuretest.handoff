<?xml version="1.0" encoding="utf-8"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" source-language="en-us" target-language="zh-cn" original="2/18/2016 5:21:25 PM" tool-id="MarkdownTransformer" product-name="N/A" product-version="N/A" build-num="1">
    <header>
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">f4b4df64d698a78bb94723d901c9591584b91d10</xliffext:olfilehash>
      <tool tool-id="MarkdownTransformer" tool-name="MarkdownToXliff" tool-version="1.0" tool-company="Microsoft" />
    </header>
    <body>
      <group extype="content">
        <group id="101">
          <trans-unit id="101" xml:space="preserve">
            <source>&lt;properties</source>
            <target state="new">&lt;properties</target>
          </trans-unit>
          <trans-unit id="102" xml:space="preserve">
            <source>pageTitle="Send push notifications to authenticated users"</source>
            <target state="new">pageTitle="Send push notifications to authenticated users"</target>
          </trans-unit>
          <trans-unit id="103" xml:space="preserve">
            <source>description="Learn how to send push notifications to specific"</source>
            <target state="new">description="Learn how to send push notifications to specific"</target>
          </trans-unit>
          <trans-unit id="104" xml:space="preserve">
            <source>services="mobile-services, notification-hubs"</source>
            <target state="new">services="mobile-services, notification-hubs"</target>
          </trans-unit>
          <trans-unit id="105" xml:space="preserve">
            <source>documentationCenter="android"</source>
            <target state="new">documentationCenter="android"</target>
          </trans-unit>
          <trans-unit id="106" xml:space="preserve">
            <source>authors="wesmc7777"</source>
            <target state="new">authors="wesmc7777"</target>
          </trans-unit>
          <trans-unit id="107" xml:space="preserve">
            <source>manager="dwrede"</source>
            <target state="new">manager="dwrede"</target>
          </trans-unit>
          <trans-unit id="108" xml:space="preserve">
            <source>editor=""/&gt;</source>
            <target state="new">editor=""/&gt;</target>
          </trans-unit>
          <trans-unit id="109" xml:space="preserve">
            <source>&lt;tags</source>
            <target state="new">&lt;tags</target>
          </trans-unit>
          <trans-unit id="110" xml:space="preserve">
            <source>ms.service="mobile-services"</source>
            <target state="new">ms.service="mobile-services"</target>
          </trans-unit>
          <trans-unit id="111" xml:space="preserve">
            <source>ms.workload="mobile"</source>
            <target state="new">ms.workload="mobile"</target>
          </trans-unit>
          <trans-unit id="112" xml:space="preserve">
            <source>ms.tgt_pltfrm="mobile-android"</source>
            <target state="new">ms.tgt_pltfrm="mobile-android"</target>
          </trans-unit>
          <trans-unit id="113" xml:space="preserve">
            <source>ms.devlang="java"</source>
            <target state="new">ms.devlang="java"</target>
          </trans-unit>
          <trans-unit id="114" xml:space="preserve">
            <source>ms.topic="article"</source>
            <target state="new">ms.topic="article"</target>
          </trans-unit>
          <trans-unit id="115" xml:space="preserve">
            <source>ms.date="06/16/2015"</source>
            <target state="new">ms.date="06/16/2015"</target>
          </trans-unit>
          <trans-unit id="116" xml:space="preserve">
            <source>ms.author="wesmc"/&gt;</source>
            <target state="new">ms.author="wesmc"/&gt;</target>
          </trans-unit>
          <trans-unit id="117" xml:space="preserve">
            <source>Send push notifications to authenticated users</source>
            <target state="new">Send push notifications to authenticated users</target>
          </trans-unit>
          <trans-unit id="118" xml:space="preserve">
            <source><ph id="1">&lt;token href="../../includes/mobile-services-selector-push-users.md"/&gt;</ph></source>
            <target state="new"><ph id="1">&lt;token href="../../includes/mobile-services-selector-push-users.md"/&gt;</ph></target>
          </trans-unit>
          <trans-unit id="119" xml:space="preserve">
            <source>Overview</source>
            <target state="new">Overview</target>
          </trans-unit>
          <trans-unit id="120" xml:space="preserve">
            <source>This topic shows you how to send push notifications to an authenticated user on any registered device.</source>
            <target state="new">This topic shows you how to send push notifications to an authenticated user on any registered device.</target>
          </trans-unit>
          <trans-unit id="121" xml:space="preserve">
            <source>Unlike the previous <bpt id="2CapsExtId1">&lt;link&gt;</bpt><bpt id="2CapsExtId2">&lt;linkText&gt;</bpt>push notification[get started with push notifications]<ept id="2CapsExtId2">&lt;/linkText&gt;</ept><bpt id="2CapsExtId3">&lt;title&gt;</bpt><ept id="2CapsExtId3">&lt;/title&gt;</ept><ept id="2CapsExtId1">&lt;/link&gt;</ept> tutorial, this tutorial changes your mobile service to require that a user be authenticated before the client can register with the notification hub for push notifications.</source>
            <target state="new">Unlike the previous <bpt id="2CapsExtId1">&lt;link&gt;</bpt><bpt id="2CapsExtId2">&lt;linkText&gt;</bpt>push notification[get started with push notifications]<ept id="2CapsExtId2">&lt;/linkText&gt;</ept><bpt id="2CapsExtId3">&lt;title&gt;</bpt><ept id="2CapsExtId3">&lt;/title&gt;</ept><ept id="2CapsExtId1">&lt;/link&gt;</ept> tutorial, this tutorial changes your mobile service to require that a user be authenticated before the client can register with the notification hub for push notifications.</target>
          </trans-unit>
          <trans-unit id="122" xml:space="preserve">
            <source>Registration is also modified to add a tag based on the assigned user ID.</source>
            <target state="new">Registration is also modified to add a tag based on the assigned user ID.</target>
          </trans-unit>
          <trans-unit id="123" xml:space="preserve">
            <source>Finally, the server script is updated to send the notification only to the authenticated user instead of to all registrations.</source>
            <target state="new">Finally, the server script is updated to send the notification only to the authenticated user instead of to all registrations.</target>
          </trans-unit>
          <trans-unit id="124" xml:space="preserve">
            <source>This tutorial supports Android apps.</source>
            <target state="new">This tutorial supports Android apps.</target>
          </trans-unit>
          <trans-unit id="125" xml:space="preserve">
            <source>Prerequisites</source>
            <target state="new">Prerequisites</target>
          </trans-unit>
          <trans-unit id="126" xml:space="preserve">
            <source>Before you start this tutorial, you must have already completed these Mobile Services tutorials:</source>
            <target state="new">Before you start this tutorial, you must have already completed these Mobile Services tutorials:</target>
          </trans-unit>
          <trans-unit id="127" xml:space="preserve">
            <source>[Add authentication to your Mobile Services app]<bpt id="2">&lt;html&gt;</bpt><ept id="2">&lt;/html&gt;</ept>Adds a login requirement to the TodoList sample app.</source>
            <target state="new">[Add authentication to your Mobile Services app]<bpt id="2">&lt;html&gt;</bpt><ept id="2">&lt;/html&gt;</ept>Adds a login requirement to the TodoList sample app.</target>
          </trans-unit>
          <trans-unit id="128" xml:space="preserve">
            <source>[Get started with push notifications]<bpt id="2">&lt;html&gt;</bpt><ept id="2">&lt;/html&gt;</ept>Configures the TodoList sample app for push notifications by using Notification Hubs.</source>
            <target state="new">[Get started with push notifications]<bpt id="2">&lt;html&gt;</bpt><ept id="2">&lt;/html&gt;</ept>Configures the TodoList sample app for push notifications by using Notification Hubs.</target>
          </trans-unit>
          <trans-unit id="129" xml:space="preserve">
            <source>After you have completed both tutorials, you can prevent unauthenticated users from registering for push notifications from your mobile service.</source>
            <target state="new">After you have completed both tutorials, you can prevent unauthenticated users from registering for push notifications from your mobile service.</target>
          </trans-unit>
          <trans-unit id="130" xml:space="preserve">
            <source>Update the service to require authentication to register</source>
            <target state="new">Update the service to require authentication to register</target>
          </trans-unit>
          <trans-unit id="131" xml:space="preserve">
            <source><ph id="1">&lt;token href="../../includes/mobile-services-javascript-backend-push-notifications-app-users.md"/&gt;</ph></source>
            <target state="new"><ph id="1">&lt;token href="../../includes/mobile-services-javascript-backend-push-notifications-app-users.md"/&gt;</ph></target>
          </trans-unit>
          <trans-unit id="132" xml:space="preserve">
            <source>Replace the insert function with the following code, then click </source>
            <target state="new">Replace the insert function with the following code, then click </target>
          </trans-unit>
          <trans-unit id="133" xml:space="preserve">
            <source>Save</source>
            <target state="new">Save</target>
          </trans-unit>
          <trans-unit id="134" xml:space="preserve">
            <source>:</source>
            <target state="new">:</target>
          </trans-unit>
          <trans-unit id="135" xml:space="preserve">
            <source>function insert(item, user, request) {

    // Define a payload for the Google Cloud Messaging toast notification.
    var payload =
        '{"data":{"message" : "Hello from Mobile Services! An Item was inserted"}}';

    // Get the ID of the logged-in user.
    var userId = user.userId;

    request.execute({
        success: function() {
            // If the insert succeeds, send a notification to all devices
            // registered to the logged-in user as a tag.
            push.gcm.send(userId, payload, {
                success: function(pushResponse) {
                    console.log("Sent push with " + userId + " tag:", pushResponse, payload);
                    request.respond();
                    },
                    error: function (pushResponse) {
                            console.log("Error Sending push:", pushResponse);
                        request.respond(500, { error: pushResponse });
                        }
                    });
                },
                error: function(err) {
                    console.log("request.execute error", err)
                    request.respond();
                }
            });
}</source>
            <target state="new">function insert(item, user, request) {

    // Define a payload for the Google Cloud Messaging toast notification.
    var payload =
        '{"data":{"message" : "Hello from Mobile Services! An Item was inserted"}}';

    // Get the ID of the logged-in user.
    var userId = user.userId;

    request.execute({
        success: function() {
            // If the insert succeeds, send a notification to all devices
            // registered to the logged-in user as a tag.
            push.gcm.send(userId, payload, {
                success: function(pushResponse) {
                    console.log("Sent push with " + userId + " tag:", pushResponse, payload);
                    request.respond();
                    },
                    error: function (pushResponse) {
                            console.log("Error Sending push:", pushResponse);
                        request.respond(500, { error: pushResponse });
                        }
                    });
                },
                error: function(err) {
                    console.log("request.execute error", err)
                    request.respond();
                }
            });
}</target>
          </trans-unit>
          <trans-unit id="136" xml:space="preserve">
            <source>This insert script uses the user ID tag to send a push notification (with the text of the inserted item) to all Google Cloud Messaging registrations created by the logged-in user.</source>
            <target state="new">This insert script uses the user ID tag to send a push notification (with the text of the inserted item) to all Google Cloud Messaging registrations created by the logged-in user.</target>
          </trans-unit>
          <trans-unit id="137" xml:space="preserve">
            <source>Update the app to log in before registration</source>
            <target state="new">Update the app to log in before registration</target>
          </trans-unit>
          <trans-unit id="138" xml:space="preserve">
            <source><ph id="1">&lt;token href="../../includes/mobile-services-android-push-notifications-app-users.md"/&gt;</ph></source>
            <target state="new"><ph id="1">&lt;token href="../../includes/mobile-services-android-push-notifications-app-users.md"/&gt;</ph></target>
          </trans-unit>
          <trans-unit id="139" xml:space="preserve">
            <source>Test the app</source>
            <target state="new">Test the app</target>
          </trans-unit>
          <trans-unit id="140" xml:space="preserve">
            <source><ph id="1">&lt;token href="../../includes/mobile-services-android-test-push-users.md"/&gt;</ph></source>
            <target state="new"><ph id="1">&lt;token href="../../includes/mobile-services-android-test-push-users.md"/&gt;</ph></target>
          </trans-unit>
        </group>
      </group>
    </body>
  </file>
</xliff>