<markdown_skeleton_root>
  <block_element>
    <ArrayOfMarkdownBlockBase xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownBlockBase
        xsi:type="MarkdownAzureMetadataBlock"
        item_id="e22a1a6f-b613-413b-a05f-72274dfbe9ae"
        item_type="AzureMetadata"
        item_footer="footer_not_set"
        trans_unit_id="e22a1a6f-b613-413b-a05f-72274dfbe9ae">
        <LocalizeItemList>
          <MarkdownInternalXmlItem
            internal_item_id="4b27e396-7768-4408-9520-ab8dba0e58cd"
            trans_unit_id="101"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
          <MarkdownInternalXmlItem
            internal_item_id="1f8b105c-13cc-4510-8cdc-7de37de942c4"
            trans_unit_id="102"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
        </LocalizeItemList>
        <ItemValue>&lt;properties
    pageTitle="4b27e396-7768-4408-9520-ab8dba0e58cd"
    description="1f8b105c-13cc-4510-8cdc-7de37de942c4"
    services="machine-learning,hdinsight"
    solutions=""
    documentationCenter=""
    authors="hangzh-msft"
    manager="paulettm" 
    editor="cgronlun"  /&gt;

&lt;tags
    ms.service="machine-learning"
    ms.workload="data-services"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/01/2015"
    ms.author="hangzh;bradsev" /&gt;

</ItemValue>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="48223769-40d8-44bb-9b3e-f1b6ba62e1b2"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="48223769-40d8-44bb-9b3e-f1b6ba62e1b2">
        <segment
          trans_unit_id="103">
          <SegmentId>f9514c13-8122-4e39-a16c-cdf9160fcec5</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="103"
            trans_unit_id="103-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>1</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="f7bb76b1-d8ed-47ef-a0b7-b1d036a3f0fe"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="f7bb76b1-d8ed-47ef-a0b7-b1d036a3f0fe">
        <Lines>
          <MarkdownLine>
            <LineId>c128648c-02d5-4f6e-a80d-d6f5647efd24</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="104">
                <SegmentId>d11adb93-8476-46ef-b6cf-744ab956b9d7</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="104"
                  trans_unit_id="104-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="105">
                <SegmentId>3c720a3d-5be0-4df4-b4e1-98a4e03ab520</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="105"
                  trans_unit_id="105-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="106">
                <SegmentId>2922611b-91c0-4880-879c-15761452ff4c</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="106"
                  trans_unit_id="106-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="104">
            <SegmentId>d11adb93-8476-46ef-b6cf-744ab956b9d7</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="104"
              trans_unit_id="104-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="105">
            <SegmentId>3c720a3d-5be0-4df4-b4e1-98a4e03ab520</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="105"
              trans_unit_id="105-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="106">
            <SegmentId>2922611b-91c0-4880-879c-15761452ff4c</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="106"
              trans_unit_id="106-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="ac9b8bd9-f39a-4de4-bfd4-ffd677f41ae9"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="ac9b8bd9-f39a-4de4-bfd4-ffd677f41ae9">
        <Lines>
          <MarkdownLine>
            <LineId>4630a0b0-4bb1-48b1-afc4-f75136fbba1c</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="107">
                <SegmentId>b629c066-2031-4e09-b047-d5fa76edf218</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="107"
                  trans_unit_id="107-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="108">
                <SegmentId>94dec5f2-686e-476c-b13c-6950095da982</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="108"
                  trans_unit_id="108-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="107">
            <SegmentId>b629c066-2031-4e09-b047-d5fa76edf218</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="107"
              trans_unit_id="107-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="108">
            <SegmentId>94dec5f2-686e-476c-b13c-6950095da982</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="108"
              trans_unit_id="108-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="163bcdb6-08f4-41d4-8888-3e6aaa00b458"
        item_type="List"
        item_footer=""
        trans_unit_id="163bcdb6-08f4-41d4-8888-3e6aaa00b458">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="5ba9b8ca-e808-4785-8ff5-e31967091845"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="5ba9b8ca-e808-4785-8ff5-e31967091845">
              <Lines>
                <MarkdownLine>
                  <LineId>dc8bbe7f-be06-4cd1-95a5-1a947ceff844</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="109">
                      <SegmentId>9f4edf3d-8803-45e0-a66e-c626e11d60c0</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="109"
                        trans_unit_id="109-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="109">
                  <SegmentId>9f4edf3d-8803-45e0-a66e-c626e11d60c0</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="109"
                    trans_unit_id="109-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="4dd57f51-cfb4-44bb-a0de-127251d8758e"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="4dd57f51-cfb4-44bb-a0de-127251d8758e">
              <Lines>
                <MarkdownLine>
                  <LineId>be5f3559-bba5-4f26-b187-a50cc24d7b18</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="110">
                      <SegmentId>a47803ae-c739-4736-b12b-942a71ca7360</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="110"
                        trans_unit_id="110-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="110">
                  <SegmentId>a47803ae-c739-4736-b12b-942a71ca7360</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="110"
                    trans_unit_id="110-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="c7b363c1-fa93-406a-8424-e2deff95adea"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="c7b363c1-fa93-406a-8424-e2deff95adea">
              <Lines>
                <MarkdownLine>
                  <LineId>96430ded-bd2b-45df-8cab-8e94ff15a439</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="111">
                      <SegmentId>acbf98ac-a5ab-48af-8bf2-334d0782d840</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="111"
                        trans_unit_id="111-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="111">
                  <SegmentId>acbf98ac-a5ab-48af-8bf2-334d0782d840</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="111"
                    trans_unit_id="111-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="3ee5b4b1-9002-430d-b083-ef4db1e22d07"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="3ee5b4b1-9002-430d-b083-ef4db1e22d07">
        <Lines>
          <MarkdownLine>
            <LineId>322cddf9-6019-4de8-8f8f-9a5051917d96</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="112">
                <SegmentId>ca7bba17-93b8-4fcf-bc04-407cda42bd3a</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="112"
                  trans_unit_id="112-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="113">
                <SegmentId>42fa28a5-1119-4001-8918-bf244663b47c</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="113"
                  trans_unit_id="113-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="114">
                <SegmentId>3ca9e72f-1926-4b6f-a036-09ddadd6d43a</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="114"
                  trans_unit_id="114-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="114"
                  trans_unit_id="114-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>How to Submit Hive Queries</internal_link_text>
                  <internal_link_url>machine-learning-data-science-process-hive-tables.md#submit</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="114"
                  trans_unit_id="114-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="112">
            <SegmentId>ca7bba17-93b8-4fcf-bc04-407cda42bd3a</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="112"
              trans_unit_id="112-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="113">
            <SegmentId>42fa28a5-1119-4001-8918-bf244663b47c</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="113"
              trans_unit_id="113-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="114">
            <SegmentId>3ca9e72f-1926-4b6f-a036-09ddadd6d43a</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="114"
              trans_unit_id="114-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="114"
              trans_unit_id="114-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>How to Submit Hive Queries</internal_link_text>
              <internal_link_url>machine-learning-data-science-process-hive-tables.md#submit</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="114"
              trans_unit_id="114-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="086cb900-2483-40be-973f-e7f13ec42ec3"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="086cb900-2483-40be-973f-e7f13ec42ec3">
        <segment
          trans_unit_id="115">
          <SegmentId>76ea2dcd-989d-4204-9098-5a5d81e368cf</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="115"
            trans_unit_id="115-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="uniform"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="115"
            trans_unit_id="115-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="115"
            trans_unit_id="115-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="6d228195-607e-4a16-b9e0-4a465eba1a00"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="6d228195-607e-4a16-b9e0-4a465eba1a00">
        <Lines>
          <MarkdownLine>
            <LineId>d51aa0a5-2dd8-4170-b946-e89d494ce7f4</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="116">
                <SegmentId>7d8a3018-624b-4037-aebc-aa066862710d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="116"
                  trans_unit_id="116-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="117">
                <SegmentId>922dae13-b201-4828-81cf-22c63a60d8c5</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="117"
                  trans_unit_id="117-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="116">
            <SegmentId>7d8a3018-624b-4037-aebc-aa066862710d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="116"
              trans_unit_id="116-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="117">
            <SegmentId>922dae13-b201-4828-81cf-22c63a60d8c5</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="117"
              trans_unit_id="117-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="f17eb888-44f2-4e2a-b377-102ae69d0b8c"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="f17eb888-44f2-4e2a-b377-102ae69d0b8c">
        <Lines>
          <MarkdownLine>
            <LineId>3907531e-c3cb-4e1e-ae27-f073c10fc6c9</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="118">
                <SegmentId>53811cf3-69b7-49cf-b083-ca5f7fbe72de</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="118"
                  trans_unit_id="118-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="118">
            <SegmentId>53811cf3-69b7-49cf-b083-ca5f7fbe72de</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="118"
              trans_unit_id="118-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="8de518ba-7f06-4fbe-b0c2-86a63d34866f"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="8de518ba-7f06-4fbe-b0c2-86a63d34866f">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    field1, field2, …, fieldN
from
    (
    select
        field1, field2, …, fieldN, rand() as samplekey
    from &lt;hive table name&gt;
    )a
where samplekey&lt;='${hiveconf:sampleRate}'

</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="bd314a48-70f8-4792-9c79-598e10b7f2b7"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="bd314a48-70f8-4792-9c79-598e10b7f2b7">
        <Lines>
          <MarkdownLine>
            <LineId>974c44e9-97e5-40d5-9ffd-5405a255b514</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="119">
                <SegmentId>ffab08c1-a8b2-4041-a81e-8207b8059c5b</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="119"
                  trans_unit_id="119-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <CodeSpanItem
                  internal_item_id="2"
                  internal_item_parent_id="119"
                  trans_unit_id="119-2"
                  internal_item_type="CodeSpan">
                  <internal_items />
                  <ItemValue>&lt;sample rate, 0-1&gt;</ItemValue>
                </CodeSpanItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="119"
                  trans_unit_id="119-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="119">
            <SegmentId>ffab08c1-a8b2-4041-a81e-8207b8059c5b</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="119"
              trans_unit_id="119-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <CodeSpanItem
              internal_item_id="2"
              internal_item_parent_id="119"
              trans_unit_id="119-2"
              internal_item_type="CodeSpan">
              <internal_items />
              <ItemValue>&lt;sample rate, 0-1&gt;</ItemValue>
            </CodeSpanItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="119"
              trans_unit_id="119-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="85187b01-8bef-44c2-b226-a7ba08f1848c"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="85187b01-8bef-44c2-b226-a7ba08f1848c">
        <segment
          trans_unit_id="120">
          <SegmentId>c6632f2e-5dc9-474a-88aa-322d55d6abb4</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="120"
            trans_unit_id="120-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="group"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="120"
            trans_unit_id="120-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="120"
            trans_unit_id="120-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="7455f331-7a73-4d4e-815e-6007c08931a0"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="7455f331-7a73-4d4e-815e-6007c08931a0">
        <Lines>
          <MarkdownLine>
            <LineId>52576c7c-8c99-456a-aa87-7e934e8ae83b</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="121">
                <SegmentId>c0b7bd32-a81a-4465-a38d-c2c3de173c59</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="121"
                  trans_unit_id="121-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="122">
                <SegmentId>347d52e4-d71c-4f5e-aa38-ce50b65aba4d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="122"
                  trans_unit_id="122-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
          <MarkdownLine>
            <LineId>d9842989-13f1-4d72-9c15-84390274e09c</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="123">
                <SegmentId>4a09f4c0-efb0-4968-aba9-61134f0faa0f</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="123"
                  trans_unit_id="123-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="121">
            <SegmentId>c0b7bd32-a81a-4465-a38d-c2c3de173c59</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="121"
              trans_unit_id="121-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="122">
            <SegmentId>347d52e4-d71c-4f5e-aa38-ce50b65aba4d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="122"
              trans_unit_id="122-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="123">
            <SegmentId>4a09f4c0-efb0-4968-aba9-61134f0faa0f</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="123"
              trans_unit_id="123-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="0494d5bf-719e-4f0e-9cf3-8ecbeb922084"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="0494d5bf-719e-4f0e-9cf3-8ecbeb922084">
        <Lines>
          <MarkdownLine>
            <LineId>594b99f5-7521-4708-bc1d-42ce47ba08b5</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="124">
                <SegmentId>756fad58-0bc0-4b1d-8552-9e13818dfafe</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="124"
                  trans_unit_id="124-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="124">
            <SegmentId>756fad58-0bc0-4b1d-8552-9e13818dfafe</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="124"
              trans_unit_id="124-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="9f9b904b-a1e3-47a8-b003-0252ef1ead9f"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="9f9b904b-a1e3-47a8-b003-0252ef1ead9f">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    b.field1, b.field2, …, b.catfield, …, b.fieldN
from
    (
    select
        field1, field2, …, catfield, …, fieldN
    from &lt;table name&gt;
    )b
join
    (
    select
        catfield
    from
        (
        select
            catfield, rand() as samplekey
        from &lt;table name&gt;
        group by catfield
        )a
    where samplekey&lt;='${hiveconf:sampleRate}'
    )c
on b.catfield=c.catfield

</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="e0a04cd9-462c-49cb-8909-089ba0217202"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="e0a04cd9-462c-49cb-8909-089ba0217202">
        <segment
          trans_unit_id="125">
          <SegmentId>084d291c-cc7e-486a-8dda-7f1cea118728</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="125"
            trans_unit_id="125-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="stratified"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="125"
            trans_unit_id="125-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="125"
            trans_unit_id="125-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="e86fed21-1888-46c0-a3c0-95969232d2d1"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="e86fed21-1888-46c0-a3c0-95969232d2d1">
        <Lines>
          <MarkdownLine>
            <LineId>acfe7492-a790-443a-8f1f-cf11e4ce4cd6</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="126">
                <SegmentId>5046b89c-879a-4821-8190-9a0423aac983</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="126"
                  trans_unit_id="126-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="127">
                <SegmentId>778d8fac-38a1-4c25-bd87-d581a7a1db33</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="127"
                  trans_unit_id="127-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="128">
                <SegmentId>aaf1aa4c-8605-45da-9af8-f564a97bd8cf</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="128"
                  trans_unit_id="128-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="126">
            <SegmentId>5046b89c-879a-4821-8190-9a0423aac983</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="126"
              trans_unit_id="126-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="127">
            <SegmentId>778d8fac-38a1-4c25-bd87-d581a7a1db33</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="127"
              trans_unit_id="127-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="128">
            <SegmentId>aaf1aa4c-8605-45da-9af8-f564a97bd8cf</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="128"
              trans_unit_id="128-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="5c4a7aef-ce4a-451a-ac64-04ba41184e19"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="5c4a7aef-ce4a-451a-ac64-04ba41184e19">
        <Lines>
          <MarkdownLine>
            <LineId>ad16b519-e6d0-49ae-9b16-65bf5f61675a</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="129">
                <SegmentId>7312e762-4efd-4cfb-83b1-9d404c3ca7ae</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="129"
                  trans_unit_id="129-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="129">
            <SegmentId>7312e762-4efd-4cfb-83b1-9d404c3ca7ae</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="129"
              trans_unit_id="129-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="61a5beed-8f35-4044-b596-b6afd15c0601"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="61a5beed-8f35-4044-b596-b6afd15c0601">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    field1, field2, field3, ..., fieldN, state
from
    (
    select
        field1, field2, field3, ..., fieldN, state,
        count(*) over (partition by state) as state_cnt,
        rank() over (partition by state order by rand()) as state_rank
    from &lt;table name&gt;
    ) a
where state_rank &lt;= state_cnt*'${hiveconf:sampleRate}'


</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="a009e6f4-fd70-4a41-8eac-d18dd00a134f"
        item_type="NormalParagraph"
        item_footer="&#xA;&#xA;"
        trans_unit_id="a009e6f4-fd70-4a41-8eac-d18dd00a134f">
        <Lines>
          <MarkdownLine>
            <LineId>68da6b14-6588-4590-8438-7390d608cff9</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="130">
                <SegmentId>d7557694-c9b8-4614-b8d5-1f2eac009f2c</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="130"
                  trans_unit_id="130-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="130"
                  trans_unit_id="130-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>LanguageManual Sampling</internal_link_text>
                  <internal_link_url>https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Sampling</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="130"
                  trans_unit_id="130-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="130">
            <SegmentId>d7557694-c9b8-4614-b8d5-1f2eac009f2c</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="130"
              trans_unit_id="130-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="130"
              trans_unit_id="130-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>LanguageManual Sampling</internal_link_text>
              <internal_link_url>https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Sampling</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="130"
              trans_unit_id="130-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
    </ArrayOfMarkdownBlockBase>
  </block_element>
  <references>
    <ArrayOfMarkdownLinkedReference xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
  </references>
</markdown_skeleton_root>