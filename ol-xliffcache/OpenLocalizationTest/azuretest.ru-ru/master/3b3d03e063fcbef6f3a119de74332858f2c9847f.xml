<markdown_skeleton_root>
  <block_element>
    <ArrayOfMarkdownBlockBase xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="d3313bf2-6733-4617-8748-a1fa6d3e854f"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="d3313bf2-6733-4617-8748-a1fa6d3e854f">
        <Lines>
          <MarkdownLine>
            <LineId>4d7574f8-762a-4928-91aa-f5f65c18acab</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="101">
                <SegmentId>16a0e22e-2be5-4c4d-a533-9a1b653de09e</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="101"
                  trans_unit_id="101-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="102">
                <SegmentId>e1deaefe-6c20-4ff8-ba3e-c43330810a7d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="102"
                  trans_unit_id="102-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="103">
                <SegmentId>c5909d17-bfd9-439a-ad14-440a713b6e1e</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="103"
                  trans_unit_id="103-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="104">
                <SegmentId>3223eab5-f8e3-4b79-9458-f5d03a8f1dd7</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="104"
                  trans_unit_id="104-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="105">
                <SegmentId>769f249b-ef7e-446e-9309-deb64b6762c9</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="105"
                  trans_unit_id="105-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="101">
            <SegmentId>16a0e22e-2be5-4c4d-a533-9a1b653de09e</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="101"
              trans_unit_id="101-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="102">
            <SegmentId>e1deaefe-6c20-4ff8-ba3e-c43330810a7d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="102"
              trans_unit_id="102-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="103">
            <SegmentId>c5909d17-bfd9-439a-ad14-440a713b6e1e</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="103"
              trans_unit_id="103-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="104">
            <SegmentId>3223eab5-f8e3-4b79-9458-f5d03a8f1dd7</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="104"
              trans_unit_id="104-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="105">
            <SegmentId>769f249b-ef7e-446e-9309-deb64b6762c9</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="105"
              trans_unit_id="105-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="7930e7c8-43d3-4cb3-afb5-46fe22988510"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="7930e7c8-43d3-4cb3-afb5-46fe22988510">
        <Lines>
          <MarkdownLine>
            <LineId>4f1fd9b7-642e-4313-afb9-76cbe2166d9d</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="106">
                <SegmentId>4411ccfc-7d85-443d-9f2c-2c0fc6740969</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="106"
                  trans_unit_id="106-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="107">
                <SegmentId>97ec51e9-6e6a-4da5-a4e8-1b5c6dc405c2</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="107"
                  trans_unit_id="107-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="107"
                  trans_unit_id="107-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>ServiceFilter</internal_link_text>
                  <internal_link_url>http://dl.windowsazure.com/androiddocs/com/microsoft/windowsazure/mobileservices/ServiceFilter.html</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="107"
                  trans_unit_id="107-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="4"
                  internal_item_parent_id="107"
                  trans_unit_id="107-4"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Android client library</internal_link_text>
                  <internal_link_url>http://dl.windowsazure.com/androiddocs/</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="5"
                  internal_item_parent_id="107"
                  trans_unit_id="107-5"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="106">
            <SegmentId>4411ccfc-7d85-443d-9f2c-2c0fc6740969</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="106"
              trans_unit_id="106-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="107">
            <SegmentId>97ec51e9-6e6a-4da5-a4e8-1b5c6dc405c2</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="107"
              trans_unit_id="107-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="107"
              trans_unit_id="107-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>ServiceFilter</internal_link_text>
              <internal_link_url>http://dl.windowsazure.com/androiddocs/com/microsoft/windowsazure/mobileservices/ServiceFilter.html</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="107"
              trans_unit_id="107-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="4"
              internal_item_parent_id="107"
              trans_unit_id="107-4"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Android client library</internal_link_text>
              <internal_link_url>http://dl.windowsazure.com/androiddocs/</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="5"
              internal_item_parent_id="107"
              trans_unit_id="107-5"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="0b88abef-0fa7-49bb-9967-72a52a2ea0ab"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="0b88abef-0fa7-49bb-9967-72a52a2ea0ab">
        <Lines>
          <MarkdownLine>
            <LineId>9b7ac81c-b214-429f-b116-ae3f9beef410</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="108">
                <SegmentId>61ba6e9b-8276-4095-983e-a3a643bd4602</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="108"
                  trans_unit_id="108-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="109">
                <SegmentId>59e21622-865a-4d4b-96d1-5a943e21d92e</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="109"
                  trans_unit_id="109-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="108">
            <SegmentId>61ba6e9b-8276-4095-983e-a3a643bd4602</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="108"
              trans_unit_id="108-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="109">
            <SegmentId>59e21622-865a-4d4b-96d1-5a943e21d92e</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="109"
              trans_unit_id="109-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="6a83fa7e-af02-484c-85ed-ddf10be47433"
        item_type="List"
        item_footer="&#xA;&#xA;&#xA;&#xA;"
        trans_unit_id="6a83fa7e-af02-484c-85ed-ddf10be47433">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="1bf8554b-64c8-4328-8d22-3090a62b170c"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="1bf8554b-64c8-4328-8d22-3090a62b170c">
              <Lines>
                <MarkdownLine>
                  <LineId>1d540b46-06b5-4a3c-a1ad-58ffe5726a74</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="110">
                      <SegmentId>6eac736e-4459-49d1-9bb4-71b64d8550bb</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="110"
                        trans_unit_id="110-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="110">
                  <SegmentId>6eac736e-4459-49d1-9bb4-71b64d8550bb</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="110"
                    trans_unit_id="110-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="5e50b69a-e78f-4625-99f3-592370c41c75"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="5e50b69a-e78f-4625-99f3-592370c41c75">
              <code_block> import java.util.concurrent.atomic.AtomicBoolean;
 import java.util.concurrent.ExecutionException;

 import com.microsoft.windowsazure.mobileservices.MobileServiceException;

</code_block>
            </MarkdownCodeBlock>
            <Identifier>1.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="1c6dc823-7bfe-44da-890f-f5d554bd1f63"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="1c6dc823-7bfe-44da-890f-f5d554bd1f63">
              <Lines>
                <MarkdownLine>
                  <LineId>0ab38e4a-ba9e-439f-809f-6bfcee20b3e9</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="111">
                      <SegmentId>f2ddfce7-6894-44ec-8cf2-81016d36783a</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="111"
                        trans_unit_id="111-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <CodeSpanItem
                        internal_item_id="2"
                        internal_item_parent_id="111"
                        trans_unit_id="111-2"
                        internal_item_type="CodeSpan">
                        <internal_items />
                        <ItemValue>ToDoActivity</ItemValue>
                      </CodeSpanItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="111"
                        trans_unit_id="111-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="111">
                  <SegmentId>f2ddfce7-6894-44ec-8cf2-81016d36783a</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="111"
                    trans_unit_id="111-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <CodeSpanItem
                    internal_item_id="2"
                    internal_item_parent_id="111"
                    trans_unit_id="111-2"
                    internal_item_type="CodeSpan">
                    <internal_items />
                    <ItemValue>ToDoActivity</ItemValue>
                  </CodeSpanItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="111"
                    trans_unit_id="111-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="e2c2851d-6182-484d-8861-5fa6e8337b2a"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="e2c2851d-6182-484d-8861-5fa6e8337b2a">
              <code_block> public boolean bAuthenticating = false;
 public final Object mAuthenticationLock = new Object();

</code_block>
            </MarkdownCodeBlock>
            <MarkdownParagraphBlock
              item_id="6fe9ced4-6762-45e5-bb24-f38981d1df40"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="6fe9ced4-6762-45e5-bb24-f38981d1df40">
              <Lines>
                <MarkdownLine>
                  <LineId>cd0acee7-5155-4153-bc38-f729d32b2e57</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="112">
                      <SegmentId>e2e204b7-4310-4f9c-9594-31edab4d2cdf</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="112"
                        trans_unit_id="112-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="113">
                      <SegmentId>a1dff19d-c6d2-455f-8213-fb00e9c25706</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="113"
                        trans_unit_id="113-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="114">
                      <SegmentId>6130e224-3f3e-48d3-8c91-9fd12d0cf84b</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="114"
                        trans_unit_id="114-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="112">
                  <SegmentId>e2e204b7-4310-4f9c-9594-31edab4d2cdf</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="112"
                    trans_unit_id="112-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="113">
                  <SegmentId>a1dff19d-c6d2-455f-8213-fb00e9c25706</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="113"
                    trans_unit_id="113-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="114">
                  <SegmentId>6130e224-3f3e-48d3-8c91-9fd12d0cf84b</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="114"
                    trans_unit_id="114-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>2.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="5cd323c7-17e1-450d-ac37-27f354423a73"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="5cd323c7-17e1-450d-ac37-27f354423a73">
              <Lines>
                <MarkdownLine>
                  <LineId>7323a803-c3a5-46ae-8ba2-4e2fb01b0d12</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="115">
                      <SegmentId>ebf900b1-0d0b-4ca3-a584-f20c1beeca46</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="115"
                        trans_unit_id="115-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="115">
                  <SegmentId>ebf900b1-0d0b-4ca3-a584-f20c1beeca46</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="115"
                    trans_unit_id="115-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="71aa1ea2-1f3a-4cbe-a1f7-88e7595df29a"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="71aa1ea2-1f3a-4cbe-a1f7-88e7595df29a">
              <code_block> /**
  * Detects if authentication is in progress and waits for it to complete. 
  * Returns true if authentication was detected as in progress. False otherwise.
  */
 public boolean detectAndWaitForAuthentication()
 {
     boolean detected = false;
     synchronized(mAuthenticationLock)
     {
         do
         {
             if (bAuthenticating == true)
                 detected = true;
             try
             {
                 mAuthenticationLock.wait(1000);
             }
             catch(InterruptedException e)
             {}
         }
         while(bAuthenticating == true);
     }
     if (bAuthenticating == true)
         return true;

     return detected;
 }

</code_block>
            </MarkdownCodeBlock>
            <Identifier>3.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="32769329-5285-4fc8-90e6-7d75ae1817a5"
              item_type="NormalParagraph"
              item_footer="&#xA;"
              trans_unit_id="32769329-5285-4fc8-90e6-7d75ae1817a5">
              <Lines>
                <MarkdownLine>
                  <LineId>1f671ed5-fa3a-428b-8951-4b4ec0405fb5</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="116">
                      <SegmentId>94876c01-0a3b-4709-b5e7-b7db6240a96a</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="116"
                        trans_unit_id="116-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="117">
                      <SegmentId>a299ec65-5ad9-4e93-aa4a-2fff12c5b4bf</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="117"
                        trans_unit_id="117-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="116">
                  <SegmentId>94876c01-0a3b-4709-b5e7-b7db6240a96a</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="116"
                    trans_unit_id="116-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="117">
                  <SegmentId>a299ec65-5ad9-4e93-aa4a-2fff12c5b4bf</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="117"
                    trans_unit_id="117-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="cb662747-7b8d-4b94-8c12-540e652e8b37"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="cb662747-7b8d-4b94-8c12-540e652e8b37">
              <code_block> /**
  * Waits for authentication to complete then adds or updates the token 
  * in the X-ZUMO-AUTH request header.
  * 
  * @param request
  *            The request that receives the updated token.
  */
 private void waitAndUpdateRequestToken(ServiceFilterRequest request)
 {
     MobileServiceUser user = null;
     if (detectAndWaitForAuthentication())
     {
         user = mClient.getCurrentUser();
         if (user != null)
         {
             request.removeHeader("X-ZUMO-AUTH");
             request.addHeader("X-ZUMO-AUTH", user.getAuthenticationToken());
         }
     }
 }

</code_block>
            </MarkdownCodeBlock>
            <Identifier>4.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="e8fc6105-c184-4038-a2f1-87f1f4612c0c"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="e8fc6105-c184-4038-a2f1-87f1f4612c0c">
              <Lines>
                <MarkdownLine>
                  <LineId>37ac3a1d-2cc0-492f-8b1a-45fe3a53302f</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="118">
                      <SegmentId>be1788c9-7d1b-42fd-a1aa-baa516a152bc</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="118"
                        trans_unit_id="118-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <CodeSpanItem
                        internal_item_id="2"
                        internal_item_parent_id="118"
                        trans_unit_id="118-2"
                        internal_item_type="CodeSpan">
                        <internal_items />
                        <ItemValue>authenticate</ItemValue>
                      </CodeSpanItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="118"
                        trans_unit_id="118-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="119">
                      <SegmentId>c684351d-b5a6-45bb-9319-35360bd9aefd</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="119"
                        trans_unit_id="119-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="118">
                  <SegmentId>be1788c9-7d1b-42fd-a1aa-baa516a152bc</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="118"
                    trans_unit_id="118-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <CodeSpanItem
                    internal_item_id="2"
                    internal_item_parent_id="118"
                    trans_unit_id="118-2"
                    internal_item_type="CodeSpan">
                    <internal_items />
                    <ItemValue>authenticate</ItemValue>
                  </CodeSpanItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="118"
                    trans_unit_id="118-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="119">
                  <SegmentId>c684351d-b5a6-45bb-9319-35360bd9aefd</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="119"
                    trans_unit_id="119-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="4c0dcfcc-fe82-4122-9be9-198011d4a1cc"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="4c0dcfcc-fe82-4122-9be9-198011d4a1cc">
              <code_block> /**
  * Authenticates with the desired login provider. Also caches the token. 
  * 
  * If a local token cache is detected, the token cache is used instead of an actual 
  * login unless bRefresh is set to true forcing a refresh.
  * 
  * @param bRefreshCache
  *            Indicates whether to force a token refresh. 
  */
 private void authenticate(boolean bRefreshCache) {

     bAuthenticating = true;

     if (bRefreshCache || !loadUserTokenCache(mClient))
     {
         // New login using the provider and update the token cache.
         mClient.login(MobileServiceAuthenticationProvider.MicrosoftAccount,
                 new UserAuthenticationCallback() {
                     @Override
                     public void onCompleted(MobileServiceUser user,
                             Exception exception, ServiceFilterResponse response) {

                         synchronized(mAuthenticationLock)
                         {
                             if (exception == null) {
                                 cacheUserToken(mClient.getCurrentUser());
                                 createTable();
                             } else {
                                 createAndShowDialog(exception.getMessage(), "Login Error");
                             }
                             bAuthenticating = false;
                             mAuthenticationLock.notifyAll();
                         }
                     }
                 });
     }
     else
     {
         // Other threads may be blocked waiting to be notified when 
         // authentication is complete.
         synchronized(mAuthenticationLock)
         {
             bAuthenticating = false;
             mAuthenticationLock.notifyAll();
         }
         createTable();
     }
 }   

</code_block>
            </MarkdownCodeBlock>
            <Identifier>5.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="c5b9772f-e7c0-4a3e-8842-9ea0abcb82ba"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="c5b9772f-e7c0-4a3e-8842-9ea0abcb82ba">
              <Lines>
                <MarkdownLine>
                  <LineId>4fb8ff58-5a5d-4292-a1c0-81d4003219a5</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="120">
                      <SegmentId>f70ddb7a-fd8e-49ef-b244-1548d911980f</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="120"
                        trans_unit_id="120-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <CodeSpanItem
                        internal_item_id="2"
                        internal_item_parent_id="120"
                        trans_unit_id="120-2"
                        internal_item_type="CodeSpan">
                        <internal_items />
                        <ItemValue>RefreshTokenCacheFilter</ItemValue>
                      </CodeSpanItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="120"
                        trans_unit_id="120-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="120">
                  <SegmentId>f70ddb7a-fd8e-49ef-b244-1548d911980f</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="120"
                    trans_unit_id="120-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <CodeSpanItem
                    internal_item_id="2"
                    internal_item_parent_id="120"
                    trans_unit_id="120-2"
                    internal_item_type="CodeSpan">
                    <internal_items />
                    <ItemValue>RefreshTokenCacheFilter</ItemValue>
                  </CodeSpanItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="120"
                    trans_unit_id="120-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="727c22b0-0dad-4b3e-8133-13844bbe73fb"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="727c22b0-0dad-4b3e-8133-13844bbe73fb">
              <code_block> /**
 * The RefreshTokenCacheFilter class filters responses for HTTP status code 401. 
  * When 401 is encountered, the filter calls the authenticate method on the 
  * UI thread. Out going requests and retries are blocked during authentication. 
  * Once authentication is complete, the token cache is updated and 
  * any blocked request will receive the X-ZUMO-AUTH header added or updated to 
  * that request.   
  */
 private class RefreshTokenCacheFilter implements ServiceFilter {

     AtomicBoolean mAtomicAuthenticatingFlag = new AtomicBoolean();                     

     @Override
     public ListenableFuture&lt;ServiceFilterResponse&gt; handleRequest(
             final ServiceFilterRequest request, 
             final NextServiceFilterCallback nextServiceFilterCallback
             )
     {
         // In this example, if authentication is already in progress we block the request
         // until authentication is complete to avoid unnecessary authentications as 
         // a result of HTTP status code 401. 
         // If authentication was detected, add the token to the request.
         waitAndUpdateRequestToken(request);

         // Send the request down the filter chain
         // retrying up to 5 times on 401 response codes.
         ListenableFuture&lt;ServiceFilterResponse&gt; future = null;
         ServiceFilterResponse response = null;
         int responseCode = 401;
         for (int i = 0; (i &lt; 5 ) &amp;&amp; (responseCode == 401); i++)
         {
             future = nextServiceFilterCallback.onNext(request);
             try {
                 response = future.get();
                 responseCode = response.getStatus().getStatusCode();
             } catch (InterruptedException e) {
                e.printStackTrace();
             } catch (ExecutionException e) {
                 if (e.getCause().getClass() == MobileServiceException.class)
                 {
                     MobileServiceException mEx = (MobileServiceException) e.getCause();
                     responseCode = mEx.getResponse().getStatus().getStatusCode();
                     if (responseCode == 401)
                     {
                         // Two simultaneous requests from independent threads could get HTTP status 401. 
                         // Protecting against that right here so multiple authentication requests are
                         // not setup to run on the UI thread.
                         // We only want to authenticate once. Requests should just wait and retry 
                         // with the new token.
                         if (mAtomicAuthenticatingFlag.compareAndSet(false, true))                                                                                                      
                         {
                             // Authenticate on UI thread
                             runOnUiThread(new Runnable() {
                                 @Override
                                 public void run() {
                                     // Force a token refresh during authentication.
                                     authenticate(true);
                                 }
                             });
                         }

                         // Wait for authentication to complete then update the token in the request. 
                         waitAndUpdateRequestToken(request);
                         mAtomicAuthenticatingFlag.set(false);                                                  
                     }
                 }
             }
         }
         return future;
     }
 }


</code_block>
            </MarkdownCodeBlock>
            <MarkdownParagraphBlock
              item_id="bc7f618d-c766-4e1c-9d6b-1da06f106d5b"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="bc7f618d-c766-4e1c-9d6b-1da06f106d5b">
              <Lines>
                <MarkdownLine>
                  <LineId>3442e39a-9794-42c5-a8a1-c382a24bc317</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="121">
                      <SegmentId>d8c70d96-292c-4245-a1da-3275eccce21c</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="121"
                        trans_unit_id="121-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="122">
                      <SegmentId>e684620d-6456-4d0d-be49-ca037fe319a4</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="122"
                        trans_unit_id="122-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="123">
                      <SegmentId>88677c14-4fa2-494d-822e-7e3fb8af0407</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="123"
                        trans_unit_id="123-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="124">
                      <SegmentId>0e4fc8bc-02ad-44bb-a7d0-660d8921de89</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="124"
                        trans_unit_id="124-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="121">
                  <SegmentId>d8c70d96-292c-4245-a1da-3275eccce21c</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="121"
                    trans_unit_id="121-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="122">
                  <SegmentId>e684620d-6456-4d0d-be49-ca037fe319a4</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="122"
                    trans_unit_id="122-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="123">
                  <SegmentId>88677c14-4fa2-494d-822e-7e3fb8af0407</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="123"
                    trans_unit_id="123-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="124">
                  <SegmentId>0e4fc8bc-02ad-44bb-a7d0-660d8921de89</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="124"
                    trans_unit_id="124-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>6.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="3951823b-9bfc-4e19-9abd-4dde7963cf1c"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="3951823b-9bfc-4e19-9abd-4dde7963cf1c">
              <Lines>
                <MarkdownLine>
                  <LineId>9a592749-49e1-4866-9b30-040231ac3429</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="125">
                      <SegmentId>d9c8c979-c7b4-4efc-a127-4b8293b09e99</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="125"
                        trans_unit_id="125-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <CodeSpanItem
                        internal_item_id="2"
                        internal_item_parent_id="125"
                        trans_unit_id="125-2"
                        internal_item_type="CodeSpan">
                        <internal_items />
                        <ItemValue>ProgressFilter</ItemValue>
                      </CodeSpanItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="125"
                        trans_unit_id="125-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="125">
                  <SegmentId>d9c8c979-c7b4-4efc-a127-4b8293b09e99</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="125"
                    trans_unit_id="125-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <CodeSpanItem
                    internal_item_id="2"
                    internal_item_parent_id="125"
                    trans_unit_id="125-2"
                    internal_item_type="CodeSpan">
                    <internal_items />
                    <ItemValue>ProgressFilter</ItemValue>
                  </CodeSpanItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="125"
                    trans_unit_id="125-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="efdc2888-f550-402d-9436-34d62e247333"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="efdc2888-f550-402d-9436-34d62e247333">
              <code_block> /**
 * The ProgressFilter class renders a progress bar on the screen during the time the App is waiting for the response of a previous request.
 * the filter shows the progress bar on the beginning of the request, and hides it when the response arrived.
 */
 private class ProgressFilter implements ServiceFilter {
     @Override
     public ListenableFuture&lt;ServiceFilterResponse&gt; handleRequest(ServiceFilterRequest request, NextServiceFilterCallback nextServiceFilterCallback) {

         final SettableFuture&lt;ServiceFilterResponse&gt; resultFuture = SettableFuture.create();

         runOnUiThread(new Runnable() {

             @Override
             public void run() {
                 if (mProgressBar != null) mProgressBar.setVisibility(ProgressBar.VISIBLE);
             }
         });

         ListenableFuture&lt;ServiceFilterResponse&gt; future = nextServiceFilterCallback.onNext(request);

         Futures.addCallback(future, new FutureCallback&lt;ServiceFilterResponse&gt;() {
             @Override
             public void onFailure(Throwable e) {
                 resultFuture.setException(e);
             }

             @Override
             public void onSuccess(ServiceFilterResponse response) {
                 runOnUiThread(new Runnable() {

                     @Override
                     public void run() {
                         if (mProgressBar != null) mProgressBar.setVisibility(ProgressBar.GONE);
                     }
                 });

                 resultFuture.set(response);
             }
         });

         return resultFuture;
     }
 }

</code_block>
            </MarkdownCodeBlock>
            <MarkdownParagraphBlock
              item_id="8e420d66-6b39-481a-96c4-aa99d67c84d1"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="8e420d66-6b39-481a-96c4-aa99d67c84d1">
              <Lines>
                <MarkdownLine>
                  <LineId>d002588e-f1f0-4787-aa1a-bb9e9757f6b9</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="126">
                      <SegmentId>9552a860-5b39-43a7-a98f-4d3f8d4af57e</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="126"
                        trans_unit_id="126-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="126">
                  <SegmentId>9552a860-5b39-43a7-a98f-4d3f8d4af57e</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="126"
                    trans_unit_id="126-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>7.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="15a21f31-f8cd-4a66-8cd5-d96e264b815a"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="15a21f31-f8cd-4a66-8cd5-d96e264b815a">
              <Lines>
                <MarkdownLine>
                  <LineId>36224b5c-30a0-42f6-90c2-3338580d0dc6</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="127">
                      <SegmentId>e7cb3a9b-8cca-4806-84c3-78991f79efef</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="127"
                        trans_unit_id="127-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <CodeSpanItem
                        internal_item_id="2"
                        internal_item_parent_id="127"
                        trans_unit_id="127-2"
                        internal_item_type="CodeSpan">
                        <internal_items />
                        <ItemValue>onCreate</ItemValue>
                      </CodeSpanItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="127"
                        trans_unit_id="127-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="127">
                  <SegmentId>e7cb3a9b-8cca-4806-84c3-78991f79efef</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="127"
                    trans_unit_id="127-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <CodeSpanItem
                    internal_item_id="2"
                    internal_item_parent_id="127"
                    trans_unit_id="127-2"
                    internal_item_type="CodeSpan">
                    <internal_items />
                    <ItemValue>onCreate</ItemValue>
                  </CodeSpanItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="127"
                    trans_unit_id="127-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="b7c44965-a8a9-4f43-821e-e00163c01969"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="b7c44965-a8a9-4f43-821e-e00163c01969">
              <code_block> @Override
 public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);

     setContentView(R.layout.activity_to_do);
     mProgressBar = (ProgressBar) findViewById(R.id.loadingProgressBar);

     // Initialize the progress bar
     mProgressBar.setVisibility(ProgressBar.GONE);

     try {
         // Create the Mobile Service Client instance, using the provided
         // Mobile Service URL and key
         mClient = new MobileServiceClient(
                 "https://&lt;YOUR MOBILE SERVICE&gt;.azure-mobile.net/",
                 "&lt;YOUR MOBILE SERVICE KEY&gt;", this)
                    .withFilter(new ProgressFilter())
                    .withFilter(new RefreshTokenCacheFilter());

         // Authenticate passing false to load the current token cache if available.
         authenticate(false);

     } catch (MalformedURLException e) {
         createAndShowDialog(new Exception("Error creating the Mobile Service. " +
             "Verify the URL"), "Error");
     }
 }


In this code, `RefreshTokenCacheFilter` is used in addition to `ProgressFilter`. Also during `onCreate` we want to load the token cache. So `false` is passed in to the `authenticate` method.
</code_block>
            </MarkdownCodeBlock>
            <Identifier>8.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Number</ListType>
      </MarkdownBlockBase>
    </ArrayOfMarkdownBlockBase>
  </block_element>
  <references>
    <ArrayOfMarkdownLinkedReference xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
  </references>
</markdown_skeleton_root>