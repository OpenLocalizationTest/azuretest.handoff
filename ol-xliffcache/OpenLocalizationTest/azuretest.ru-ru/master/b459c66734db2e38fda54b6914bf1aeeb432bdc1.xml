<markdown_skeleton_root>
  <block_element>
    <ArrayOfMarkdownBlockBase xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownBlockBase
        xsi:type="MarkdownAzureMetadataBlock"
        item_id="0805a73c-6271-43b7-8015-d73ebe2dcea4"
        item_type="AzureMetadata"
        item_footer="footer_not_set"
        trans_unit_id="0805a73c-6271-43b7-8015-d73ebe2dcea4">
        <LocalizeItemList>
          <MarkdownInternalXmlItem
            internal_item_id="ae484410-1bd6-44c2-8b0e-1def00aa9d68"
            trans_unit_id="101"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
          <MarkdownInternalXmlItem
            internal_item_id="a3ce0e94-ea8b-4239-9387-8bb4bc250920"
            trans_unit_id="102"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
        </LocalizeItemList>
        <ItemValue>&lt;properties 
   pageTitle="ae484410-1bd6-44c2-8b0e-1def00aa9d68"
   description="a3ce0e94-ea8b-4239-9387-8bb4bc250920"
   services="event-hubs"
   documentationCenter="na"
   authors="sethmanheim"
   manager="timlt"
   editor="" /&gt;
&lt;tags 
   ms.service="event-hubs"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="tbd"
   ms.date="07/10/2015"
   ms.author="sethm" /&gt;

</ItemValue>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="6efa3ca4-7871-49a1-83f8-9d2c666fe695"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="6efa3ca4-7871-49a1-83f8-9d2c666fe695">
        <segment
          trans_unit_id="103">
          <SegmentId>fb349592-0f5a-435c-bfcf-accb5c4bf539</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="103"
            trans_unit_id="103-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>1</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="1defd23d-4d78-4f06-a021-a803b86f557d"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="1defd23d-4d78-4f06-a021-a803b86f557d">
        <Lines>
          <MarkdownLine>
            <LineId>495b2630-e973-4f44-8d8e-0883f688a137</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="104">
                <SegmentId>e0a0889f-1047-465e-acd0-c2711ae90db0</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="104"
                  trans_unit_id="104-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="105">
                <SegmentId>431b6ee1-54d1-49d6-af4a-e1517e6b4a5c</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="105"
                  trans_unit_id="105-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="106">
                <SegmentId>77c0fdc3-7123-4a97-a1e6-7d5578f4514d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="106"
                  trans_unit_id="106-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="107">
                <SegmentId>23d51287-83a4-4810-b2c5-84ffffbbb8ab</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="107"
                  trans_unit_id="107-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="104">
            <SegmentId>e0a0889f-1047-465e-acd0-c2711ae90db0</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="104"
              trans_unit_id="104-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="105">
            <SegmentId>431b6ee1-54d1-49d6-af4a-e1517e6b4a5c</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="105"
              trans_unit_id="105-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="106">
            <SegmentId>77c0fdc3-7123-4a97-a1e6-7d5578f4514d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="106"
              trans_unit_id="106-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="107">
            <SegmentId>23d51287-83a4-4810-b2c5-84ffffbbb8ab</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="107"
              trans_unit_id="107-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="a2f00b42-6235-497a-befb-c8c98256ddfc"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="a2f00b42-6235-497a-befb-c8c98256ddfc">
        <Lines>
          <MarkdownLine>
            <LineId>74fdeb85-7d39-46a0-8a20-ab2557630a78</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="108">
                <SegmentId>fe3802fe-8b1d-47e7-9e38-af332fc375f9</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="108"
                  trans_unit_id="108-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="109">
                <SegmentId>a9455616-0458-482e-846e-ca5fb000e885</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="109"
                  trans_unit_id="109-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="109"
                  trans_unit_id="109-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>.NET Class Library</internal_link_text>
                  <internal_link_url>https://msdn.microsoft.com/library/jj933431.aspx</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="109"
                  trans_unit_id="109-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="4"
                  internal_item_parent_id="109"
                  trans_unit_id="109-4"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>EventProcessorHost API</internal_link_text>
                  <internal_link_url>https://msdn.microsoft.com/library/microsoft.servicebus.messaging.aspx</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="5"
                  internal_item_parent_id="109"
                  trans_unit_id="109-5"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="108">
            <SegmentId>fe3802fe-8b1d-47e7-9e38-af332fc375f9</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="108"
              trans_unit_id="108-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="109">
            <SegmentId>a9455616-0458-482e-846e-ca5fb000e885</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="109"
              trans_unit_id="109-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="109"
              trans_unit_id="109-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>.NET Class Library</internal_link_text>
              <internal_link_url>https://msdn.microsoft.com/library/jj933431.aspx</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="109"
              trans_unit_id="109-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="4"
              internal_item_parent_id="109"
              trans_unit_id="109-4"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>EventProcessorHost API</internal_link_text>
              <internal_link_url>https://msdn.microsoft.com/library/microsoft.servicebus.messaging.aspx</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="5"
              internal_item_parent_id="109"
              trans_unit_id="109-5"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="4f1f37f1-c821-4574-824a-53a140b72c08"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="4f1f37f1-c821-4574-824a-53a140b72c08">
        <segment
          trans_unit_id="110">
          <SegmentId>f2b430ea-99ac-4fef-8747-b6dbd7d7afea</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="110"
            trans_unit_id="110-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="ead257de-bf24-40c7-b849-4ec61df82751"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="ead257de-bf24-40c7-b849-4ec61df82751">
        <Lines>
          <MarkdownLine>
            <LineId>24c62952-be59-4824-a6d7-71e5eef29b46</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="111">
                <SegmentId>40fa6415-1313-4130-ba62-31313bb6ef64</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="111"
                  trans_unit_id="111-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <MarkdownInternalBoldItem
                  internal_item_id="2"
                  internal_item_parent_id="111"
                  trans_unit_id="111-2"
                  internal_item_type="Bold">
                  <internal_items />
                  <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                </MarkdownInternalBoldItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="111"
                  trans_unit_id="111-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="111">
            <SegmentId>40fa6415-1313-4130-ba62-31313bb6ef64</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="111"
              trans_unit_id="111-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <MarkdownInternalBoldItem
              internal_item_id="2"
              internal_item_parent_id="111"
              trans_unit_id="111-2"
              internal_item_type="Bold">
              <internal_items />
              <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
            </MarkdownInternalBoldItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="111"
              trans_unit_id="111-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="3c144212-a43d-4d3b-b761-efefa4d30728"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="3c144212-a43d-4d3b-b761-efefa4d30728">
        <segment
          trans_unit_id="112">
          <SegmentId>93b95215-c059-4bb2-8644-6ca0cc3fb18d</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="112"
            trans_unit_id="112-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="9b07ba39-aa42-46f1-a8f6-d8e5aa527bea"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="9b07ba39-aa42-46f1-a8f6-d8e5aa527bea">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// Create the Event Hub
EventHubDescription ehd = new EventHubDescription(eventHubName);
ehd.PartitionCount = SampleManager.numPartitions;
namespaceManager.CreateEventHubAsync(ehd).Wait();</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="323ad490-6b92-46f6-aa07-8524ba77a229"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="323ad490-6b92-46f6-aa07-8524ba77a229">
        <segment
          trans_unit_id="113">
          <SegmentId>a2095e2c-0677-494f-92fb-8278bdda4b51</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="113"
            trans_unit_id="113-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="1ecf4824-0350-4a68-8987-a766bd4e29a2"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="1ecf4824-0350-4a68-8987-a766bd4e29a2">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>EventHubDescription ehd = await namespaceManager.GetEventHubAsync(eventHubName);

// Create a customer SAS rule with Manage permissions
ehd.UserMetadata = "Some updated info";
string ruleName = "myeventhubmanagerule";
string ruleKey = SharedAccessAuthorizationRule.GenerateRandomKey();
ehd.Authorization.Add(new SharedAccessAuthorizationRule(ruleName, ruleKey, new AccessRights[] {AccessRights.Manage, AccessRights.Listen, AccessRights.Send} )); 
namespaceManager.UpdateEventHubAsync(ehd).Wait();</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="17b116d6-ce36-4e1a-a909-35f9834eeb05"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="17b116d6-ce36-4e1a-a909-35f9834eeb05">
        <segment
          trans_unit_id="114">
          <SegmentId>dcfb232a-1f7d-4c84-954a-15f6515d0e26</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="114"
            trans_unit_id="114-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="0eb40ee6-3a71-4350-bd8c-2551ab022ba1"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="0eb40ee6-3a71-4350-bd8c-2551ab022ba1">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>namespaceManager.DeleteEventHubAsync("event hub name").Wait();</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="58893afa-f207-42ac-9420-f233a662dc85"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="58893afa-f207-42ac-9420-f233a662dc85">
        <segment
          trans_unit_id="115">
          <SegmentId>477c9d85-1e3e-41db-bae3-957d7395c21e</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="115"
            trans_unit_id="115-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="56ffafef-4823-4e2e-a6c6-793b4debff27"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="56ffafef-4823-4e2e-a6c6-793b4debff27">
        <segment
          trans_unit_id="116">
          <SegmentId>b3beba2f-020a-485b-9141-1e64398a4092</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="116"
            trans_unit_id="116-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="7be296c6-ff74-4bd5-8930-a262b3851e43"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="7be296c6-ff74-4bd5-8930-a262b3851e43">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// EventHubClient model (uses implicit factory instance, so all links on same connection)
EventHubClient eventHubClient = EventHubClient.Create("event hub name");</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="81da3aa1-5fae-4b2c-ad60-392d8093e2b5"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="81da3aa1-5fae-4b2c-ad60-392d8093e2b5">
        <segment
          trans_unit_id="117">
          <SegmentId>95f40d5c-fd4c-44e2-97b2-614945376cda</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="117"
            trans_unit_id="117-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="55513f1d-0aac-4628-b33e-5d97d450e815"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="55513f1d-0aac-4628-b33e-5d97d450e815">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// Create the device/temperature metric
MetricEvent info = new MetricEvent() { DeviceId = random.Next(SampleManager.NumDevices), Temperature = random.Next(100) };
EventData data = new EventData(new byte[10]); // Byte array
EventData data = new EventData(Stream); // Stream 
EventData data = new EventData(info, serializer) //Object and serializer 
    {
       PartitionKey = info.DeviceId.ToString()
    };

// Set user properties if needed
data.Properties.Add("Type", "Telemetry_" + DateTime.Now.ToLongTimeString());

// Send single message async
await client.SendAsync(data);</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="0847c151-04f1-4adb-a5de-201577f51f7f"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="0847c151-04f1-4adb-a5de-201577f51f7f">
        <segment
          trans_unit_id="118">
          <SegmentId>0f7987d3-4edb-4946-b858-872ab4b273b0</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="118"
            trans_unit_id="118-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="df603e84-cf42-42a5-8ff6-764c34eefa3f"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="df603e84-cf42-42a5-8ff6-764c34eefa3f">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// Create the Event Hub client
EventHubClient eventHubClient = EventHubClient.Create(EventHubName);

// Get the default subscriber group
EventHubSubscriberGroup defaultSubscriberGroup = eventHubClient.GetDefaultSubscriberGroup();

// All messages
EventHubReceiver consumer = await defaultConsumerGroup.CreateReceiverAsync(shardId: index);

// From one day ago
EventHubReceiver consumer = await defaultConsumerGroup.CreateReceiverAsync(shardId: index, startingDateTimeUtc:DateTime.Now.AddDays(-1));

// From specific offset, -1 means oldest
EventHubReceiver consumer = await defaultConsumerGroup.CreateReceiverAsync(shardId: index,startingOffset:-1); </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="e7e134bd-f268-460f-af7b-babd56cafa60"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="e7e134bd-f268-460f-af7b-babd56cafa60">
        <segment
          trans_unit_id="119">
          <SegmentId>a2d72ac7-7e09-491c-8dd5-6609d04f1689</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="119"
            trans_unit_id="119-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="e5edafe2-4443-42cf-9819-73c77cbebf37"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="e5edafe2-4443-42cf-9819-73c77cbebf37">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>var message = await consumer.ReceiveAsync();

// Provide a serializer
var info = message.GetBody&lt;Type&gt;(Serializer)

// Get a byte[]
var info = message.GetBytes(); 
msg = UnicodeEncoding.UTF8.GetString(info);</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="f394a082-7bb6-4f3c-9a96-a9e7bbe0beb2"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="f394a082-7bb6-4f3c-9a96-a9e7bbe0beb2">
        <segment
          trans_unit_id="120">
          <SegmentId>df990181-2316-4386-a901-4402e0800ed3</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="120"
            trans_unit_id="120-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="e0890cf2-4719-4c9c-b084-def537b2cb5c"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="e0890cf2-4719-4c9c-b084-def537b2cb5c">
        <Lines>
          <MarkdownLine>
            <LineId>b45383f9-02df-4109-ac38-94ce7d4b13ed</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="121">
                <SegmentId>529f1157-20fb-4730-94a9-20a6863b20cf</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="121"
                  trans_unit_id="121-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="121">
            <SegmentId>529f1157-20fb-4730-94a9-20a6863b20cf</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="121"
              trans_unit_id="121-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="6e5a6ce3-b422-4bd3-a824-3736bd649f13"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="6e5a6ce3-b422-4bd3-a824-3736bd649f13">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// Checkpointing is done within the SimpleEventProcessor and on a per-consumerGroup per-partition basis, workers resume from where they last left off.
// Use the EventData.Offset value for checkpointing yourself, this value is unique per partition.
string eventHubConnectionString = System.Configuration.ConfigurationManager.AppSettings["Microsoft.ServiceBus.ConnectionString"];
string blobConnectionString = System.Configuration.ConfigurationManager.AppSettings["AzureStorageConnectionString"]; // Required for checkpoint/state

EventHubDescription eventHubDescription = new EventHubDescription(EventHubName);
EventProcessorHost host = new EventProcessorHost(WorkerName, EventHubName, defaultConsumerGroup.GroupName, eventHubConnectionString, blobConnectionString);
            host.RegisterEventProcessorAsync&lt;SimpleEventProcessor&gt;();

// To close
host.UnregisterEventProcessorAsync().Wait();   </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="1482173f-aa07-4e4c-88dd-599ba502efc0"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="1482173f-aa07-4e4c-88dd-599ba502efc0">
        <Lines>
          <MarkdownLine>
            <LineId>44972011-9665-405e-b00c-8c54cfaaac64</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="122">
                <SegmentId>d915e4df-2741-4323-b60e-318cc845048f</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="122"
                  trans_unit_id="122-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="122"
                  trans_unit_id="122-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>IEventProcessor</internal_link_text>
                  <internal_link_url>https://msdn.microsoft.com/library/microsoft.servicebus.messaging.ieventprocessor.aspx</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="122"
                  trans_unit_id="122-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="122">
            <SegmentId>d915e4df-2741-4323-b60e-318cc845048f</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="122"
              trans_unit_id="122-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="122"
              trans_unit_id="122-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>IEventProcessor</internal_link_text>
              <internal_link_url>https://msdn.microsoft.com/library/microsoft.servicebus.messaging.ieventprocessor.aspx</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="122"
              trans_unit_id="122-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="5f9570bf-20a3-4a34-ac71-6dc89a1b9235"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="5f9570bf-20a3-4a34-ac71-6dc89a1b9235">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>public class SimpleEventProcessor : IEventProcessor
{
    IDictionary&lt;string, string&gt; map;
    PartitionContext partitionContext;

    public SimpleEventProcessor()
    {
        this.map = new Dictionary&lt;string, string&gt;();
    }

    public Task OpenAsync(PartitionContext context)
    {
        this.partitionContext = context;

        return Task.FromResult&lt;object&gt;(null);
    }

    public async Task ProcessEventsAsync(PartitionContext context, IEnumerable&lt;EventData&gt; messages)
    {
        foreach (EventData message in messages)
        {
            Process messages here
        }

        // Checkpoint when appropriate
        await context.CheckpointAsync();

    }


    public async Task CloseAsync(PartitionContext context, CloseReason reason)
    {
        if (reason == CloseReason.Shutdown)
        {
            await context.CheckpointAsync();
        }
    }
}</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="3f8aedfc-7524-4453-b808-bde22f46053e"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="3f8aedfc-7524-4453-b808-bde22f46053e">
        <segment
          trans_unit_id="123">
          <SegmentId>316a3c0e-613a-4722-a573-cdbcb8320c72</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="123"
            trans_unit_id="123-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="29b20861-3423-4e82-9e9d-1d6f8b19faaa"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="29b20861-3423-4e82-9e9d-1d6f8b19faaa">
        <Lines>
          <MarkdownLine>
            <LineId>ea182df3-b3cd-4cf3-9585-ac0fa3f58c5f</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="124">
                <SegmentId>060e3238-b1ca-4b90-88b1-aca0be8c1e25</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="124"
                  trans_unit_id="124-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="124">
            <SegmentId>060e3238-b1ca-4b90-88b1-aca0be8c1e25</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="124"
              trans_unit_id="124-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="673ef3bc-44dc-455a-a087-c5943d15a8b3"
        item_type="List"
        item_footer=""
        trans_unit_id="673ef3bc-44dc-455a-a087-c5943d15a8b3">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="72094e7c-5ef7-4a96-8584-1c6976ab2f6a"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="72094e7c-5ef7-4a96-8584-1c6976ab2f6a">
              <Lines>
                <MarkdownLine>
                  <LineId>0f869d8c-1cfc-4387-8ec5-5407629331df</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="125">
                      <SegmentId>49eaee89-51ad-4e3c-9dc3-afe4a606ded0</SegmentId>
                      <LinkItem
                        internal_item_id="1"
                        internal_item_parent_id="125"
                        trans_unit_id="125-1"
                        internal_item_type="Link">
                        <internal_items />
                        <internal_link_type>Inline</internal_link_type>
                        <internal_link_text>Event Hubs programming guide</internal_link_text>
                        <internal_link_url>event-hubs-programming-guide.md</internal_link_url>
                        <internal_link_title />
                      </LinkItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="125">
                  <SegmentId>49eaee89-51ad-4e3c-9dc3-afe4a606ded0</SegmentId>
                  <LinkItem
                    internal_item_id="1"
                    internal_item_parent_id="125"
                    trans_unit_id="125-1"
                    internal_item_type="Link">
                    <internal_items />
                    <internal_link_type>Inline</internal_link_type>
                    <internal_link_text>Event Hubs programming guide</internal_link_text>
                    <internal_link_url>event-hubs-programming-guide.md</internal_link_url>
                    <internal_link_title />
                  </LinkItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>-</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="33859352-ba70-4c6f-9216-36f80f41f4bb"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="33859352-ba70-4c6f-9216-36f80f41f4bb">
              <Lines>
                <MarkdownLine>
                  <LineId>5eae573c-ca5a-464b-bece-b90ed5ad58f6</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="126">
                      <SegmentId>11755aca-e1e1-4fe7-8ffd-8a337531ca1c</SegmentId>
                      <LinkItem
                        internal_item_id="1"
                        internal_item_parent_id="126"
                        trans_unit_id="126-1"
                        internal_item_type="Link">
                        <internal_items />
                        <internal_link_type>Inline</internal_link_type>
                        <internal_link_text>Event Hubs overview</internal_link_text>
                        <internal_link_url>event-hubs-overview.md</internal_link_url>
                        <internal_link_title />
                      </LinkItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="126">
                  <SegmentId>11755aca-e1e1-4fe7-8ffd-8a337531ca1c</SegmentId>
                  <LinkItem
                    internal_item_id="1"
                    internal_item_parent_id="126"
                    trans_unit_id="126-1"
                    internal_item_type="Link">
                    <internal_items />
                    <internal_link_type>Inline</internal_link_type>
                    <internal_link_text>Event Hubs overview</internal_link_text>
                    <internal_link_url>event-hubs-overview.md</internal_link_url>
                    <internal_link_title />
                  </LinkItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>-</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="d9b28512-645c-4cb1-a063-ee4f672be9a7"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="d9b28512-645c-4cb1-a063-ee4f672be9a7">
              <Lines>
                <MarkdownLine>
                  <LineId>06595463-f5a2-4aa8-b7d9-94296f9559fc</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="127">
                      <SegmentId>32b7a0f0-b44a-4a79-8065-abaa97495aa0</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="127"
                        trans_unit_id="127-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="127">
                  <SegmentId>32b7a0f0-b44a-4a79-8065-abaa97495aa0</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="127"
                    trans_unit_id="127-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>-</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="b168e201-cbce-48ab-9fe7-c511af371318"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="b168e201-cbce-48ab-9fe7-c511af371318">
        <Lines>
          <MarkdownLine>
            <LineId>a2b3f78b-ca06-4bd5-9d01-971c46266af7</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="128">
                <SegmentId>dca8b5dd-4087-46e8-9848-63199b2a68af</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="128"
                  trans_unit_id="128-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="128">
            <SegmentId>dca8b5dd-4087-46e8-9848-63199b2a68af</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="128"
              trans_unit_id="128-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="11b4c2ff-e889-42bc-b99b-abc636283c6a"
        item_type="List"
        item_footer="&#xA;&#xA;"
        trans_unit_id="11b4c2ff-e889-42bc-b99b-abc636283c6a">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="c3c4c1ad-39b7-465c-8962-d1d460cb515e"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="c3c4c1ad-39b7-465c-8962-d1d460cb515e">
              <Lines>
                <MarkdownLine>
                  <LineId>79166ea7-b623-4b20-946c-5c23993da5ef</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="129">
                      <SegmentId>d6e9217f-185c-48a7-930e-3736a02dfb5d</SegmentId>
                      <LinkItem
                        internal_item_id="1"
                        internal_item_parent_id="129"
                        trans_unit_id="129-1"
                        internal_item_type="Link">
                        <internal_items />
                        <internal_link_type>Inline</internal_link_type>
                        <internal_link_text>Service Bus and Event Hubs .NET API reference</internal_link_text>
                        <internal_link_url>https://msdn.microsoft.com/library/jj933424.aspx</internal_link_url>
                        <internal_link_title />
                      </LinkItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="129">
                  <SegmentId>d6e9217f-185c-48a7-930e-3736a02dfb5d</SegmentId>
                  <LinkItem
                    internal_item_id="1"
                    internal_item_parent_id="129"
                    trans_unit_id="129-1"
                    internal_item_type="Link">
                    <internal_items />
                    <internal_link_type>Inline</internal_link_type>
                    <internal_link_text>Service Bus and Event Hubs .NET API reference</internal_link_text>
                    <internal_link_url>https://msdn.microsoft.com/library/jj933424.aspx</internal_link_url>
                    <internal_link_title />
                  </LinkItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>-</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="89d85232-ffff-4fbd-bda5-4c78f24cdf4c"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="89d85232-ffff-4fbd-bda5-4c78f24cdf4c">
              <Lines>
                <MarkdownLine>
                  <LineId>f4581fd9-06f9-4e0b-8bed-0c83e2b01ef4</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="130">
                      <SegmentId>c3224177-7a9c-4898-802d-9c43f760561b</SegmentId>
                      <LinkItem
                        internal_item_id="1"
                        internal_item_parent_id="130"
                        trans_unit_id="130-1"
                        internal_item_type="Link">
                        <internal_items />
                        <internal_link_type>Inline</internal_link_type>
                        <internal_link_text>Event processor host API reference</internal_link_text>
                        <internal_link_url>https://msdn.microsoft.com/library/microsoft.servicebus.messaging.eventprocessorhost.aspx</internal_link_url>
                        <internal_link_title />
                      </LinkItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="130">
                  <SegmentId>c3224177-7a9c-4898-802d-9c43f760561b</SegmentId>
                  <LinkItem
                    internal_item_id="1"
                    internal_item_parent_id="130"
                    trans_unit_id="130-1"
                    internal_item_type="Link">
                    <internal_items />
                    <internal_link_type>Inline</internal_link_type>
                    <internal_link_text>Event processor host API reference</internal_link_text>
                    <internal_link_url>https://msdn.microsoft.com/library/microsoft.servicebus.messaging.eventprocessorhost.aspx</internal_link_url>
                    <internal_link_title />
                  </LinkItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>-</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
    </ArrayOfMarkdownBlockBase>
  </block_element>
  <references>
    <ArrayOfMarkdownLinkedReference xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
  </references>
</markdown_skeleton_root>