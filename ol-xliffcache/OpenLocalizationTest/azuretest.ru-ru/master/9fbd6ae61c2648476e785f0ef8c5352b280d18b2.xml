<markdown_skeleton_root>
  <block_element>
    <ArrayOfMarkdownBlockBase xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownBlockBase
        xsi:type="MarkdownAzureMetadataBlock"
        item_id="302ab0ee-7fcc-44a1-9773-dd0ee3c4f7ab"
        item_type="AzureMetadata"
        item_footer="footer_not_set"
        trans_unit_id="302ab0ee-7fcc-44a1-9773-dd0ee3c4f7ab">
        <LocalizeItemList>
          <MarkdownInternalXmlItem
            internal_item_id="e126f3af-4154-4902-b06d-0c2f91cc1486"
            trans_unit_id="101"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
          <MarkdownInternalXmlItem
            internal_item_id="7188bec5-3acb-4d03-8a1f-ad109a4472c2"
            trans_unit_id="102"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
        </LocalizeItemList>
        <ItemValue>&lt;properties
    pageTitle="e126f3af-4154-4902-b06d-0c2f91cc1486"
    description="7188bec5-3acb-4d03-8a1f-ad109a4472c2"
    services="machine-learning,hdinsight"
    solutions=""
    documentationCenter=""
    authors="hangzh-msft"
    manager="paulettm" 
    editor="cgronlun"  /&gt;

&lt;tags
    ms.service="machine-learning"
    ms.workload="data-services"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/01/2015"
    ms.author="hangzh;bradsev" /&gt;

</ItemValue>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="4746b7d0-de61-4ffc-9473-6375a5339942"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="4746b7d0-de61-4ffc-9473-6375a5339942">
        <segment
          trans_unit_id="103">
          <SegmentId>a65f97d8-c8f6-4b68-b49b-a7b9f41a1d08</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="103"
            trans_unit_id="103-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>1</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="8f6a4100-6606-4601-b69f-29b54b19c99d"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="8f6a4100-6606-4601-b69f-29b54b19c99d">
        <Lines>
          <MarkdownLine>
            <LineId>b2950fad-29f9-4849-afdc-dead8b2ef6b4</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="104">
                <SegmentId>24756063-fb59-44b3-acfe-9e3290a11625</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="104"
                  trans_unit_id="104-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="105">
                <SegmentId>8e9b507b-cc8e-4ca6-962d-3582049b108e</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="105"
                  trans_unit_id="105-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="106">
                <SegmentId>02be803e-f7ec-4b07-acbd-69efa89360a9</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="106"
                  trans_unit_id="106-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="104">
            <SegmentId>24756063-fb59-44b3-acfe-9e3290a11625</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="104"
              trans_unit_id="104-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="105">
            <SegmentId>8e9b507b-cc8e-4ca6-962d-3582049b108e</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="105"
              trans_unit_id="105-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="106">
            <SegmentId>02be803e-f7ec-4b07-acbd-69efa89360a9</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="106"
              trans_unit_id="106-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="070b1605-ebb6-498f-a118-45b8a118813c"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="070b1605-ebb6-498f-a118-45b8a118813c">
        <Lines>
          <MarkdownLine>
            <LineId>d30c4160-34c9-4c2f-ba89-738efb15dca2</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="107">
                <SegmentId>d54275a8-3ff5-4383-acff-18dacb14d7d9</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="107"
                  trans_unit_id="107-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="108">
                <SegmentId>e20d6321-11ab-4c57-a7c3-e2d8fcfc61d7</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="108"
                  trans_unit_id="108-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="107">
            <SegmentId>d54275a8-3ff5-4383-acff-18dacb14d7d9</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="107"
              trans_unit_id="107-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="108">
            <SegmentId>e20d6321-11ab-4c57-a7c3-e2d8fcfc61d7</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="108"
              trans_unit_id="108-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="2145077b-723d-40b6-a332-28f7cc611b4b"
        item_type="List"
        item_footer=""
        trans_unit_id="2145077b-723d-40b6-a332-28f7cc611b4b">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="b6786985-b56b-47c8-ab51-7d1081d3a1b3"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="b6786985-b56b-47c8-ab51-7d1081d3a1b3">
              <Lines>
                <MarkdownLine>
                  <LineId>4d05253f-8f10-45ec-b481-b593eec49aff</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="109">
                      <SegmentId>827e4a0e-278c-40bb-85ce-c8b9a1570698</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="109"
                        trans_unit_id="109-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="109">
                  <SegmentId>827e4a0e-278c-40bb-85ce-c8b9a1570698</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="109"
                    trans_unit_id="109-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="5f47ec6a-a6d5-462c-a134-b7673d1b1768"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="5f47ec6a-a6d5-462c-a134-b7673d1b1768">
              <Lines>
                <MarkdownLine>
                  <LineId>ef066afc-3189-49b4-b2ec-0797c85a4c4c</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="110">
                      <SegmentId>cb1c38f8-f1d8-4f8a-9d03-b0fccabd48b1</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="110"
                        trans_unit_id="110-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="110">
                  <SegmentId>cb1c38f8-f1d8-4f8a-9d03-b0fccabd48b1</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="110"
                    trans_unit_id="110-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="db94915a-c931-40e4-89ba-9182c001532c"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="db94915a-c931-40e4-89ba-9182c001532c">
              <Lines>
                <MarkdownLine>
                  <LineId>8d044dfa-4414-4511-84ca-c750e4ed4148</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="111">
                      <SegmentId>b17fc883-4ebc-424a-bf05-244dae54d604</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="111"
                        trans_unit_id="111-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="111">
                  <SegmentId>b17fc883-4ebc-424a-bf05-244dae54d604</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="111"
                    trans_unit_id="111-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="3659792a-a7b2-483a-9863-d63297b312f5"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="3659792a-a7b2-483a-9863-d63297b312f5">
        <Lines>
          <MarkdownLine>
            <LineId>11392070-6f54-4ac8-87d6-c14f5f6e05bf</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="112">
                <SegmentId>8d0c156d-eacd-42b0-8429-bcd36f5f49de</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="112"
                  trans_unit_id="112-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="113">
                <SegmentId>3ab47102-f37d-4309-a6f7-ec9e4b6bcef0</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="113"
                  trans_unit_id="113-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="114">
                <SegmentId>ef4e95ad-ac86-4474-961d-b7ff98127dd0</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="114"
                  trans_unit_id="114-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="114"
                  trans_unit_id="114-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>How to Submit Hive Queries</internal_link_text>
                  <internal_link_url>machine-learning-data-science-process-hive-tables.md#submit</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="114"
                  trans_unit_id="114-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="112">
            <SegmentId>8d0c156d-eacd-42b0-8429-bcd36f5f49de</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="112"
              trans_unit_id="112-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="113">
            <SegmentId>3ab47102-f37d-4309-a6f7-ec9e4b6bcef0</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="113"
              trans_unit_id="113-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="114">
            <SegmentId>ef4e95ad-ac86-4474-961d-b7ff98127dd0</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="114"
              trans_unit_id="114-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="114"
              trans_unit_id="114-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>How to Submit Hive Queries</internal_link_text>
              <internal_link_url>machine-learning-data-science-process-hive-tables.md#submit</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="114"
              trans_unit_id="114-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="7aa636a6-1510-4956-ac44-17473ba94c05"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="7aa636a6-1510-4956-ac44-17473ba94c05">
        <segment
          trans_unit_id="115">
          <SegmentId>6b73fd76-55e1-46dd-9d60-8907d2d1094d</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="115"
            trans_unit_id="115-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="uniform"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="115"
            trans_unit_id="115-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="115"
            trans_unit_id="115-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="2515e16d-fac5-4872-b430-e6c3cdf6b6fc"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="2515e16d-fac5-4872-b430-e6c3cdf6b6fc">
        <Lines>
          <MarkdownLine>
            <LineId>82fb181e-06a2-4b36-a548-b743b45c5ee3</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="116">
                <SegmentId>33c88c91-d380-4f6b-86ed-ff70df71279b</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="116"
                  trans_unit_id="116-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="117">
                <SegmentId>6abe3093-d13a-4157-adf8-30aac2d5a8bc</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="117"
                  trans_unit_id="117-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="116">
            <SegmentId>33c88c91-d380-4f6b-86ed-ff70df71279b</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="116"
              trans_unit_id="116-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="117">
            <SegmentId>6abe3093-d13a-4157-adf8-30aac2d5a8bc</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="117"
              trans_unit_id="117-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="036f77f3-12bf-42e3-b833-70179064f4d0"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="036f77f3-12bf-42e3-b833-70179064f4d0">
        <Lines>
          <MarkdownLine>
            <LineId>e5585363-e229-43de-a900-2e660a94a3b2</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="118">
                <SegmentId>452b7df5-42e8-45b8-b651-b2e3402541b7</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="118"
                  trans_unit_id="118-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="118">
            <SegmentId>452b7df5-42e8-45b8-b651-b2e3402541b7</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="118"
              trans_unit_id="118-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="7572b237-f429-4bb9-94d1-489df4ee9f31"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="7572b237-f429-4bb9-94d1-489df4ee9f31">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    field1, field2, …, fieldN
from
    (
    select
        field1, field2, …, fieldN, rand() as samplekey
    from &lt;hive table name&gt;
    )a
where samplekey&lt;='${hiveconf:sampleRate}'

</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="1e3dd733-4fe4-4a36-9444-28e9237c387e"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="1e3dd733-4fe4-4a36-9444-28e9237c387e">
        <Lines>
          <MarkdownLine>
            <LineId>f94033af-e2fd-4f07-92e0-0b5b36a8dfe9</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="119">
                <SegmentId>c437a1c9-2b32-4849-a5de-9e22ab1287af</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="119"
                  trans_unit_id="119-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <CodeSpanItem
                  internal_item_id="2"
                  internal_item_parent_id="119"
                  trans_unit_id="119-2"
                  internal_item_type="CodeSpan">
                  <internal_items />
                  <ItemValue>&lt;sample rate, 0-1&gt;</ItemValue>
                </CodeSpanItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="119"
                  trans_unit_id="119-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="119">
            <SegmentId>c437a1c9-2b32-4849-a5de-9e22ab1287af</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="119"
              trans_unit_id="119-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <CodeSpanItem
              internal_item_id="2"
              internal_item_parent_id="119"
              trans_unit_id="119-2"
              internal_item_type="CodeSpan">
              <internal_items />
              <ItemValue>&lt;sample rate, 0-1&gt;</ItemValue>
            </CodeSpanItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="119"
              trans_unit_id="119-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="3932de38-7588-45c2-bceb-2dd4900dab37"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="3932de38-7588-45c2-bceb-2dd4900dab37">
        <segment
          trans_unit_id="120">
          <SegmentId>00b29ea5-376b-4b6c-a20b-8a854f8805ab</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="120"
            trans_unit_id="120-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="group"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="120"
            trans_unit_id="120-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="120"
            trans_unit_id="120-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="1e72c40f-0f4f-446d-bc27-30e804222299"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="1e72c40f-0f4f-446d-bc27-30e804222299">
        <Lines>
          <MarkdownLine>
            <LineId>ce5fc6ee-1f8d-41de-a80a-dcafae2b0483</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="121">
                <SegmentId>c6cdb338-b02c-41ed-88ff-2641a0703cb7</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="121"
                  trans_unit_id="121-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="122">
                <SegmentId>30f56474-8b0e-4a3a-911e-3cbd33402aa4</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="122"
                  trans_unit_id="122-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
          <MarkdownLine>
            <LineId>31de29c5-0198-4d7f-84c7-73f15da4c57b</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="123">
                <SegmentId>6d8df321-5e93-4d8f-a2ac-37526cb950b2</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="123"
                  trans_unit_id="123-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="121">
            <SegmentId>c6cdb338-b02c-41ed-88ff-2641a0703cb7</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="121"
              trans_unit_id="121-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="122">
            <SegmentId>30f56474-8b0e-4a3a-911e-3cbd33402aa4</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="122"
              trans_unit_id="122-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="123">
            <SegmentId>6d8df321-5e93-4d8f-a2ac-37526cb950b2</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="123"
              trans_unit_id="123-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="96cf0724-0d41-4a3f-ab94-61fbd242b3da"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="96cf0724-0d41-4a3f-ab94-61fbd242b3da">
        <Lines>
          <MarkdownLine>
            <LineId>6ae50ccd-9ff8-4fba-956a-95743de87e62</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="124">
                <SegmentId>61ec1a55-1ef1-4589-b098-a4b725c4e189</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="124"
                  trans_unit_id="124-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="124">
            <SegmentId>61ec1a55-1ef1-4589-b098-a4b725c4e189</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="124"
              trans_unit_id="124-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="5d09302c-18d9-410f-b12c-a9fc50bfb9dc"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="5d09302c-18d9-410f-b12c-a9fc50bfb9dc">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    b.field1, b.field2, …, b.catfield, …, b.fieldN
from
    (
    select
        field1, field2, …, catfield, …, fieldN
    from &lt;table name&gt;
    )b
join
    (
    select
        catfield
    from
        (
        select
            catfield, rand() as samplekey
        from &lt;table name&gt;
        group by catfield
        )a
    where samplekey&lt;='${hiveconf:sampleRate}'
    )c
on b.catfield=c.catfield

</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="53487b93-ca1e-4acd-ad21-9ca0cf728816"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="53487b93-ca1e-4acd-ad21-9ca0cf728816">
        <segment
          trans_unit_id="125">
          <SegmentId>45a8d958-fc09-4d6e-a92d-fedbba5932b3</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="125"
            trans_unit_id="125-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="stratified"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="125"
            trans_unit_id="125-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="125"
            trans_unit_id="125-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="b261a8f8-3e09-497a-8610-9d42c13c281a"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="b261a8f8-3e09-497a-8610-9d42c13c281a">
        <Lines>
          <MarkdownLine>
            <LineId>73bee135-e8da-44da-ab5c-74ddc6bb84f3</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="126">
                <SegmentId>7b1181e4-115f-4071-8c77-589b1a657f9c</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="126"
                  trans_unit_id="126-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="127">
                <SegmentId>db70545c-fad5-4301-a9d7-ee71d12d1558</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="127"
                  trans_unit_id="127-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="128">
                <SegmentId>be9f374f-3019-4272-9534-55c25ea28a38</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="128"
                  trans_unit_id="128-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="126">
            <SegmentId>7b1181e4-115f-4071-8c77-589b1a657f9c</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="126"
              trans_unit_id="126-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="127">
            <SegmentId>db70545c-fad5-4301-a9d7-ee71d12d1558</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="127"
              trans_unit_id="127-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="128">
            <SegmentId>be9f374f-3019-4272-9534-55c25ea28a38</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="128"
              trans_unit_id="128-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="140a1600-25a4-4a77-8fbc-6e7ebb1e2e8c"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="140a1600-25a4-4a77-8fbc-6e7ebb1e2e8c">
        <Lines>
          <MarkdownLine>
            <LineId>d3ecf8a8-784c-4e20-8834-0d47a5157ba2</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="129">
                <SegmentId>973a9308-c2e6-4215-96ba-6fcc6dd06cba</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="129"
                  trans_unit_id="129-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="129">
            <SegmentId>973a9308-c2e6-4215-96ba-6fcc6dd06cba</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="129"
              trans_unit_id="129-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="c7c09c4e-6e0d-4026-b896-da824285e54d"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="c7c09c4e-6e0d-4026-b896-da824285e54d">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    field1, field2, field3, ..., fieldN, state
from
    (
    select
        field1, field2, field3, ..., fieldN, state,
        count(*) over (partition by state) as state_cnt,
        rank() over (partition by state order by rand()) as state_rank
    from &lt;table name&gt;
    ) a
where state_rank &lt;= state_cnt*'${hiveconf:sampleRate}'


</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="0ae1ca4f-d7c3-4c7d-8189-9b35f140c457"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="0ae1ca4f-d7c3-4c7d-8189-9b35f140c457">
        <Lines>
          <MarkdownLine>
            <LineId>0fd004e8-c807-467c-8db0-2ca2e3c0f47a</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="130">
                <SegmentId>80e0c04f-eddd-4744-968f-9b4d8943fc67</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="130"
                  trans_unit_id="130-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="130"
                  trans_unit_id="130-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>LanguageManual Sampling</internal_link_text>
                  <internal_link_url>https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Sampling</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="130"
                  trans_unit_id="130-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="130">
            <SegmentId>80e0c04f-eddd-4744-968f-9b4d8943fc67</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="130"
              trans_unit_id="130-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="130"
              trans_unit_id="130-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>LanguageManual Sampling</internal_link_text>
              <internal_link_url>https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Sampling</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="130"
              trans_unit_id="130-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="c47b3304-69c2-441e-ac3a-483494e79bb2"
        item_type="NormalParagraph"
        item_footer="&#xA;&#xA;"
        trans_unit_id="c47b3304-69c2-441e-ac3a-483494e79bb2">
        <Lines>
          <MarkdownLine>
            <LineId>e57a627a-249a-4374-9744-470e69aa0e05</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="131">
                <SegmentId>2bb4cb2a-c30b-4fdb-baa3-ad45c5dfc486</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="131"
                  trans_unit_id="131-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="131">
            <SegmentId>2bb4cb2a-c30b-4fdb-baa3-ad45c5dfc486</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="131"
              trans_unit_id="131-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
    </ArrayOfMarkdownBlockBase>
  </block_element>
  <references>
    <ArrayOfMarkdownLinkedReference xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
  </references>
</markdown_skeleton_root>