<markdown_skeleton_root>
  <block_element>
    <ArrayOfMarkdownBlockBase xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownBlockBase
        xsi:type="MarkdownAzureMetadataBlock"
        item_id="600e7dcc-bc36-4175-88a8-a92038270135"
        item_type="AzureMetadata"
        item_footer="footer_not_set"
        trans_unit_id="600e7dcc-bc36-4175-88a8-a92038270135">
        <LocalizeItemList>
          <MarkdownInternalXmlItem
            internal_item_id="d448ec78-c3bc-4cf7-a64d-c6646831116a"
            trans_unit_id="101"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
          <MarkdownInternalXmlItem
            internal_item_id="fcca0b4b-fbcb-4298-b188-92e771d7363b"
            trans_unit_id="102"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
        </LocalizeItemList>
        <ItemValue>&lt;properties 
    title="Multi-tenant applications with elastic database tools and row-level security" 
    pageTitle="d448ec78-c3bc-4cf7-a64d-c6646831116a" 
    description="fcca0b4b-fbcb-4298-b188-92e771d7363b" 
    metaKeywords="azure sql database elastic tools multi tenant row level security rls" 
    services="sql-database" documentationCenter=""  
    manager="jeffreyg" 
    authors="tmullaney"/&gt;

&lt;tags 
    ms.service="sql-database" 
    ms.workload="sql-database" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="08/19/2015" 
    ms.author="thmullan;torsteng;sidneyh" /&gt;

</ItemValue>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="82041ad1-cb94-4791-9761-a5a7d869ca4b"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="82041ad1-cb94-4791-9761-a5a7d869ca4b">
        <segment
          trans_unit_id="103">
          <SegmentId>524b27ec-5471-488c-8e1a-d38bb32148a1</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="103"
            trans_unit_id="103-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>1</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="85bd6ebb-19e1-49ac-8b58-4d9df808dc79"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="85bd6ebb-19e1-49ac-8b58-4d9df808dc79">
        <Lines>
          <MarkdownLine>
            <LineId>4e299b12-297a-4327-83f4-5569868e2c38</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="104">
                <SegmentId>defb0840-7ca9-4736-b89c-f6dc5748dd54</SegmentId>
                <LinkItem
                  internal_item_id="1"
                  internal_item_parent_id="104"
                  trans_unit_id="104-1"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Elastic database tools</internal_link_text>
                  <internal_link_url>sql-database-elastic-scale-get-started.md</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="2"
                  internal_item_parent_id="104"
                  trans_unit_id="104-2"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="3"
                  internal_item_parent_id="104"
                  trans_unit_id="104-3"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>row-level security (RLS)</internal_link_text>
                  <internal_link_url>https://msdn.microsoft.com/library/dn765131</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="4"
                  internal_item_parent_id="104"
                  trans_unit_id="104-4"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="105">
                <SegmentId>e7c45013-2c3a-4d62-b877-25daa3f055b4</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="105"
                  trans_unit_id="105-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <MarkdownInternalBoldItem
                  internal_item_id="2"
                  internal_item_parent_id="105"
                  trans_unit_id="105-2"
                  internal_item_type="Bold">
                  <internal_items />
                  <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                </MarkdownInternalBoldItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="105"
                  trans_unit_id="105-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <MarkdownInternalBoldItem
                  internal_item_id="4"
                  internal_item_parent_id="105"
                  trans_unit_id="105-4"
                  internal_item_type="Bold">
                  <internal_items />
                  <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                </MarkdownInternalBoldItem>
                <InternalNormalItem
                  internal_item_id="5"
                  internal_item_parent_id="105"
                  trans_unit_id="105-5"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="104">
            <SegmentId>defb0840-7ca9-4736-b89c-f6dc5748dd54</SegmentId>
            <LinkItem
              internal_item_id="1"
              internal_item_parent_id="104"
              trans_unit_id="104-1"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Elastic database tools</internal_link_text>
              <internal_link_url>sql-database-elastic-scale-get-started.md</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="2"
              internal_item_parent_id="104"
              trans_unit_id="104-2"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="3"
              internal_item_parent_id="104"
              trans_unit_id="104-3"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>row-level security (RLS)</internal_link_text>
              <internal_link_url>https://msdn.microsoft.com/library/dn765131</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="4"
              internal_item_parent_id="104"
              trans_unit_id="104-4"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="105">
            <SegmentId>e7c45013-2c3a-4d62-b877-25daa3f055b4</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="105"
              trans_unit_id="105-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <MarkdownInternalBoldItem
              internal_item_id="2"
              internal_item_parent_id="105"
              trans_unit_id="105-2"
              internal_item_type="Bold">
              <internal_items />
              <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
            </MarkdownInternalBoldItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="105"
              trans_unit_id="105-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <MarkdownInternalBoldItem
              internal_item_id="4"
              internal_item_parent_id="105"
              trans_unit_id="105-4"
              internal_item_type="Bold">
              <internal_items />
              <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
            </MarkdownInternalBoldItem>
            <InternalNormalItem
              internal_item_id="5"
              internal_item_parent_id="105"
              trans_unit_id="105-5"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="25dedde5-e306-45b3-ad0a-286c2416b6ed"
        item_type="List"
        item_footer=""
        trans_unit_id="25dedde5-e306-45b3-ad0a-286c2416b6ed">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="eb4ad08e-43f7-4d76-88ed-a328e2d7b6d5"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="eb4ad08e-43f7-4d76-88ed-a328e2d7b6d5">
              <Lines>
                <MarkdownLine>
                  <LineId>46641cc5-113e-46be-b946-0dc3be0e8d4d</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="106">
                      <SegmentId>325090f4-58db-469e-a2bb-507284eba632</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="106"
                        trans_unit_id="106-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="106"
                        trans_unit_id="106-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="107">
                      <SegmentId>8dd5fac4-52b1-4d0d-87ee-71258e66decc</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="107"
                        trans_unit_id="107-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="106">
                  <SegmentId>325090f4-58db-469e-a2bb-507284eba632</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="106"
                    trans_unit_id="106-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="106"
                    trans_unit_id="106-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="107">
                  <SegmentId>8dd5fac4-52b1-4d0d-87ee-71258e66decc</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="107"
                    trans_unit_id="107-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="5d1f6256-5b98-4064-9f3b-c04121522613"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="5d1f6256-5b98-4064-9f3b-c04121522613">
              <Lines>
                <MarkdownLine>
                  <LineId>ac5e4303-7499-41d3-b041-93ba42cfcb86</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="108">
                      <SegmentId>5fb078df-bc89-499b-84d1-944557faea98</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="108"
                        trans_unit_id="108-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="108"
                        trans_unit_id="108-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="109">
                      <SegmentId>aa99c71a-23f4-4566-a8ae-0d55e402ff6b</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="109"
                        trans_unit_id="109-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="110">
                      <SegmentId>13b61142-8d79-42f9-b7a4-9ce7ee4ee4aa</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="110"
                        trans_unit_id="110-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <LinkItem
                        internal_item_id="2"
                        internal_item_parent_id="110"
                        trans_unit_id="110-2"
                        internal_item_type="Link">
                        <internal_items />
                        <internal_link_type>Inline</internal_link_type>
                        <internal_link_text>Azure SQL Database update (V12)</internal_link_text>
                        <internal_link_url>sql-database-preview-whats-new.md</internal_link_url>
                        <internal_link_title />
                      </LinkItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="110"
                        trans_unit_id="110-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="108">
                  <SegmentId>5fb078df-bc89-499b-84d1-944557faea98</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="108"
                    trans_unit_id="108-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="108"
                    trans_unit_id="108-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="109">
                  <SegmentId>aa99c71a-23f4-4566-a8ae-0d55e402ff6b</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="109"
                    trans_unit_id="109-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="110">
                  <SegmentId>13b61142-8d79-42f9-b7a4-9ce7ee4ee4aa</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="110"
                    trans_unit_id="110-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <LinkItem
                    internal_item_id="2"
                    internal_item_parent_id="110"
                    trans_unit_id="110-2"
                    internal_item_type="Link">
                    <internal_items />
                    <internal_link_type>Inline</internal_link_type>
                    <internal_link_text>Azure SQL Database update (V12)</internal_link_text>
                    <internal_link_url>sql-database-preview-whats-new.md</internal_link_url>
                    <internal_link_title />
                  </LinkItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="110"
                    trans_unit_id="110-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="4a26cf5f-23c3-4a72-ab62-125d5c7c50a5"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="4a26cf5f-23c3-4a72-ab62-125d5c7c50a5">
        <Lines>
          <MarkdownLine>
            <LineId>0983e312-2424-4ded-be10-158b1f5e9175</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="111">
                <SegmentId>bf2cbdcd-1c72-4fd8-bb49-84acda599258</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="111"
                  trans_unit_id="111-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="112">
                <SegmentId>e0f06c12-5b4d-4b6e-8f7d-defb13020615</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="112"
                  trans_unit_id="112-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="111">
            <SegmentId>bf2cbdcd-1c72-4fd8-bb49-84acda599258</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="111"
              trans_unit_id="111-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="112">
            <SegmentId>e0f06c12-5b4d-4b6e-8f7d-defb13020615</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="112"
              trans_unit_id="112-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="c68041c7-85c2-40f5-8ae9-92987cd6801f"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="c68041c7-85c2-40f5-8ae9-92987cd6801f">
        <Lines>
          <MarkdownLine>
            <LineId>6c6d07ef-878a-49db-81f7-5a432c7059e4</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="113">
                <SegmentId>c0dea60f-eed5-4403-a0ce-87d90c5e2bfa</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="113"
                  trans_unit_id="113-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="113"
                  trans_unit_id="113-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>data dependent routing</internal_link_text>
                  <internal_link_url>sql-database-elastic-scale-data-dependent-routing.md</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="113"
                  trans_unit_id="113-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="114">
                <SegmentId>fbb2c842-e987-43d5-b100-dc79c49ec6df</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="114"
                  trans_unit_id="114-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="115">
                <SegmentId>2be9f071-4262-40f1-a874-e4241172e8f8</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="115"
                  trans_unit_id="115-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="113">
            <SegmentId>c0dea60f-eed5-4403-a0ce-87d90c5e2bfa</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="113"
              trans_unit_id="113-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="113"
              trans_unit_id="113-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>data dependent routing</internal_link_text>
              <internal_link_url>sql-database-elastic-scale-data-dependent-routing.md</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="113"
              trans_unit_id="113-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="114">
            <SegmentId>fbb2c842-e987-43d5-b100-dc79c49ec6df</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="114"
              trans_unit_id="114-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="115">
            <SegmentId>2be9f071-4262-40f1-a874-e4241172e8f8</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="115"
              trans_unit_id="115-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="628e9612-5bb8-401c-80dc-196de16825d3"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="628e9612-5bb8-401c-80dc-196de16825d3">
        <Lines>
          <MarkdownLine>
            <LineId>3669ad46-5c75-49b5-bf42-9a3cd7d0e968</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="116">
                <SegmentId>4707c284-3d1e-40a1-b97f-ce463bc87a33</SegmentId>
                <ImageItem
                  internal_item_id="1"
                  internal_item_parent_id="116"
                  trans_unit_id="116-1"
                  internal_item_type="Image">
                  <internal_items />
                  <internal_Image_type>Reference</internal_Image_type>
                  <internal_link_text>Blogging app architecture</internal_link_text>
                  <internal_link_id>1</internal_link_id>
                </ImageItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="116">
            <SegmentId>4707c284-3d1e-40a1-b97f-ce463bc87a33</SegmentId>
            <ImageItem
              internal_item_id="1"
              internal_item_parent_id="116"
              trans_unit_id="116-1"
              internal_item_type="Image">
              <internal_items />
              <internal_Image_type>Reference</internal_Image_type>
              <internal_link_text>Blogging app architecture</internal_link_text>
              <internal_link_id>1</internal_link_id>
            </ImageItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="f29cd828-9dc1-44b2-a1a3-abaa5697a129"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="f29cd828-9dc1-44b2-a1a3-abaa5697a129">
        <segment
          trans_unit_id="117">
          <SegmentId>ea34b1d6-6a9e-4f87-8063-efd89baf92c6</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="117"
            trans_unit_id="117-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="203b2f82-85d5-479a-be02-7c72b4866eb8"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="203b2f82-85d5-479a-be02-7c72b4866eb8">
        <segment
          trans_unit_id="118">
          <SegmentId>8b16fcec-9f50-44a9-b6e1-3eb3e5cdad14</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="118"
            trans_unit_id="118-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="45aae1e9-f56f-4ce1-814e-6ff3670fac7d"
        item_type="List"
        item_footer=""
        trans_unit_id="45aae1e9-f56f-4ce1-814e-6ff3670fac7d">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="8f021deb-b208-4b2c-8168-9cf4bf5522c2"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="8f021deb-b208-4b2c-8168-9cf4bf5522c2">
              <Lines>
                <MarkdownLine>
                  <LineId>dbbda84d-b87a-4008-bddd-74057afe7c7f</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="119">
                      <SegmentId>54e5680f-a2b1-4df1-89ce-f55b7a5fe185</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="119"
                        trans_unit_id="119-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="119">
                  <SegmentId>54e5680f-a2b1-4df1-89ce-f55b7a5fe185</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="119"
                    trans_unit_id="119-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="ad1d948e-5f24-4df5-a551-5365d6b570a0"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="ad1d948e-5f24-4df5-a551-5365d6b570a0">
              <Lines>
                <MarkdownLine>
                  <LineId>539b7610-b1d2-49e6-888c-a2b868680f0d</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="120">
                      <SegmentId>217ab8b1-6474-4a5f-a259-b35e4e10de18</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="120"
                        trans_unit_id="120-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="120">
                  <SegmentId>217ab8b1-6474-4a5f-a259-b35e4e10de18</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="120"
                    trans_unit_id="120-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="7dfd916a-6e9b-4b77-a7b4-bdf387a640a9"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="7dfd916a-6e9b-4b77-a7b4-bdf387a640a9">
              <Lines>
                <MarkdownLine>
                  <LineId>d606ae6f-2339-4bce-806c-be8558f3ad86</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="121">
                      <SegmentId>75a6ce5a-26e3-483d-845c-652dad268f20</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="121"
                        trans_unit_id="121-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <LinkItem
                        internal_item_id="2"
                        internal_item_parent_id="121"
                        trans_unit_id="121-2"
                        internal_item_type="Link">
                        <internal_items />
                        <internal_link_type>Inline</internal_link_type>
                        <internal_link_text>Elastic DB Tools for Azure SQL - Multi-Tenant Shards</internal_link_text>
                        <internal_link_url>http://go.microsoft.com/?linkid=9888163</internal_link_url>
                        <internal_link_title />
                      </LinkItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="121">
                  <SegmentId>75a6ce5a-26e3-483d-845c-652dad268f20</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="121"
                    trans_unit_id="121-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <LinkItem
                    internal_item_id="2"
                    internal_item_parent_id="121"
                    trans_unit_id="121-2"
                    internal_item_type="Link">
                    <internal_items />
                    <internal_link_type>Inline</internal_link_type>
                    <internal_link_text>Elastic DB Tools for Azure SQL - Multi-Tenant Shards</internal_link_text>
                    <internal_link_url>http://go.microsoft.com/?linkid=9888163</internal_link_url>
                    <internal_link_title />
                  </LinkItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownListBlock
              item_id="0f228b10-4090-4def-81e1-ab2cb2477352"
              item_type="List"
              item_footer="footer_not_set"
              trans_unit_id="0f228b10-4090-4def-81e1-ab2cb2477352">
              <inner_list_items>
                <ListItem>
                  <MarkdownParagraphBlock
                    item_id="2cbe0b03-15f0-4172-8bf3-b8e7f7364c81"
                    item_type="NormalParagraph"
                    item_footer="footer_not_set"
                    trans_unit_id="2cbe0b03-15f0-4172-8bf3-b8e7f7364c81">
                    <Lines>
                      <MarkdownLine>
                        <LineId>e254bd67-0bb8-44d1-a9f7-dec9edc7bb16</LineId>
                        <paragraph_segments>
                          <MarkdownSegment
                            trans_unit_id="122">
                            <SegmentId>e3554654-60d8-4901-a8d0-2d80b59f4f06</SegmentId>
                            <InternalNormalItem
                              internal_item_id="1"
                              internal_item_parent_id="122"
                              trans_unit_id="122-1"
                              internal_item_type="Normal">
                              <internal_items />
                            </InternalNormalItem>
                            <MarkdownInternalBoldItem
                              internal_item_id="2"
                              internal_item_parent_id="122"
                              trans_unit_id="122-2"
                              internal_item_type="Bold">
                              <internal_items />
                              <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                            </MarkdownInternalBoldItem>
                          </MarkdownSegment>
                        </paragraph_segments>
                        <PrefixWSLength>1</PrefixWSLength>
                        <SuffixWSLength>0</SuffixWSLength>
                      </MarkdownLine>
                    </Lines>
                    <paragraph_segments>
                      <MarkdownSegment
                        trans_unit_id="122">
                        <SegmentId>e3554654-60d8-4901-a8d0-2d80b59f4f06</SegmentId>
                        <InternalNormalItem
                          internal_item_id="1"
                          internal_item_parent_id="122"
                          trans_unit_id="122-1"
                          internal_item_type="Normal">
                          <internal_items />
                        </InternalNormalItem>
                        <MarkdownInternalBoldItem
                          internal_item_id="2"
                          internal_item_parent_id="122"
                          trans_unit_id="122-2"
                          internal_item_type="Bold">
                          <internal_items />
                          <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                        </MarkdownInternalBoldItem>
                      </MarkdownSegment>
                    </paragraph_segments>
                  </MarkdownParagraphBlock>
                  <Identifier>*</Identifier>
                  <IndentsLength>
                    <int>0</int>
                  </IndentsLength>
                </ListItem>
              </inner_list_items>
              <ListType>Charactor</ListType>
            </MarkdownListBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>2</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="4c172155-538e-4a1c-8370-297986e7ef00"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="4c172155-538e-4a1c-8370-297986e7ef00">
        <Lines>
          <MarkdownLine>
            <LineId>a2341c55-85e4-418f-9210-3c0915879a32</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="123">
                <SegmentId>4dcd1888-cfd5-40c4-8ad4-2a9f9f9b16ec</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="123"
                  trans_unit_id="123-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="123"
                  trans_unit_id="123-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Elastic DB Tools for Azure SQL - Entity Framework Integration</internal_link_text>
                  <internal_link_url>sql-database-elastic-scale-use-entity-framework-applications-visual-studio.md</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="123"
                  trans_unit_id="123-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="124">
                <SegmentId>2075f92e-845e-4e28-9127-6e41525f6772</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="124"
                  trans_unit_id="124-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="123">
            <SegmentId>4dcd1888-cfd5-40c4-8ad4-2a9f9f9b16ec</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="123"
              trans_unit_id="123-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="123"
              trans_unit_id="123-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Elastic DB Tools for Azure SQL - Entity Framework Integration</internal_link_text>
              <internal_link_url>sql-database-elastic-scale-use-entity-framework-applications-visual-studio.md</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="123"
              trans_unit_id="123-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="124">
            <SegmentId>2075f92e-845e-4e28-9127-6e41525f6772</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="124"
              trans_unit_id="124-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="48fbea36-929f-4a8d-a91f-9c0ec4828cf4"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="48fbea36-929f-4a8d-a91f-9c0ec4828cf4">
        <Lines>
          <MarkdownLine>
            <LineId>0fbaeb78-43c9-4ab7-9702-89525540a55f</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="125">
                <SegmentId>deb1833f-b43a-4b33-a974-2d0725eb59c4</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="125"
                  trans_unit_id="125-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="126">
                <SegmentId>7f00bbee-23c0-4dd5-866d-97d02cfb632b</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="126"
                  trans_unit_id="126-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="125">
            <SegmentId>deb1833f-b43a-4b33-a974-2d0725eb59c4</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="125"
              trans_unit_id="125-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="126">
            <SegmentId>7f00bbee-23c0-4dd5-866d-97d02cfb632b</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="126"
              trans_unit_id="126-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="12125dbd-01d1-490a-8bff-cac1cf598be2"
        item_type="List"
        item_footer=""
        trans_unit_id="12125dbd-01d1-490a-8bff-cac1cf598be2">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="cac7b0cb-dd51-437a-a481-59f8d6f1c8ef"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="cac7b0cb-dd51-437a-a481-59f8d6f1c8ef">
              <Lines>
                <MarkdownLine>
                  <LineId>4479e1aa-0c69-49cd-b1bc-cf85c86e3dc8</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="127">
                      <SegmentId>bb6c54cf-4f30-4c6e-acd3-520b77b10512</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="127"
                        trans_unit_id="127-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="127">
                  <SegmentId>bb6c54cf-4f30-4c6e-acd3-520b77b10512</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="127"
                    trans_unit_id="127-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>1.</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="15111f3b-a572-41db-9dbb-d3514b51d5f6"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="15111f3b-a572-41db-9dbb-d3514b51d5f6">
              <Lines>
                <MarkdownLine>
                  <LineId>505fb4ad-11c4-4234-ab18-45bda18c48c1</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="128">
                      <SegmentId>a31ebc8c-8029-4f8d-89ee-a0ab94df417e</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="128"
                        trans_unit_id="128-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="128">
                  <SegmentId>a31ebc8c-8029-4f8d-89ee-a0ab94df417e</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="128"
                    trans_unit_id="128-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>2.</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="46a0a610-5c1a-462c-acc9-29aadc48acb4"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="46a0a610-5c1a-462c-acc9-29aadc48acb4">
              <Lines>
                <MarkdownLine>
                  <LineId>6dae8a9c-9354-4a13-a24b-496ef4753780</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="129">
                      <SegmentId>4e2a62c7-e7d9-4513-b23e-b80ce6458d12</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="129"
                        trans_unit_id="129-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="129">
                  <SegmentId>4e2a62c7-e7d9-4513-b23e-b80ce6458d12</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="129"
                    trans_unit_id="129-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>3.</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Number</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="f0612bf7-30fe-457e-b632-03628a96c922"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="f0612bf7-30fe-457e-b632-03628a96c922">
        <Lines>
          <MarkdownLine>
            <LineId>23ad52ff-7996-495d-a9a1-599fcb230231</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="130">
                <SegmentId>fd9f1c22-80c8-4562-bf7d-2972e911dcdd</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="130"
                  trans_unit_id="130-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="131">
                <SegmentId>c6ef3c4d-09b2-4b86-8c7d-81af6353213c</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="131"
                  trans_unit_id="131-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="132">
                <SegmentId>fc5445a4-29d9-44d0-9af2-d6957cdbeb54</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="132"
                  trans_unit_id="132-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="130">
            <SegmentId>fd9f1c22-80c8-4562-bf7d-2972e911dcdd</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="130"
              trans_unit_id="130-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="131">
            <SegmentId>c6ef3c4d-09b2-4b86-8c7d-81af6353213c</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="131"
              trans_unit_id="131-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="132">
            <SegmentId>fc5445a4-29d9-44d0-9af2-d6957cdbeb54</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="132"
              trans_unit_id="132-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="d9065a08-b57e-494c-9429-d33efc7799cc"
        item_type="List"
        item_footer="&#xA;"
        trans_unit_id="d9065a08-b57e-494c-9429-d33efc7799cc">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="a0d58f26-8117-49de-bbb5-0722f7616782"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="a0d58f26-8117-49de-bbb5-0722f7616782">
              <Lines>
                <MarkdownLine>
                  <LineId>8cb05356-74f4-43c5-90e1-a7b28665406c</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="133">
                      <SegmentId>30850e7d-b179-448d-bd4e-dbcc5a306d87</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="133"
                        trans_unit_id="133-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="133"
                        trans_unit_id="133-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="134">
                      <SegmentId>7450908d-007f-47cd-9b81-d0ee7d3d5404</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="134"
                        trans_unit_id="134-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="133">
                  <SegmentId>30850e7d-b179-448d-bd4e-dbcc5a306d87</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="133"
                    trans_unit_id="133-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="133"
                    trans_unit_id="133-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="134">
                  <SegmentId>7450908d-007f-47cd-9b81-d0ee7d3d5404</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="134"
                    trans_unit_id="134-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>1.</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="d80cc489-5e10-4405-9900-5eb06bc2cfa5"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="d80cc489-5e10-4405-9900-5eb06bc2cfa5">
              <Lines>
                <MarkdownLine>
                  <LineId>54065385-1cc7-4423-a34b-3f99a8182ecc</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="135">
                      <SegmentId>8b0f9c94-a5b9-4f2f-9a72-c963737dbce0</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="135"
                        trans_unit_id="135-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="135"
                        trans_unit_id="135-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="136">
                      <SegmentId>b5c693b6-3e95-46d5-8877-3a3d1e515424</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="136"
                        trans_unit_id="136-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="135">
                  <SegmentId>8b0f9c94-a5b9-4f2f-9a72-c963737dbce0</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="135"
                    trans_unit_id="135-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="135"
                    trans_unit_id="135-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="136">
                  <SegmentId>b5c693b6-3e95-46d5-8877-3a3d1e515424</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="136"
                    trans_unit_id="136-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>2.</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Number</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="9a8478f9-5b2d-420d-82d2-841ad6c8fbcd"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="9a8478f9-5b2d-420d-82d2-841ad6c8fbcd">
        <segment
          trans_unit_id="137">
          <SegmentId>24644ab3-a8f6-4467-b02e-20d6757488cf</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="137"
            trans_unit_id="137-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="2827ae43-b166-4ec2-839f-769eaf99fcc7"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="2827ae43-b166-4ec2-839f-769eaf99fcc7">
        <Lines>
          <MarkdownLine>
            <LineId>e89118aa-3137-449e-a365-dc64ff9c584b</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="138">
                <SegmentId>752900f3-151d-477c-84c3-bb076d366598</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="138"
                  trans_unit_id="138-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="139">
                <SegmentId>dfd8b1ca-1c2a-4147-b70b-0f9491ff8130</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="139"
                  trans_unit_id="139-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="139"
                  trans_unit_id="139-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>CONTEXT_INFO</internal_link_text>
                  <internal_link_url>https://msdn.microsoft.com/library/ms180125</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="139"
                  trans_unit_id="139-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="140">
                <SegmentId>04198bad-c0ac-41e9-9197-49040e37cbac</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="140"
                  trans_unit_id="140-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <ItalicsItem
                  internal_item_id="2"
                  internal_item_parent_id="140"
                  trans_unit_id="140-2"
                  internal_item_type="Italics">
                  <internal_items />
                  <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                </ItalicsItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="140"
                  trans_unit_id="140-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="138">
            <SegmentId>752900f3-151d-477c-84c3-bb076d366598</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="138"
              trans_unit_id="138-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="139">
            <SegmentId>dfd8b1ca-1c2a-4147-b70b-0f9491ff8130</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="139"
              trans_unit_id="139-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="139"
              trans_unit_id="139-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>CONTEXT_INFO</internal_link_text>
              <internal_link_url>https://msdn.microsoft.com/library/ms180125</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="139"
              trans_unit_id="139-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="140">
            <SegmentId>04198bad-c0ac-41e9-9197-49040e37cbac</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="140"
              trans_unit_id="140-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <ItalicsItem
              internal_item_id="2"
              internal_item_parent_id="140"
              trans_unit_id="140-2"
              internal_item_type="Italics">
              <internal_items />
              <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
            </ItalicsItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="140"
              trans_unit_id="140-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="ec18d663-b877-44f4-93ee-bc38e8613d20"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="ec18d663-b877-44f4-93ee-bc38e8613d20">
        <segment
          trans_unit_id="141">
          <SegmentId>3ec72ae2-4342-4c18-8d0d-4c700daec593</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="141"
            trans_unit_id="141-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="44b53251-42a0-4f74-b130-d1fab72739f4"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="44b53251-42a0-4f74-b130-d1fab72739f4">
        <Lines>
          <MarkdownLine>
            <LineId>165527a6-4173-4c89-984c-c38dc9d0cd70</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="142">
                <SegmentId>fa1320d3-9a85-452d-9c6b-9d5e088d7958</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="142"
                  trans_unit_id="142-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="142"
                  trans_unit_id="142-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Data Dependent Routing using EF DbContext</internal_link_text>
                  <internal_link_url>sql-database-elastic-scale-use-entity-framework-applications-visual-studio.md/#data-dependent-routing-using-ef-dbcontext</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="142"
                  trans_unit_id="142-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="143">
                <SegmentId>be23a792-bcb7-4aa4-8b36-04d54b015c93</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="143"
                  trans_unit_id="143-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="144">
                <SegmentId>81ac5595-6fc9-485f-89fd-24160e4f3e41</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="144"
                  trans_unit_id="144-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="142">
            <SegmentId>fa1320d3-9a85-452d-9c6b-9d5e088d7958</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="142"
              trans_unit_id="142-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="142"
              trans_unit_id="142-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Data Dependent Routing using EF DbContext</internal_link_text>
              <internal_link_url>sql-database-elastic-scale-use-entity-framework-applications-visual-studio.md/#data-dependent-routing-using-ef-dbcontext</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="142"
              trans_unit_id="142-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="143">
            <SegmentId>be23a792-bcb7-4aa4-8b36-04d54b015c93</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="143"
              trans_unit_id="143-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="144">
            <SegmentId>81ac5595-6fc9-485f-89fd-24160e4f3e41</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="144"
              trans_unit_id="144-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="51f0fa9f-58b1-4fd1-96f8-ddfc4cf094ee"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="51f0fa9f-58b1-4fd1-96f8-ddfc4cf094ee">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// ElasticScaleContext.cs 
// ... 
// C'tor for data dependent routing. This call will open a validated connection routed to the proper 
// shard by the shard map manager. Note that the base class c'tor call will fail for an open connection 
// if migrations need to be done and SQL credentials are used. This is the reason for the  
// separation of c'tors into the DDR case (this c'tor) and the internal c'tor for new shards. 
public ElasticScaleContext(ShardMap shardMap, T shardingKey, string connectionStr)
    : base(OpenDDRConnection(shardMap, shardingKey, connectionStr), true /* contextOwnsConnection */)
{
}

public static SqlConnection OpenDDRConnection(ShardMap shardMap, T shardingKey, string connectionStr)
{
    // No initialization
    Database.SetInitializer&lt;ElasticScaleContext&lt;T&gt;&gt;(null);

    // Ask shard map to broker a validated connection for the given key
    SqlConnection conn = null;
    try
    {
        conn = shardMap.OpenConnectionForKey(shardingKey, connectionStr, ConnectionOptions.Validate);

        // Set CONTEXT_INFO to shardingKey to enable Row-Level Security filtering
        SqlCommand cmd = conn.CreateCommand();
        cmd.CommandText = @"SET CONTEXT_INFO @shardingKey";
        cmd.Parameters.AddWithValue("@shardingKey", shardingKey);
        cmd.ExecuteNonQuery();

        return conn;
    }
    catch (Exception)
    {
        if (conn != null)
        {
            conn.Dispose();
        }

        throw;
    }
} 
// ... </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="80608778-14c1-47af-9faa-705df4684c93"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="80608778-14c1-47af-9faa-705df4684c93">
        <Lines>
          <MarkdownLine>
            <LineId>0c3c5149-d545-45bd-90e0-9b91f187d0b8</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="145">
                <SegmentId>d7f97d11-45ff-46ab-ac52-23dd927dc845</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="145"
                  trans_unit_id="145-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="145">
            <SegmentId>d7f97d11-45ff-46ab-ac52-23dd927dc845</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="145"
              trans_unit_id="145-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="8a3e0886-0bb8-4c74-87b4-fe7bba84ca7a"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="8a3e0886-0bb8-4c74-87b4-fe7bba84ca7a">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// Program.cs 
SqlDatabaseUtils.SqlRetryPolicy.ExecuteAction(() =&gt; 
{   
    using (var db = new ElasticScaleContext&lt;int&gt;(sharding.ShardMap, tenantId, connStrBldr.ConnectionString))   
    {     
        var query = from b in db.Blogs
                    orderby b.Name
                    select b;

        Console.WriteLine("All blogs for TenantId {0}:", tenantId);     
        foreach (var item in query)     
        {       
            Console.WriteLine(item.Name);     
        }   
    } 
}); </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="a93e15cf-65ff-4c85-9961-08b44d708a21"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="a93e15cf-65ff-4c85-9961-08b44d708a21">
        <segment
          trans_unit_id="146">
          <SegmentId>0cd88e7b-420c-45a4-a988-055b80051dcf</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="146"
            trans_unit_id="146-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="1fb2ee80-b585-4179-ac50-c372f9ffea3e"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="1fb2ee80-b585-4179-ac50-c372f9ffea3e">
        <Lines>
          <MarkdownLine>
            <LineId>7f0e4d88-89a6-491e-83bc-6c40fb87c708</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="147">
                <SegmentId>9db91b5a-cac0-44a4-82d7-16601d499651</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="147"
                  trans_unit_id="147-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="148">
                <SegmentId>2682909e-c394-46ff-8101-a1f13969a1fc</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="148"
                  trans_unit_id="148-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="147">
            <SegmentId>9db91b5a-cac0-44a4-82d7-16601d499651</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="147"
              trans_unit_id="147-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="148">
            <SegmentId>2682909e-c394-46ff-8101-a1f13969a1fc</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="148"
              trans_unit_id="148-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="b71ce7bc-e8a0-4121-9628-9bc6f6e6b466"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="b71ce7bc-e8a0-4121-9628-9bc6f6e6b466">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// Program.cs
// ...

// Wrapper function for ShardMap.OpenConnectionForKey() that automatically sets CONTEXT_INFO to the correct
// tenantId before returning a connection. As a best practice, you should only open connections using this 
// method to ensure that CONTEXT_INFO is always set before executing a query.
public static SqlConnection OpenConnectionForTenant(ShardMap shardMap, int tenantId, string connectionStr)
{
    SqlConnection conn = null;
    try
    {
        // Ask shard map to broker a validated connection for the given key
        conn = shardMap.OpenConnectionForKey(tenantId, connectionStr, ConnectionOptions.Validate);

        // Set CONTEXT_INFO to shardingKey to enable Row-Level Security filtering
        SqlCommand cmd = conn.CreateCommand();
        cmd.CommandText = @"SET CONTEXT_INFO @shardingKey";
        cmd.Parameters.AddWithValue("@shardingKey", tenantId);
        cmd.ExecuteNonQuery();

        return conn;
    }
    catch (Exception)
    {
        if (conn != null)
        {
            conn.Dispose();
        }

        throw;
    }
}

// ...

// Example query via ADO.NET SqlClient
// If row-level security is enabled, only Tenant 4's blogs will be listed
SqlDatabaseUtils.SqlRetryPolicy.ExecuteAction(() =&gt;
{
    using (SqlConnection conn = OpenConnectionForTenant(sharding.ShardMap, tenantId4, connStrBldr.ConnectionString))
    {
        SqlCommand cmd = conn.CreateCommand();
        cmd.CommandText = @"SELECT * FROM Blogs";

        Console.WriteLine("--\nAll blogs for TenantId {0} (using ADO.NET SqlClient):", tenantId4);
        SqlDataReader reader = cmd.ExecuteReader();
        while (reader.Read())
        {
            Console.WriteLine("{0}", reader["Name"]);
        }
    }
});
</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="48bf2733-d7ad-4990-a1cc-4020f6479a36"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="48bf2733-d7ad-4990-a1cc-4020f6479a36">
        <segment
          trans_unit_id="149">
          <SegmentId>8aca19e7-91db-4162-b7ca-f3370fb4067f</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="149"
            trans_unit_id="149-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="c5054823-bf73-485c-9188-20fc48916bec"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="c5054823-bf73-485c-9188-20fc48916bec">
        <segment
          trans_unit_id="150">
          <SegmentId>23e18f87-7717-4389-9e69-970679f203ff</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="150"
            trans_unit_id="150-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="cac2b316-864f-44b2-935a-c951894cbe1b"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="cac2b316-864f-44b2-935a-c951894cbe1b">
        <Lines>
          <MarkdownLine>
            <LineId>8570fc0f-b47d-4cb7-92d7-49b1b165df10</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="151">
                <SegmentId>9ff54dde-3f29-4b3a-bcb3-03c91dcf7457</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="151"
                  trans_unit_id="151-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="151">
            <SegmentId>9ff54dde-3f29-4b3a-bcb3-03c91dcf7457</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="151"
              trans_unit_id="151-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="f93b16d0-c68e-45fc-a975-8e8e40258af9"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="f93b16d0-c68e-45fc-a975-8e8e40258af9">
        <Lines>
          <MarkdownLine>
            <LineId>e40b80a3-0d55-43c2-bfec-95dda6c79e72</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="152">
                <SegmentId>0c7e8fa0-62c3-42af-ae65-02bf7a5643f9</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="152"
                  trans_unit_id="152-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="153">
                <SegmentId>00ceb6f4-8df6-4729-850a-924bcc7e1a42</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="153"
                  trans_unit_id="153-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="154">
                <SegmentId>9f28d8f4-0da0-4b90-99b3-d10eed0f6f51</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="154"
                  trans_unit_id="154-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="155">
                <SegmentId>13c53803-bd7e-4052-9e69-a72a59265e12</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="155"
                  trans_unit_id="155-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="152">
            <SegmentId>0c7e8fa0-62c3-42af-ae65-02bf7a5643f9</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="152"
              trans_unit_id="152-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="153">
            <SegmentId>00ceb6f4-8df6-4729-850a-924bcc7e1a42</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="153"
              trans_unit_id="153-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="154">
            <SegmentId>9f28d8f4-0da0-4b90-99b3-d10eed0f6f51</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="154"
              trans_unit_id="154-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="155">
            <SegmentId>13c53803-bd7e-4052-9e69-a72a59265e12</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="155"
              trans_unit_id="155-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="ca41aeb9-b705-48a1-bc50-89a3110ffb00"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="ca41aeb9-b705-48a1-bc50-89a3110ffb00">
        <Lines>
          <MarkdownLine>
            <LineId>d1f4dcec-b168-479e-9876-df5c4da25ca2</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="156">
                <SegmentId>7b16be85-6e11-4d71-a1b1-e899379c8843</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="156"
                  trans_unit_id="156-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="156"
                  trans_unit_id="156-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Elastic Database Jobs</internal_link_text>
                  <internal_link_url>sql-database-elastic-jobs-overview.md</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="156"
                  trans_unit_id="156-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="156">
            <SegmentId>7b16be85-6e11-4d71-a1b1-e899379c8843</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="156"
              trans_unit_id="156-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="156"
              trans_unit_id="156-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Elastic Database Jobs</internal_link_text>
              <internal_link_url>sql-database-elastic-jobs-overview.md</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="156"
              trans_unit_id="156-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="e07fcd0b-758a-478a-a1e7-678d784703b7"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="e07fcd0b-758a-478a-a1e7-678d784703b7">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>CREATE SCHEMA rls -- separate schema to organize RLS objects 
GO

CREATE FUNCTION rls.fn_tenantAccessPredicate(@TenantId int)     
    RETURNS TABLE     
    WITH SCHEMABINDING
AS
    RETURN SELECT 1 AS fn_accessResult          
        WHERE DATABASE_PRINCIPAL_ID() = DATABASE_PRINCIPAL_ID('dbo') -- the user in your application’s connection string (dbo is only for demo purposes!)         
        AND CONVERT(int, CONVERT(varbinary(4), CONTEXT_INFO())) = @TenantId -- @TenantId (int) is 4 bytes 
GO

CREATE SECURITY POLICY rls.tenantAccessPolicy
    ADD FILTER PREDICATE rls.fn_tenantAccessPredicate(TenantId) ON dbo.Blogs,
    ADD FILTER PREDICATE rls.fn_tenantAccessPredicate(TenantId) ON dbo.Posts
GO </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownNoteBlock"
        item_id="3c1537c5-fb2d-40d0-bbf0-92195ddf5c15"
        item_type="Note"
        item_footer=""
        trans_unit_id="3c1537c5-fb2d-40d0-bbf0-92195ddf5c15">
        <Lines>
          <MarkdownLine>
            <LineId>f608f826-a6ba-4075-9065-8947401da89f</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="157">
                <SegmentId>6adac9ee-820f-4354-89c6-2217c6ef3974</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="157"
                  trans_unit_id="157-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="158">
                <SegmentId>2cc7d3b5-9397-4b2c-93e2-216e8ce5a486</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="158"
                  trans_unit_id="158-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="158"
                  trans_unit_id="158-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Apply Row-Level Security to all tables – helper script (blog)</internal_link_text>
                  <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/03/31/apply-row-level-security-to-all-tables-helper-script</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="158"
                  trans_unit_id="158-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>2</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <NoteSign>&gt; [AZURE.TIP] </NoteSign>
        <Prefixes>
          <string />
        </Prefixes>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="157">
            <SegmentId>6adac9ee-820f-4354-89c6-2217c6ef3974</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="157"
              trans_unit_id="157-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="158">
            <SegmentId>2cc7d3b5-9397-4b2c-93e2-216e8ce5a486</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="158"
              trans_unit_id="158-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="158"
              trans_unit_id="158-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Apply Row-Level Security to all tables – helper script (blog)</internal_link_text>
              <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/03/31/apply-row-level-security-to-all-tables-helper-script</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="158"
              trans_unit_id="158-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="8ee7e8b8-8694-4dfc-ae64-f2bac6055773"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="8ee7e8b8-8694-4dfc-ae64-f2bac6055773">
        <Lines>
          <MarkdownLine>
            <LineId>7b239f6f-8cf7-4a57-ab22-51b60dba2432</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="159">
                <SegmentId>b6df7367-26ba-45c6-ba77-faf1f467823d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="159"
                  trans_unit_id="159-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="159">
            <SegmentId>b6df7367-26ba-45c6-ba77-faf1f467823d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="159"
              trans_unit_id="159-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="7ed75871-b47b-45b3-a745-ad69e26526d3"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="7ed75871-b47b-45b3-a745-ad69e26526d3">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>ALTER SECURITY POLICY rls.tenantAccessPolicy     
    ADD FILTER PREDICATE rls.fn_tenantAccessPredicate(TenantId) ON dbo.MyNewTable 
GO </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="f6d3a5fa-f955-467b-809f-1170c02de24c"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="f6d3a5fa-f955-467b-809f-1170c02de24c">
        <Lines>
          <MarkdownLine>
            <LineId>256b0dd0-ebfe-470a-8332-4fd7418114ad</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="160">
                <SegmentId>fbfe0bd9-b9e3-4dc3-b6c6-42b6ca3cc75e</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="160"
                  trans_unit_id="160-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="160">
            <SegmentId>fbfe0bd9-b9e3-4dc3-b6c6-42b6ca3cc75e</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="160"
              trans_unit_id="160-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="af961b83-b775-4c4f-940b-4df4f1d029d1"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="af961b83-b775-4c4f-940b-4df4f1d029d1">
        <segment
          trans_unit_id="161">
          <SegmentId>d1b9f245-7ec9-45c3-a507-65ba9ffa0f83</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="161"
            trans_unit_id="161-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="c96bb6b7-22bf-41fc-be97-6324f423ad6b"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="c96bb6b7-22bf-41fc-be97-6324f423ad6b">
        <Lines>
          <MarkdownLine>
            <LineId>56d779e6-092c-40e5-b56a-7b9959bfa96c</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="162">
                <SegmentId>f49e38c3-498e-4e2b-bf98-deaca8945720</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="162"
                  trans_unit_id="162-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="163">
                <SegmentId>8d9fe0de-a60b-4328-a9de-851206a56e86</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="163"
                  trans_unit_id="163-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="164">
                <SegmentId>0086ee09-b857-4cd5-bda3-970f43fce246</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="164"
                  trans_unit_id="164-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="165">
                <SegmentId>0823d2ed-961d-48c7-a43a-1ed33dfb1937</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="165"
                  trans_unit_id="165-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="165"
                  trans_unit_id="165-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Row-Level Security: Blocking unauthorized INSERTs (blog)</internal_link_text>
                  <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/03/23/row-level-security-blocking-unauthorized-inserts</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="165"
                  trans_unit_id="165-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="162">
            <SegmentId>f49e38c3-498e-4e2b-bf98-deaca8945720</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="162"
              trans_unit_id="162-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="163">
            <SegmentId>8d9fe0de-a60b-4328-a9de-851206a56e86</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="163"
              trans_unit_id="163-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="164">
            <SegmentId>0086ee09-b857-4cd5-bda3-970f43fce246</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="164"
              trans_unit_id="164-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="165">
            <SegmentId>0823d2ed-961d-48c7-a43a-1ed33dfb1937</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="165"
              trans_unit_id="165-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="165"
              trans_unit_id="165-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Row-Level Security: Blocking unauthorized INSERTs (blog)</internal_link_text>
              <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/03/23/row-level-security-blocking-unauthorized-inserts</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="165"
              trans_unit_id="165-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="4dcd8538-1b07-4795-b2e3-9ce38bc900cf"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="4dcd8538-1b07-4795-b2e3-9ce38bc900cf">
        <Lines>
          <MarkdownLine>
            <LineId>fc77a060-1fd9-479f-93af-7dde92608793</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="166">
                <SegmentId>a23f7eed-7168-4f6c-9650-e986d60565ba</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="166"
                  trans_unit_id="166-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="166">
            <SegmentId>a23f7eed-7168-4f6c-9650-e986d60565ba</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="166"
              trans_unit_id="166-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="98a280e6-fd91-4c65-a9fd-a15752f61e56"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="98a280e6-fd91-4c65-a9fd-a15752f61e56">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>-- Create a scalar version of the predicate function for use in check constraints 
CREATE FUNCTION rls.fn_tenantAccessPredicateScalar(@TenantId int)     
    RETURNS bit 
AS     
    BEGIN     
        IF EXISTS( SELECT 1 FROM rls.fn_tenantAccessPredicate(@TenantId) )         
            RETURN 1     
        RETURN 0 
    END 
GO 

-- Add the function as a check constraint on all sharded tables 
ALTER TABLE Blogs     
    WITH NOCHECK -- don't check data already in table     
    ADD CONSTRAINT chk_blocking_Blogs -- needs a unique name     
    CHECK( rls.fn_tenantAccessPredicateScalar(TenantId) = 1 ) 
GO

ALTER TABLE Posts     
    WITH NOCHECK     
    ADD CONSTRAINT chk_blocking_Posts     
    CHECK( rls.fn_tenantAccessPredicateScalar(TenantId) = 1 ) 
GO </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="374e607c-b5d6-4546-a34e-bf9e90cf8829"
        item_type="NormalParagraph"
        item_footer="&#xA;"
        trans_unit_id="374e607c-b5d6-4546-a34e-bf9e90cf8829">
        <Lines>
          <MarkdownLine>
            <LineId>0e9c6e97-8cf4-46fd-b90b-37894185e22e</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="167">
                <SegmentId>cc735245-225e-44f6-89ab-a221eb02278b</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="167"
                  trans_unit_id="167-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="168">
                <SegmentId>be7e724c-0b8a-457a-a74c-e299d064a4b6</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="168"
                  trans_unit_id="168-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="169">
                <SegmentId>fd425bb4-03d1-4123-9fde-71231f3ac8b2</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="169"
                  trans_unit_id="169-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="167">
            <SegmentId>cc735245-225e-44f6-89ab-a221eb02278b</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="167"
              trans_unit_id="167-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="168">
            <SegmentId>be7e724c-0b8a-457a-a74c-e299d064a4b6</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="168"
              trans_unit_id="168-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="169">
            <SegmentId>fd425bb4-03d1-4123-9fde-71231f3ac8b2</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="169"
              trans_unit_id="169-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="38b64e66-44d3-4ff2-b71b-7c96ab8c7fe0"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="38b64e66-44d3-4ff2-b71b-7c96ab8c7fe0">
        <segment
          trans_unit_id="170">
          <SegmentId>7058549b-0c76-43bb-95b4-05abffcefb26</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="170"
            trans_unit_id="170-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="064542e2-99d9-470c-be5a-21955f323b81"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="064542e2-99d9-470c-be5a-21955f323b81">
        <Lines>
          <MarkdownLine>
            <LineId>ac383730-aa91-4799-903b-7b0ce6d03c8a</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="171">
                <SegmentId>047f22f9-89cc-4cdc-bd5b-975d397d4e58</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="171"
                  trans_unit_id="171-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="172">
                <SegmentId>120db7d4-00ae-4f5b-9fd1-129c2212d235</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="172"
                  trans_unit_id="172-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="171">
            <SegmentId>047f22f9-89cc-4cdc-bd5b-975d397d4e58</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="171"
              trans_unit_id="171-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="172">
            <SegmentId>120db7d4-00ae-4f5b-9fd1-129c2212d235</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="172"
              trans_unit_id="172-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="35b3e949-62c0-400c-9284-a1a9721c0381"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="35b3e949-62c0-400c-9284-a1a9721c0381">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>-- Create default constraints to auto-populate TenantId with the value of CONTEXT_INFO for inserts 
ALTER TABLE Blogs     
    ADD CONSTRAINT df_TenantId_Blogs      
    DEFAULT CONVERT(int, CONVERT(varbinary(4), CONTEXT_INFO())) FOR TenantId 
GO

ALTER TABLE Posts     
    ADD CONSTRAINT df_TenantId_Posts      
    DEFAULT CONVERT(int, CONVERT(varbinary(4), CONTEXT_INFO())) FOR TenantId 
GO </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="1959a151-8d3f-4025-a456-c53f3c79cd1b"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="1959a151-8d3f-4025-a456-c53f3c79cd1b">
        <Lines>
          <MarkdownLine>
            <LineId>c752ea34-98a4-49bb-9d3c-f2cc63cad7aa</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="173">
                <SegmentId>b57421fe-c031-4813-8c21-f087347a4669</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="173"
                  trans_unit_id="173-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="173">
            <SegmentId>b57421fe-c031-4813-8c21-f087347a4669</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="173"
              trans_unit_id="173-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="70576cf4-765a-4361-9491-e16a0dd889f9"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="70576cf4-765a-4361-9491-e16a0dd889f9">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>SqlDatabaseUtils.SqlRetryPolicy.ExecuteAction(() =&gt; 
{   
    using (var db = new ElasticScaleContext&lt;int&gt;(sharding.ShardMap, tenantId, connStrBldr.ConnectionString))
    {
        var blog = new Blog { Name = name }; // default constraint sets TenantId automatically     
        db.Blogs.Add(blog);     
        db.SaveChanges();   
    } 
}); </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownNoteBlock"
        item_id="941623f5-fd64-419d-af1b-527be443d149"
        item_type="Note"
        item_footer=""
        trans_unit_id="941623f5-fd64-419d-af1b-527be443d149">
        <Lines>
          <MarkdownLine>
            <LineId>319c0f38-601a-4342-9568-5102823a2e4e</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="174">
                <SegmentId>2f30e2fe-2501-451c-b8b5-942e7cc02cab</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="174"
                  trans_unit_id="174-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="175">
                <SegmentId>e19d1355-2c1c-4d97-8d1a-d7d6c7cd1599</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="175"
                  trans_unit_id="175-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="176">
                <SegmentId>408315b8-8f45-4b97-ac65-ef318bddcc14</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="176"
                  trans_unit_id="176-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="177">
                <SegmentId>9613b816-aa60-4b7b-b86c-0f0b5d694338</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="177"
                  trans_unit_id="177-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>1</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <NoteSign>&gt; [AZURE.NOTE] </NoteSign>
        <Prefixes>
          <string />
        </Prefixes>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="174">
            <SegmentId>2f30e2fe-2501-451c-b8b5-942e7cc02cab</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="174"
              trans_unit_id="174-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="175">
            <SegmentId>e19d1355-2c1c-4d97-8d1a-d7d6c7cd1599</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="175"
              trans_unit_id="175-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="176">
            <SegmentId>408315b8-8f45-4b97-ac65-ef318bddcc14</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="176"
              trans_unit_id="176-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="177">
            <SegmentId>9613b816-aa60-4b7b-b86c-0f0b5d694338</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="177"
              trans_unit_id="177-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="885a1220-36d8-493e-ae66-89c19309bb1e"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="885a1220-36d8-493e-ae66-89c19309bb1e">
        <segment
          trans_unit_id="178">
          <SegmentId>d06e3dda-535b-4b3f-bfd0-576940512c6f</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="178"
            trans_unit_id="178-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="a5aba1df-5ff6-4863-8764-7c817ec23fa3"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="a5aba1df-5ff6-4863-8764-7c817ec23fa3">
        <Lines>
          <MarkdownLine>
            <LineId>47ee2770-a66e-44e8-9022-9c7f535262b6</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="179">
                <SegmentId>ab352d52-be58-4d97-b303-cc534593961e</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="179"
                  trans_unit_id="179-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="180">
                <SegmentId>9c31b553-f144-481d-a89f-f69d581ea416</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="180"
                  trans_unit_id="180-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="181">
                <SegmentId>528fa895-14d0-4534-8765-65467ddd870f</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="181"
                  trans_unit_id="181-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="179">
            <SegmentId>ab352d52-be58-4d97-b303-cc534593961e</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="179"
              trans_unit_id="179-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="180">
            <SegmentId>9c31b553-f144-481d-a89f-f69d581ea416</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="180"
              trans_unit_id="180-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="181">
            <SegmentId>528fa895-14d0-4534-8765-65467ddd870f</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="181"
              trans_unit_id="181-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="41cd1d07-3604-4c5d-9c92-18654433c481"
        item_type="FencedCodeBlock"
        item_footer="&#xA;"
        trans_unit_id="41cd1d07-3604-4c5d-9c92-18654433c481">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>-- New predicate function that adds superuser logic
CREATE FUNCTION rls.fn_tenantAccessPredicateWithSuperUser(@TenantId int)
    RETURNS TABLE
    WITH SCHEMABINDING
AS
    RETURN SELECT 1 AS fn_accessResult 
        WHERE 
        (
            DATABASE_PRINCIPAL_ID() = DATABASE_PRINCIPAL_ID('dbo') -- note, should not be dbo!
            AND CONVERT(int, CONVERT(varbinary(4), CONTEXT_INFO())) = @TenantId
        ) 
        OR
        (
            DATABASE_PRINCIPAL_ID() = DATABASE_PRINCIPAL_ID('superuser')
        )
GO

-- Atomically swap in the new predicate function on each table
ALTER SECURITY POLICY rls.tenantAccessPolicy
    ALTER FILTER PREDICATE rls.fn_tenantAccessPredicateWithSuperUser(TenantId) ON dbo.Blogs,
    ALTER FILTER PREDICATE rls.fn_tenantAccessPredicateWithSuperUser(TenantId) ON dbo.Posts
GO</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="69b28567-5180-4195-ba6e-7d0bdbeba564"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="69b28567-5180-4195-ba6e-7d0bdbeba564">
        <segment
          trans_unit_id="182">
          <SegmentId>4ed6b387-6951-4948-9e54-8b9d876020f3</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="182"
            trans_unit_id="182-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="ef5597a7-5518-4c0d-9b63-96363d452932"
        item_type="List"
        item_footer="&#xA;"
        trans_unit_id="ef5597a7-5518-4c0d-9b63-96363d452932">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="1dfc1cf9-79e4-4325-b2db-bac2f74ecea2"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="1dfc1cf9-79e4-4325-b2db-bac2f74ecea2">
              <Lines>
                <MarkdownLine>
                  <LineId>55a41c67-464f-4e45-b549-24c65f267c5c</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="183">
                      <SegmentId>dfaf1466-9b83-41fa-90df-c7186811460f</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="183"
                        trans_unit_id="183-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="183"
                        trans_unit_id="183-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="183">
                  <SegmentId>dfaf1466-9b83-41fa-90df-c7186811460f</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="183"
                    trans_unit_id="183-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="183"
                    trans_unit_id="183-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="ff6fc5ad-9c0d-427b-b2d5-86a0159431b1"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="ff6fc5ad-9c0d-427b-b2d5-86a0159431b1">
              <Lines>
                <MarkdownLine>
                  <LineId>c866eab4-189b-48c5-8bd1-31cccd595197</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="184">
                      <SegmentId>d808700a-a2d3-492a-8b28-c28fa81052e1</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="184"
                        trans_unit_id="184-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="184"
                        trans_unit_id="184-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="185">
                      <SegmentId>b782b3dd-ead6-4c61-9baa-98307d87e23d</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="185"
                        trans_unit_id="185-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <LinkItem
                        internal_item_id="2"
                        internal_item_parent_id="185"
                        trans_unit_id="185-2"
                        internal_item_type="Link">
                        <internal_items />
                        <internal_link_type>Inline</internal_link_type>
                        <internal_link_text>Apply Row-Level Security automatically to newly created tables (blog)</internal_link_text>
                        <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/05/22/apply-row-level-security-automatically-to-newly-created-tables.aspx</internal_link_url>
                        <internal_link_title />
                      </LinkItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="185"
                        trans_unit_id="185-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="184">
                  <SegmentId>d808700a-a2d3-492a-8b28-c28fa81052e1</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="184"
                    trans_unit_id="184-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="184"
                    trans_unit_id="184-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="185">
                  <SegmentId>b782b3dd-ead6-4c61-9baa-98307d87e23d</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="185"
                    trans_unit_id="185-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <LinkItem
                    internal_item_id="2"
                    internal_item_parent_id="185"
                    trans_unit_id="185-2"
                    internal_item_type="Link">
                    <internal_items />
                    <internal_link_type>Inline</internal_link_type>
                    <internal_link_text>Apply Row-Level Security automatically to newly created tables (blog)</internal_link_text>
                    <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/05/22/apply-row-level-security-automatically-to-newly-created-tables.aspx</internal_link_url>
                    <internal_link_title />
                  </LinkItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="185"
                    trans_unit_id="185-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="4f074109-00d5-44df-9dab-31eddbeb37b8"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="4f074109-00d5-44df-9dab-31eddbeb37b8">
        <segment
          trans_unit_id="186">
          <SegmentId>ee851370-0f61-4fa6-95fe-689bdc168008</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="186"
            trans_unit_id="186-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="0787f073-abdd-451c-a1c5-0187f7bd8052"
        item_type="NormalParagraph"
        item_footer="&#xA;"
        trans_unit_id="0787f073-abdd-451c-a1c5-0187f7bd8052">
        <Lines>
          <MarkdownLine>
            <LineId>763b8f38-6c01-45df-9e3c-dce21a65c13b</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="187">
                <SegmentId>f8b80351-6659-4f5c-89b8-20fe3e8170a4</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="187"
                  trans_unit_id="187-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="188">
                <SegmentId>2bd67e24-b0e5-47cd-ac8e-b65bd84c74eb</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="188"
                  trans_unit_id="188-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="189">
                <SegmentId>98070191-d7dc-4d76-811c-4a88fa9dc8da</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="189"
                  trans_unit_id="189-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="189"
                  trans_unit_id="189-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Elastic Database Tools Documentation Map</internal_link_text>
                  <internal_link_url>sql-database-elastic-scale-documentation-map.md</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="189"
                  trans_unit_id="189-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="4"
                  internal_item_parent_id="189"
                  trans_unit_id="189-4"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Row-Level Security reference</internal_link_text>
                  <internal_link_url>https://msdn.microsoft.com/library/dn765131</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="5"
                  internal_item_parent_id="189"
                  trans_unit_id="189-5"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="187">
            <SegmentId>f8b80351-6659-4f5c-89b8-20fe3e8170a4</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="187"
              trans_unit_id="187-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="188">
            <SegmentId>2bd67e24-b0e5-47cd-ac8e-b65bd84c74eb</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="188"
              trans_unit_id="188-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="189">
            <SegmentId>98070191-d7dc-4d76-811c-4a88fa9dc8da</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="189"
              trans_unit_id="189-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="189"
              trans_unit_id="189-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Elastic Database Tools Documentation Map</internal_link_text>
              <internal_link_url>sql-database-elastic-scale-documentation-map.md</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="189"
              trans_unit_id="189-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="4"
              internal_item_parent_id="189"
              trans_unit_id="189-4"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Row-Level Security reference</internal_link_text>
              <internal_link_url>https://msdn.microsoft.com/library/dn765131</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="5"
              internal_item_parent_id="189"
              trans_unit_id="189-5"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="f6d47ed9-55e1-47e6-b582-86e8309a7e6f"
        item_type="NormalParagraph"
        item_footer="&#xA;&#xA;&#xA;&#xA;&#xA;&#xA;&#xA;"
        trans_unit_id="f6d47ed9-55e1-47e6-b582-86e8309a7e6f">
        <Lines>
          <MarkdownLine>
            <LineId>12761daa-d828-414c-99b9-26d2683d5afc</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="190">
                <SegmentId>334f9bee-729a-49e1-a4af-3e3b21dc0a21</SegmentId>
                <MarkdownInternalTokenItem
                  internal_item_id="1"
                  internal_item_parent_id="190"
                  trans_unit_id="190-1"
                  internal_item_type="Token">
                  <internal_items />
                  <TokenPrefix>AZURE.INCLUDE </TokenPrefix>
                  <TokenShortName>elastic-scale-include</TokenShortName>
                  <TokenHyperLink>../../includes/elastic-scale-include.md</TokenHyperLink>
                </MarkdownInternalTokenItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="190">
            <SegmentId>334f9bee-729a-49e1-a4af-3e3b21dc0a21</SegmentId>
            <MarkdownInternalTokenItem
              internal_item_id="1"
              internal_item_parent_id="190"
              trans_unit_id="190-1"
              internal_item_type="Token">
              <internal_items />
              <TokenPrefix>AZURE.INCLUDE </TokenPrefix>
              <TokenShortName>elastic-scale-include</TokenShortName>
              <TokenHyperLink>../../includes/elastic-scale-include.md</TokenHyperLink>
            </MarkdownInternalTokenItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
    </ArrayOfMarkdownBlockBase>
  </block_element>
  <references>
    <ArrayOfMarkdownLinkedReference xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownLinkedReference
        item_id="538db9f5-f0e6-4b4a-acd8-107aad2738ef"
        item_type="LinkedReference"
        item_footer="footer_not_set"
        trans_unit_id="538db9f5-f0e6-4b4a-acd8-107aad2738ef">
        <link_id>1</link_id>
        <link_uri>./media/sql-database-elastic-tools-multi-tenant-row-level-security/blogging-app.png</link_uri>
        <link_title />
      </MarkdownLinkedReference>
    </ArrayOfMarkdownLinkedReference>
  </references>
</markdown_skeleton_root>