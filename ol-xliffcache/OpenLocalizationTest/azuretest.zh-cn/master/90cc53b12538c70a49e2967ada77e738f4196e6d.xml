<markdown_skeleton_root>
  <block_element>
    <ArrayOfMarkdownBlockBase xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownBlockBase
        xsi:type="MarkdownAzureMetadataBlock"
        item_id="60fd7785-cbb1-49f9-b4da-6398031cdb8c"
        item_type="AzureMetadata"
        item_footer="footer_not_set"
        trans_unit_id="60fd7785-cbb1-49f9-b4da-6398031cdb8c">
        <LocalizeItemList>
          <MarkdownInternalXmlItem
            internal_item_id="7de439f0-9852-4664-bac0-32704180f1e6"
            trans_unit_id="101"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
          <MarkdownInternalXmlItem
            internal_item_id="3aa5f05f-67db-4920-b73f-26b8291b4b77"
            trans_unit_id="102"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
        </LocalizeItemList>
        <ItemValue>&lt;properties
    pageTitle="7de439f0-9852-4664-bac0-32704180f1e6"
    description="3aa5f05f-67db-4920-b73f-26b8291b4b77"
    services="machine-learning,hdinsight"
    solutions=""
    documentationCenter=""
    authors="hangzh-msft"
    manager="paulettm" 
    editor="cgronlun"  /&gt;

&lt;tags
    ms.service="machine-learning"
    ms.workload="data-services"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/01/2015"
    ms.author="hangzh;bradsev" /&gt;

</ItemValue>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="cac36d4d-e2ef-4ba3-983c-c67f8335a2c5"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="cac36d4d-e2ef-4ba3-983c-c67f8335a2c5">
        <segment
          trans_unit_id="103">
          <SegmentId>b5164b2d-5632-46f7-ad79-3e283a8ab764</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="103"
            trans_unit_id="103-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>1</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="2684aef5-ad06-43c1-9cf5-f8061d4399c6"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="2684aef5-ad06-43c1-9cf5-f8061d4399c6">
        <Lines>
          <MarkdownLine>
            <LineId>de6dc0b9-7a1e-428e-83a2-0de8c7c6b8e0</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="104">
                <SegmentId>fac72a93-f7d0-4922-a6c5-a5ae3eed3cb5</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="104"
                  trans_unit_id="104-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="105">
                <SegmentId>7a5bfc52-1b8f-43a7-9628-7b58f4c81ba1</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="105"
                  trans_unit_id="105-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="106">
                <SegmentId>4cf1e743-da0a-4453-ac2b-2669b9b75021</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="106"
                  trans_unit_id="106-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="104">
            <SegmentId>fac72a93-f7d0-4922-a6c5-a5ae3eed3cb5</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="104"
              trans_unit_id="104-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="105">
            <SegmentId>7a5bfc52-1b8f-43a7-9628-7b58f4c81ba1</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="105"
              trans_unit_id="105-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="106">
            <SegmentId>4cf1e743-da0a-4453-ac2b-2669b9b75021</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="106"
              trans_unit_id="106-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="4544b6dd-eb31-4eda-a9f8-cec61dff9f69"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="4544b6dd-eb31-4eda-a9f8-cec61dff9f69">
        <Lines>
          <MarkdownLine>
            <LineId>27853494-49f4-4643-85c4-cfc294712dcd</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="107">
                <SegmentId>330a7ec9-53a8-4fbe-9ad0-e751edde3824</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="107"
                  trans_unit_id="107-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="108">
                <SegmentId>9e5a9377-f2e8-4a47-bdc3-96c4ee4c311d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="108"
                  trans_unit_id="108-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="107">
            <SegmentId>330a7ec9-53a8-4fbe-9ad0-e751edde3824</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="107"
              trans_unit_id="107-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="108">
            <SegmentId>9e5a9377-f2e8-4a47-bdc3-96c4ee4c311d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="108"
              trans_unit_id="108-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="71ee7434-7b5b-4149-a2d2-538b9bf022ff"
        item_type="List"
        item_footer=""
        trans_unit_id="71ee7434-7b5b-4149-a2d2-538b9bf022ff">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="ff0020e1-c44d-4df9-8160-24639ab4508b"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="ff0020e1-c44d-4df9-8160-24639ab4508b">
              <Lines>
                <MarkdownLine>
                  <LineId>00868a45-71f8-4a33-9e2c-34ffda47243d</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="109">
                      <SegmentId>c0a4e1e4-a15a-434e-b5b6-dffbc36fd399</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="109"
                        trans_unit_id="109-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="109">
                  <SegmentId>c0a4e1e4-a15a-434e-b5b6-dffbc36fd399</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="109"
                    trans_unit_id="109-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="43af590b-cacb-4d54-ac52-8c75cc93594f"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="43af590b-cacb-4d54-ac52-8c75cc93594f">
              <Lines>
                <MarkdownLine>
                  <LineId>0100ff09-7e9d-404e-9998-c7c0e4f400ed</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="110">
                      <SegmentId>8664aa9d-63d9-498f-a403-930b59726ca4</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="110"
                        trans_unit_id="110-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="110">
                  <SegmentId>8664aa9d-63d9-498f-a403-930b59726ca4</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="110"
                    trans_unit_id="110-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="ec289e52-2da1-4f58-b369-2af4378a38b3"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="ec289e52-2da1-4f58-b369-2af4378a38b3">
              <Lines>
                <MarkdownLine>
                  <LineId>5bcd41e1-aa7f-457c-a6c4-84bec2f6c7db</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="111">
                      <SegmentId>da68f726-5189-45d2-9462-f6b81ebeb8f8</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="111"
                        trans_unit_id="111-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="111">
                  <SegmentId>da68f726-5189-45d2-9462-f6b81ebeb8f8</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="111"
                    trans_unit_id="111-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="fc1147fe-fd22-477b-9e44-912ad3280374"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="fc1147fe-fd22-477b-9e44-912ad3280374">
        <Lines>
          <MarkdownLine>
            <LineId>042249f3-3ed6-4b80-88cd-d7f0bdb5c277</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="112">
                <SegmentId>8474a624-6a13-4884-94af-9d503ac453fd</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="112"
                  trans_unit_id="112-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="113">
                <SegmentId>d7ec723d-74a1-42b7-800d-fb10059edd23</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="113"
                  trans_unit_id="113-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="114">
                <SegmentId>763cf05e-ea8f-44b1-ac97-50a29384e0d8</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="114"
                  trans_unit_id="114-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="114"
                  trans_unit_id="114-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>How to Submit Hive Queries</internal_link_text>
                  <internal_link_url>machine-learning-data-science-process-hive-tables.md#submit</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="114"
                  trans_unit_id="114-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="112">
            <SegmentId>8474a624-6a13-4884-94af-9d503ac453fd</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="112"
              trans_unit_id="112-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="113">
            <SegmentId>d7ec723d-74a1-42b7-800d-fb10059edd23</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="113"
              trans_unit_id="113-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="114">
            <SegmentId>763cf05e-ea8f-44b1-ac97-50a29384e0d8</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="114"
              trans_unit_id="114-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="114"
              trans_unit_id="114-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>How to Submit Hive Queries</internal_link_text>
              <internal_link_url>machine-learning-data-science-process-hive-tables.md#submit</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="114"
              trans_unit_id="114-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="7e95bbed-23c1-4050-b874-77fba058ba3b"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="7e95bbed-23c1-4050-b874-77fba058ba3b">
        <segment
          trans_unit_id="115">
          <SegmentId>07970fdb-65df-49b0-86bd-6ce70eceb02a</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="115"
            trans_unit_id="115-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="uniform"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="115"
            trans_unit_id="115-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="115"
            trans_unit_id="115-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="9ecfbc89-98df-4918-811b-2d99e67c32ea"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="9ecfbc89-98df-4918-811b-2d99e67c32ea">
        <Lines>
          <MarkdownLine>
            <LineId>b3904351-ea24-43b5-ba0d-168700a92b7a</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="116">
                <SegmentId>cb16319e-7f99-46f1-b764-62516fc4c539</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="116"
                  trans_unit_id="116-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="117">
                <SegmentId>7046a0c8-dcf8-4ccf-bbd5-8498997d5d3a</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="117"
                  trans_unit_id="117-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="116">
            <SegmentId>cb16319e-7f99-46f1-b764-62516fc4c539</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="116"
              trans_unit_id="116-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="117">
            <SegmentId>7046a0c8-dcf8-4ccf-bbd5-8498997d5d3a</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="117"
              trans_unit_id="117-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="c669acd1-ea15-4cf1-acfe-f8e49482377d"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="c669acd1-ea15-4cf1-acfe-f8e49482377d">
        <Lines>
          <MarkdownLine>
            <LineId>6295d83f-e7ee-4da4-b707-5ef9f82c8d9c</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="118">
                <SegmentId>488725d4-aba2-4ebe-a799-3754d46015d4</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="118"
                  trans_unit_id="118-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="118">
            <SegmentId>488725d4-aba2-4ebe-a799-3754d46015d4</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="118"
              trans_unit_id="118-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="0e3e1686-a6f3-43ba-8f95-b517f330fa22"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="0e3e1686-a6f3-43ba-8f95-b517f330fa22">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    field1, field2, …, fieldN
from
    (
    select
        field1, field2, …, fieldN, rand() as samplekey
    from &lt;hive table name&gt;
    )a
where samplekey&lt;='${hiveconf:sampleRate}'

</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="82e3b63b-650c-4d75-9120-28d5209f1d1f"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="82e3b63b-650c-4d75-9120-28d5209f1d1f">
        <Lines>
          <MarkdownLine>
            <LineId>f93706dd-6f9b-465c-aecb-1d054af39822</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="119">
                <SegmentId>e027c3c5-bc29-498d-a5d1-13b186b01446</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="119"
                  trans_unit_id="119-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <CodeSpanItem
                  internal_item_id="2"
                  internal_item_parent_id="119"
                  trans_unit_id="119-2"
                  internal_item_type="CodeSpan">
                  <internal_items />
                  <ItemValue>&lt;sample rate, 0-1&gt;</ItemValue>
                </CodeSpanItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="119"
                  trans_unit_id="119-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="119">
            <SegmentId>e027c3c5-bc29-498d-a5d1-13b186b01446</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="119"
              trans_unit_id="119-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <CodeSpanItem
              internal_item_id="2"
              internal_item_parent_id="119"
              trans_unit_id="119-2"
              internal_item_type="CodeSpan">
              <internal_items />
              <ItemValue>&lt;sample rate, 0-1&gt;</ItemValue>
            </CodeSpanItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="119"
              trans_unit_id="119-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="43b87f54-25f9-464d-96e8-f0ec88ebc5e5"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="43b87f54-25f9-464d-96e8-f0ec88ebc5e5">
        <segment
          trans_unit_id="120">
          <SegmentId>7cfc00f9-7cdf-4148-8cb4-e948dd1b1c2f</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="120"
            trans_unit_id="120-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="group"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="120"
            trans_unit_id="120-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="120"
            trans_unit_id="120-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="05daa0b3-b788-4744-a414-7ba5c023c4c1"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="05daa0b3-b788-4744-a414-7ba5c023c4c1">
        <Lines>
          <MarkdownLine>
            <LineId>3732c5a3-93ce-493b-8729-d7f98eacfcb2</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="121">
                <SegmentId>772588ca-7ec8-4a89-bd90-e19db4726506</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="121"
                  trans_unit_id="121-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="122">
                <SegmentId>1f882fbe-fa68-464f-b4b6-f5b93e1ac916</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="122"
                  trans_unit_id="122-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
          <MarkdownLine>
            <LineId>edd973b3-03fa-458b-a7a4-3798795a2326</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="123">
                <SegmentId>b38c8e87-c3a0-4d4e-b725-5322f8425c24</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="123"
                  trans_unit_id="123-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="121">
            <SegmentId>772588ca-7ec8-4a89-bd90-e19db4726506</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="121"
              trans_unit_id="121-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="122">
            <SegmentId>1f882fbe-fa68-464f-b4b6-f5b93e1ac916</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="122"
              trans_unit_id="122-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="123">
            <SegmentId>b38c8e87-c3a0-4d4e-b725-5322f8425c24</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="123"
              trans_unit_id="123-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="c4d82425-6b23-4e94-9867-f2ebf025da8c"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="c4d82425-6b23-4e94-9867-f2ebf025da8c">
        <Lines>
          <MarkdownLine>
            <LineId>9e10c549-c57b-4d07-aa29-ad7e19ecbbf9</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="124">
                <SegmentId>af28e5b9-637b-4be7-871f-d4a588b160da</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="124"
                  trans_unit_id="124-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="124">
            <SegmentId>af28e5b9-637b-4be7-871f-d4a588b160da</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="124"
              trans_unit_id="124-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="1d0d7717-4ef6-4712-88df-a25796d8ff5d"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="1d0d7717-4ef6-4712-88df-a25796d8ff5d">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    b.field1, b.field2, …, b.catfield, …, b.fieldN
from
    (
    select
        field1, field2, …, catfield, …, fieldN
    from &lt;table name&gt;
    )b
join
    (
    select
        catfield
    from
        (
        select
            catfield, rand() as samplekey
        from &lt;table name&gt;
        group by catfield
        )a
    where samplekey&lt;='${hiveconf:sampleRate}'
    )c
on b.catfield=c.catfield

</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="6da355f6-d5bd-46c8-a592-9a3279736f0b"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="6da355f6-d5bd-46c8-a592-9a3279736f0b">
        <segment
          trans_unit_id="125">
          <SegmentId>1c0a8009-2218-4c78-97c7-21411f268c8b</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="125"
            trans_unit_id="125-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="stratified"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="125"
            trans_unit_id="125-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="125"
            trans_unit_id="125-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="931eea05-8a17-4243-af6e-4d6e1de87186"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="931eea05-8a17-4243-af6e-4d6e1de87186">
        <Lines>
          <MarkdownLine>
            <LineId>adf7211b-5113-4dcc-920b-d538ebcf8bf4</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="126">
                <SegmentId>f3665a27-c039-4a2b-9f16-34bdd819e065</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="126"
                  trans_unit_id="126-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="127">
                <SegmentId>eabc82bc-3c29-444c-86a4-c648c21a7ffa</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="127"
                  trans_unit_id="127-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="128">
                <SegmentId>5397cdcd-ef76-4966-aca9-6c4d013211e1</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="128"
                  trans_unit_id="128-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="126">
            <SegmentId>f3665a27-c039-4a2b-9f16-34bdd819e065</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="126"
              trans_unit_id="126-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="127">
            <SegmentId>eabc82bc-3c29-444c-86a4-c648c21a7ffa</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="127"
              trans_unit_id="127-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="128">
            <SegmentId>5397cdcd-ef76-4966-aca9-6c4d013211e1</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="128"
              trans_unit_id="128-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="39d5d878-7bd4-413f-9947-b9bd5e40b120"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="39d5d878-7bd4-413f-9947-b9bd5e40b120">
        <Lines>
          <MarkdownLine>
            <LineId>5b9243dd-dc79-486f-99e2-971595cbadd2</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="129">
                <SegmentId>1d9ae8d0-07ca-45f4-9aa4-d5eb0d1ec707</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="129"
                  trans_unit_id="129-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="129">
            <SegmentId>1d9ae8d0-07ca-45f4-9aa4-d5eb0d1ec707</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="129"
              trans_unit_id="129-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="5b2bfa35-e3b0-476e-a39c-d17c1dbc7944"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="5b2bfa35-e3b0-476e-a39c-d17c1dbc7944">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    field1, field2, field3, ..., fieldN, state
from
    (
    select
        field1, field2, field3, ..., fieldN, state,
        count(*) over (partition by state) as state_cnt,
        rank() over (partition by state order by rand()) as state_rank
    from &lt;table name&gt;
    ) a
where state_rank &lt;= state_cnt*'${hiveconf:sampleRate}'


</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="79f34601-0cf3-4723-8d65-3d1927ab85eb"
        item_type="NormalParagraph"
        item_footer="&#xA;&#xA;"
        trans_unit_id="79f34601-0cf3-4723-8d65-3d1927ab85eb">
        <Lines>
          <MarkdownLine>
            <LineId>85a009e5-af44-4cf6-ab16-e103788d372b</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="130">
                <SegmentId>0dd28b7c-db88-41df-896f-c4c1d2880c9d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="130"
                  trans_unit_id="130-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="130"
                  trans_unit_id="130-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>LanguageManual Sampling</internal_link_text>
                  <internal_link_url>https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Sampling</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="130"
                  trans_unit_id="130-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="130">
            <SegmentId>0dd28b7c-db88-41df-896f-c4c1d2880c9d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="130"
              trans_unit_id="130-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="130"
              trans_unit_id="130-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>LanguageManual Sampling</internal_link_text>
              <internal_link_url>https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Sampling</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="130"
              trans_unit_id="130-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
    </ArrayOfMarkdownBlockBase>
  </block_element>
  <references>
    <ArrayOfMarkdownLinkedReference xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
  </references>
</markdown_skeleton_root>