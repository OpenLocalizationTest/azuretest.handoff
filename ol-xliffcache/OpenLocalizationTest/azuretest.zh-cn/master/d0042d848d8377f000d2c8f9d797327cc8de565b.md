<properties
   pageTitle="Availability checklist | Microsoft Azure"
   description="Checklist that provides guidance for availability concerns during design."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="04/28/2015"
   ms.author="masashin"/>

# Verfügbarkeit-Checkliste

![](media/best-practices-availability-checklist/pnp-logo.png)

## Anwendungsdesign

- **Vermeiden Sie jede Fehlerquelle.** Alle Komponenten, Dienste, Ressourcen und Compute Instanzen sollte als mehrere Instanzen zu verhindern, dass eine Fehlerquelle beeinflussen Verfügbarkeit bereitgestellt werden. Dazu gehören Authentifizierungsmechanismen. Konzipieren Sie die Anwendung so, mehrere Instanzen zu verwenden und zur automatischen Erkennung von Fehlern und Anforderungen an wo die Plattform nicht dies automatisch tut-Fehler-Instanzen umleiten konfigurierbar sein.
- **Zersetzen Sie Arbeitsaufwand pro verschiedene SLA.** Wenn ein Dienst besteht aus kritischen und weniger kritischen Workload, sie anders zu handhaben und geben Sie den Service-Features und die Anzahl der Instanzen, erfüllen ihre Anforderungen an die Verfügbarkeit.
- **Minimieren und Abhängigkeiten zu verstehen.** Minimieren Sie die Anzahl der verschiedenen Dienste verwendet, soweit möglich, und stellen Sie sicher, dass Sie alle Abhängigkeiten Funktion und Service verstehen, die im System vorhanden sind. Dies umfasst die Natur diese Abhängigkeiten und die Auswirkungen eines Ausfalls oder reduzierte Leistung jeweils auf die generelle Anwendung. Microsoft garantiert mindestens 99,9 % Verfügbarkeit für die meisten Dienste, aber dies bedeutet, dass jedem zusätzlichen Service, den eine Anwendung auf potenziell stützt die Gesamtverfügbarkeit SLA Ihres Systems um 0,1 % reduziert.
- **Design-Aufgaben und Nachrichten Idempotent werden soweit möglich** so dass doppelte Anfragen keine Probleme verursachen werden. Beispielsweise kann ein Dienst als Consumer fungieren, die als Anfragen von anderen Teilen des Systems, die als Produzenten fungieren gesendete Nachrichten behandelt. Unterlässt der Verbraucher nach Verarbeitung der Nachricht, aber vor der Erkenntnis, dass es verarbeitet wurde, könnte ein Hersteller einen Antrag wiederholen verarbeitet werden könnte von einer anderen Instanz des Verbrauchers. Aus diesem Grund sollten Verbraucher und die Vorgänge, die sie ausüben Idempotent sein, damit eine zuvor ausgeführte Operation wiederholen nicht die Ergebnisse ungültige rendern kann. Dies kann bedeuten, erkennen von Nachrichten dupliziert oder die Kohärenz mit einer optimistischen Ansatz zur Konfliktverarbeitung.
- **Verwenden Sie eine Message-Broker, die hohen Verfügbarkeit von kritischen Transaktionen implementiert.** Viele Szenarien für die Einleitung von Aufgaben oder den Zugriff auf remote-Services messaging verwenden, um Anweisungen zwischen der Anwendung und dem Zieldienst übergeben. Für eine optimale Leistung sollten die Anwendung möglicherweise senden Sie die Nachricht und dann zurückkehren, um weitere Anforderungen zu verarbeiten, ohne auf eine Antwort warten. Um die Übermittlung von Nachrichten zu gewährleisten, sollte das messaging-System hohen Verfügbarkeit bieten. Service Bus Message Queues implementieren _mindestens einmal_ Semantik, werden wobei jede Nachricht in einer Warteschlange gebucht nicht verloren, obwohl möglicherweise doppelte Kopien unter bestimmten Umständen zugestellt werden. Wenn Message-Verarbeitung Idempotent ist (siehe vorherigen Punkt) dann wiederholte Lieferung kein Problem sein sollte.
- **Design-Applikationen zu anmutig erniedrigen** when reaching resource limits, and take appropriate action to minimize the impact for the user. In some cases, the load on the application may exceed the capacity of one or more parts, causing reduced availability and failed connections. Scaling can help to alleviate this, but it may reach a limit imposed by factors such as resource availability or cost. Design the application so that, in this situation, it can automatically degrade gracefully. For example, in an ecommerce system, if the order-processing subsystem is under strain (or has even failed completely), that part of the system can be temporarily disabled while allowing other functionality (such as browsing the product catalog) to continue. It might be appropriate to postpone requests to a failing subsystem, for example still enabling customers to submit orders but saving them to a queue or other safe storage mechanism for later processing when the orders subsystem is available again.
- **Behandeln Sie schnelle Serienbildfunktion Ereignisse würdevoll.** Die meisten Anwendungen müssen unterschiedliche Arbeitslasten wie Spitzen zuerst am Morgen in einer Geschäftsanwendung oder wenn ein neues Produkt in einer e-Commerce-Site freigegeben wird mit der Zeit zu behandeln. Automatische Skalierung kann dazu beitragen, um die Last zu bewältigen kann, aber es einige Zeit für zusätzliche Instanzen online geschaltet und Anfragen. Verhindern Sie, dass plötzliche und unerwartete Ausbrüche von Aktivität überwältigend die Anwendung entwerfen sie auf Warteschlange Anfragen zu den Diensten verwendeten und anmutig abfällt, wenn die Warteschlangen in der Nähe voll ausgelastet sind. Sicherzustellen Sie, dass es ausreichend Leistung und Kapazität unter Umständen nicht platzen entwässern die Warteschlangen und behandeln der ausstehende Anforderungen verfügbar. Weitere Informationen finden Sie unter der [Warteschlangenbasierten Load Abgleich Muster](https://msdn.microsoft.com/library/dn589783.aspx).

## Bereitstellung und Wartung

- **Bereitstellen Sie mehrere Instanzen von Rollen für jeden Dienst.** Microsoft macht Verfügbarkeit Garantien für Dienste, die Sie erstellen und bereitstellen, aber diese Garantien sind nur dann gültig, wenn Sie mindestens zwei Instanzen der einzelnen Rollen im Dienst bereitstellen. Dies ermöglicht eine Rolle nicht verfügbar sein, während die andere aktiv bleibt. Dies ist besonders wichtig, wenn Sie Updates in ein live-System bereitstellen, ohne Unterbrechung des Kunden Aktivitäten müssen; Instanzen können abgenommen und einzeln aktualisiert werden, während die anderen online weiter sein.
- **Host-Anwendungen in mehreren Rechenzentren.** Wenn auch äußerst unwahrscheinlich, ist es möglich für eine gesamte Rechenzentrum durch ein Ereignis wie eine Naturkatastrophe oder Kofferraum Internet Ausfall offline gehen. Wichtige geschäftliche Anwendungen sollten in mehrere Datencenter für eine maximale Verfügbarkeit gehostet werden. Dies hat einen zusätzlichen Vorteil, dass die Wartezeit für lokale Benutzer reduziert werden kann, und bietet zusätzliche Möglichkeiten für Flexibilität beim Aktualisieren von Anwendungen.
- **Automatisierung und Testaufgaben für Bereitstellung und Wartung.** Verteilte Anwendungen bestehen aus mehreren Teilen, die zusammenarbeiten müssen. Bereitstellung sollte daher automatisierte Verwendung getestet und bewährte Mechanismen wie Skripte und Bereitstellung von Anwendungen, die Aktualisierung und Konfiguration überprüfen, und automatisieren den Bereitstellung-Prozess. Automatisierte Techniken sollten auch verwendet werden, um Aktualisierungen aller oder Teile der Anwendungen durchzuführen. Es ist wichtig, all diese Prozesse vollständig zu gewährleisten, dass Störungen nicht zusätzliche Ausfallzeiten führen zu testen. Alle Bereitstellungstools müssen geeignete Sicherheitsbeschränkungen, die bereitgestellte Anwendung zu schützen; definieren Sie und erzwingen Sie Bereitstellungsrichtlinien sorgfältig und minimieren Sie die Notwendigkeit menschlicher Eingriffe.
- **Erwägen Sie, Test- und Produktionsumgebungen Funktionen der Plattform** wo diese verfügbar sind. Beispielsweise kann die Azure Cloud Services Test- und Produktionsumgebungen Umgebungen mit Anwendungen von einem zum anderen sofort durch eine virtuelle IP-Adresse-Swap (VIP-Swap) umgeschaltet werden. Jedoch bevorzugen Sie lokale, oder verschiedene Versionen der Anwendung gleichzeitig bereitstellen und schrittweise Migration von Benutzern, eine VIP-Swap-Operation verwenden möglicherweise nicht.
- **Wenden Sie Änderungen an der Konfiguration ohne Verwertung** die Instanz, wenn möglich. In vielen Fällen können die Konfigurationseinstellungen für eine Azure-Anwendung oder ein Dienst geändert werden, ohne dass die Rolle neu gestartet werden. Rolle Ereignisse, die behandelt werden können, um Konfigurationsänderungen zu erkennen und wenden Sie sie auf Komponenten innerhalb der Anwendung verfügbar. Jedoch erfordern einige Änderungen an den Einstellungen des Kern-Plattform eine Rolle neu gestartet werden. Beim Erstellen von Komponenten und Dienstleistungen maximieren Sie die Verfügbarkeit und minimieren Sie Ausfallzeiten zu, indem Sie entwerfen sie Änderungen an Konfigurationseinstellungen zu akzeptieren, ohne dass die gesamte Anwendung neu gestartet werden.
- **Verwenden Sie Upgrade Domains für keinerlei Ausfallzeiten während Aktualisierungen.** Azure compute Einheiten wie Web und Worker-Funktionen zugeordnet werden, um Domänen zu aktualisieren. Aktualisieren Sie Domänen Gruppeninstanzen Rolle zusammen, so dass, wenn Sie ein paralleles Update stattfindet, jede Rolle in der Upgrade-Domäne ist gestoppt, aktualisiert und neu wiederum zur Minimierung der Auswirkungen auf die Verfügbarkeit der Anwendung gestartet. Sie können angeben, wie viele Domains Upgrade für einen Dienst erstellt werden soll, wenn der Dienst bereitgestellt wird.

	> [AZURBLAU. HINWEIS] Rollen sind auch domänenübergreifend Schuld verteilt, die jeweils einigermaßen unabhängig von anderen Domänen Schuld hinsichtlich der Serverschrank, Stromversorgung und Kühlung von Bestimmung, um die Wahrscheinlichkeit eines Ausfalls beeinflussen alle Rolleninstanzen zu minimieren ist. Diese Verteilung erfolgt automatisch und Sie können es nicht kontrollieren.

- **Konfigurieren Sie Verfügbarkeit-Sätze für die Azure virtuelle Computer.** Placing two or more virtual machines in the same availability set guarantees that these virtual machines will not be deployed to the same fault domain. To maximize availability, you should create multiple instances of each critical virtual machine used by your system and place these instances in the same availability set. If you are running multiple virtual machines that serve different purposes, create an availability set for each virtual machine and add instances of each virtual machine to each availability set. For example, if you have created separate virtual machines to act as a web server and a reporting server, create an availability set for the web server and another availability set for the reporting server. Add instances of the web server virtual machine to the web server availability set, and add instances of the reporting server virtual machine to the reporting server availability set.

## Daten-management

- **Nutzen Sie die Vorteile der Datenreplikation** durch sowohl lokale als auch geografische Redundanz. Zum Schutz vor Datenverlust bei einem Ausfall der Infrastruktur die Daten im azurblauen Speicher automatisch repliziert, und einige Faktoren diese Replikation konfiguriert werden können. Beispielsweise können die schreibgeschützte Kopien von Daten in mehreren geografischen Region (bezeichnet als Lesezugriff Global redundanten Speicher oder RA-GRS) repliziert werden. Beachten Sie, dass RA-GRS mit zusätzliche Kosten entstehen, siehe die [Azurblaue Speicher Preise](http://azure.microsoft.com/pricing/details/storage/) Seite auf der Microsoft-Website Weitere Informationen.
- **Verwenden Sie vollständige Parallelität und eventuelle Konsistenz** wo möglich. Transaktionen, dass Blockieren des Zugriffs auf Ressourcen durch Sperren (eingeschränkte Parallelität) schlechten Leistung verursachen und Verfügbarkeit erheblich reduzieren kann. Diese Probleme können insbesondere in verteilten Systemen verschärft. In vielen Fällen können sorgfältige Gestaltung und Techniken wie Partitionierung widersprüchliche Aktualisierungen vorkommenden das Risiko minimieren. Wenn Daten repliziert werden, oder werden aus einem separat aktualisiert Speicher gelesen, die Daten werden nur schließlich konsistent, aber die Vorteile überwiegen in der Regel weit die Auswirkungen auf die Verfügbarkeit von Transaktionen verwenden, um die sofortige Konsistenz sicherzustellen.
- **Mit regelmäßigen Sicherungs- und point-in-Time-Wiederherstellung**, and ensure it meets the Recovery Point Objective (RPO). Regularly and automatically back up data that is not preserved elsewhere, and verify you can reliably restore both the data and the application itself should a failure occur. Data replication is not a backup feature because errors and inconsistencies introduced through failure, error, or malicious operations will be replicated across all stores. The backup process must be secure to protect the data in transit and in storage. Databases or parts of a data store can usually be recovered to a previous point in time by using transaction logs. Microsoft Azure provides a backup facility for data stored in Microsoft Azure SQL Database. The data is exported to a backup package on Microsoft Azure blob storage, and can be downloaded to a secure on-premises location for storage.
- **Aktivieren Sie die Option hohe Verfügbarkeit, eine sekundäre Kopie eines Caches Redis beizubehalten.** Wenn Redis-Cache verwenden, wählen Sie die Standard-Option, eine sekundäre Kopie des Inhalts beizubehalten. Weitere Informationen finden Sie auf der Seite [Erstellen Sie einen Cache in Azure Redis Cache](https://msdn.microsoft.com/library/dn690516.aspx) auf der Microsoft-Website.

## Störungen und Ausfälle

- **Das Konzept eines Timeouts einführen.** Dienste und Ressourcen können nicht verfügbar ist, können Anfragen fehlschlagen verursachen werden. Sicherzustellen, dass die Timeouts, Sie gelten, für jeden Dienst oder jede Ressource geeignet sind als auch der Client, der ihnen den Zugriff auf ist (in einigen Fällen möglicherweise angebracht, ermöglichen eine längere Auszeit für eine bestimmte Instanz eines Clients, je nach Kontext und andere Aktionen, die der Client ausführt). Sehr kurze Timeouts kann dazu führen, dass übermäßige Wiederholung Operationen für Dienste und Ressourcen, die erhebliche Wartezeit haben, aber sehr lange Timeouts können zu blockieren, wenn eine große Anzahl von Anfragen in einer warten auf einen Dienst oder eine Ressource Warteschlange zu reagieren.
- **Wiederholen Sie fehlgeschlagene Vorgänge durch vorübergehenden Fehler verursacht.** Entwerfen einer Strategie "Wiederholen" für den Zugriff auf alle Dienste und Ressourcen, in denen sie nicht von Natur aus automatische Verbindung "Wiederholen" unterstützen. Einsatz eine Strategie, die eine zunehmende Verzögerung zwischen der Anzahl der Ausfälle Wiederholungen erhöht zu Überlastung der Ressource zu vermeiden, damit es ordnungsgemäß wiederhergestellt und Anforderungen in der Warteschlange zu behandeln. Ständige Wiederholungen mit sehr kurzen Verzögerungen dürften das Problem noch verschärfen.
- **Stop senden Anforderungen an kaskadierenden Fehler vermeiden** when remote services are unavailable. There may be situations where transient or other faults, ranging in severity from a partial loss of connectivity to the complete failure of a service, take much longer than expected to return to normal. Additionally, if a service is very busy, failure in one part of the system may lead to cascading failures, and result in many operations becoming blocked while holding onto critical system resources such as memory, threads, and database connections. Instead of continually retrying an operation that is unlikely to succeed, the application should quickly accept that the operation has failed, and gracefully handle this failure. You can use the Circuit Breaker pattern to reject requests for specific operations for defined periods. The [Schutzschalter Muster](https://msdn.microsoft.com/library/dn589784.aspx)Seite auf der Microsoft-Website enthält weitere Informationen.
- **Verfassen Sie oder auf mehrere Komponenten zurückgreifen** um die Auswirkungen eines bestimmten Dienstes wird offline oder nicht verfügbar zu mindern. Entwerfen von Anwendungen nutzen mehrerer Instanzen ohne Auswirkungen auf Betrieb und bestehende Verbindungen soweit möglich. Mehrere Instanzen verwenden und Anforderungen zwischen ihnen zu verteilen und erkennen und vermeiden senden Anforderungen an ausgefallenen Instanzen, um Verfügbarkeit zu maximieren.
- **Zurückgreifen Sie auf einen anderen Dienst oder workflow** wo möglich. Beispielsweise wenn das Schreiben in SQL-Datenbank fehlschlägt, vorübergehend speichern Sie Daten in Blob-Speicher, und bieten Sie eine Lösung die Schreibvorgänge in Blob-Speicher in SQL-Datenbank wiedergeben, sobald der Service verfügbar ist. In einigen Fällen möglicherweise ein fehlgeschlagener Vorgang eine alternative Aktion, die ermöglicht die Anwendung weiterhin funktionieren, selbst wenn eine Komponente oder den Dienst versagt. Wenn möglich, erkennen Sie Fehler zu und umleiten Sie Anforderungen, um andere Dienste, die eine geeignete alternative Funktionen anbieten können oder zu sichern oder Reduzieren Funktionalität-Instanzen, die Kernoperationen halten kann, während der primäre Dienst offline ist.

## Überwachung und Disaster recovery

- **Bieten Sie reiche Instrumentierung für wahrscheinlich Misserfolge und Fehlerereignisse** um die Situation zu Betriebspersonal zu berichten. Für Fehler, die dürften aber noch nicht aufgetreten ist, ausreichende Daten, aktivieren Betriebspersonal die Ursache zu ermitteln, die Situation zu mildern, und sicherzustellen, dass das System zur Verfügung stehen weiterhin. Für Fehler, die bereits stattgefunden haben, sollte die Anwendung eine passende Fehlermeldung an den Benutzer zurückgegeben aber versuchen weiterhin ausgeführt, wenn auch mit eingeschränkter Funktionalität. In allen Fällen sollte das monitoring-System Betriebspersonal, bewirken eine schnelle Genesung ermöglichen umfassende Informationen erfassen und gegebenenfalls für Designer und Entwickler, das System zu ändern, die Situation wieder entstehen zu verhindern.
- **Überwachen Sie Systemintegrität durch die Umsetzung überprüfen Funktionen.** Die Gesundheit und die Leistung einer Anwendung können ohne bemerkbar, bis es funktioniert nicht im Laufe der Zeit abnehmen. Eine Möglichkeit, diesen Effekt soll Sonden zu implementieren oder überprüfen die Funktionen, die regelmäßig von außerhalb der Anwendung ausgeführt werden. Diese Überprüfungen können so einfach sein wie Messung der Antwortzeit für die Anwendung als Ganzes, für einzelne Teile der Anwendung, für einzelne Dienste, die die Anwendung verwendet oder für einzelne Komponenten. Funktionen können Prozesse um sicherzustellen sie gültige Ergebnisse produzieren, Messen der Latenzzeit und überprüfen Sie die Verfügbarkeit und Extrahieren von Informationen aus dem System ausführen.
- **Testen Sie regelmäßig alle Failover und Ersatz-Systeme** um sicherzustellen, sie sind vorhanden und funktionieren wie erwartet. Änderungen an Systemen und Vorgänge beeinträchtigen, Failover und Ersatz-Funktionen, aber die Wirkung kann nicht erkannt werden, bis das Hauptsystem ausfällt oder überlastet. Es empfiehlt sich, es zu testen, bevor sie zum Ausgleich ein Leben Problem zur Laufzeit benötigt wird.
- **Testen Sie die Überwachungssysteme.** Automatisches Failover und Ersatz-Systeme und manuelle Visualisierung der Zustand und die Performance mithilfe von Dashboards, die alle abhängig von der Überwachung und Instrumentierung ordnungsgemäß funktioniert. Wenn diese Elemente nicht, vermissen Sie wichtigen Informationen, oder melden Sie ungenaue Daten zu, dann ein Operator nicht erkennen könnte, dass das System ungesund oder scheiternde.
- **Überwachen Sie den Fortschritt der lang andauernde workflows** und bei einem Fehler wiederholen. Lang andauernde Workflows bestehen oft aus mehreren Schritten. Beim Entwerfen von diesen Arten von Workflows stellen Sie sicher, dass jeder Schritt unabhängig ist und wiederholt werden, kann um das Risiko zu minimieren, das im gesamte Workflow ein Rollback ausgeführt werden muss oder dass mehrere kompensierende Transaktionen ausgeführt werden müssen. Überwachen Sie und verwalten Sie den Fortschritt der lang andauernde Workflows durch die Implementierung von einer Musters wie Planer Agent Supervisor. Weitere Informationen finden Sie unter der [Scheduler-Agent Supervisor Muster](https://msdn.microsoft.com/library/dn589780.aspx) Seite auf der Microsoft-Website.
- **Planen der Notfallwiederherstellung.** Stellen Sie sicher, dass gibt es einen dokumentierter, vereinbarter und vollständig getesteter Plan für die Wiederherstellung von jede Art des Fehlers, der Teil machen kann oder allen Haupt-System nicht verfügbar. Testen Sie die Verfahren regelmäßig zu und sicherzustellen Sie, dass alle Mitarbeiter mit dem Vorgang vertraut sind.
