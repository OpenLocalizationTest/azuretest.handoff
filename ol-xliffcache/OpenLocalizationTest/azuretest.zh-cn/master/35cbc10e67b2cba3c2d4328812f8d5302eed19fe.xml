<markdown_skeleton_root>
  <block_element>
    <ArrayOfMarkdownBlockBase xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownBlockBase
        xsi:type="MarkdownAzureMetadataBlock"
        item_id="4b4196f2-b0e7-45cc-bb98-87efbe28da2e"
        item_type="AzureMetadata"
        item_footer="footer_not_set"
        trans_unit_id="4b4196f2-b0e7-45cc-bb98-87efbe28da2e">
        <LocalizeItemList>
          <MarkdownInternalXmlItem
            internal_item_id="039a16f6-364d-4bba-ae12-876c97edc9d3"
            trans_unit_id="101"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
          <MarkdownInternalXmlItem
            internal_item_id="51b774ff-5873-47ff-b0ec-b55332a4a37d"
            trans_unit_id="102"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
        </LocalizeItemList>
        <ItemValue>&lt;properties 
    title="Multi-tenant applications with elastic database tools and row-level security" 
    pageTitle="039a16f6-364d-4bba-ae12-876c97edc9d3" 
    description="51b774ff-5873-47ff-b0ec-b55332a4a37d" 
    metaKeywords="azure sql database elastic tools multi tenant row level security rls" 
    services="sql-database" documentationCenter=""  
    manager="jeffreyg" 
    authors="tmullaney"/&gt;

&lt;tags 
    ms.service="sql-database" 
    ms.workload="sql-database" 
    ms.tgt_pltfrm="na" 
    ms.devlang="na" 
    ms.topic="article" 
    ms.date="08/19/2015" 
    ms.author="thmullan;torsteng;sidneyh" /&gt;

</ItemValue>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="0a3ce3fa-d073-4b76-9335-c0ff36765e02"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="0a3ce3fa-d073-4b76-9335-c0ff36765e02">
        <segment
          trans_unit_id="103">
          <SegmentId>b067ebb9-aa9b-4f8d-ab07-4d766d8a7b89</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="103"
            trans_unit_id="103-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>1</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="89db855a-e545-430e-be68-b9c59048282b"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="89db855a-e545-430e-be68-b9c59048282b">
        <Lines>
          <MarkdownLine>
            <LineId>280c1061-272e-42f7-b92a-ad9d40c444b0</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="104">
                <SegmentId>82d275d4-9bd3-400e-b94c-6b60311dfa0f</SegmentId>
                <LinkItem
                  internal_item_id="1"
                  internal_item_parent_id="104"
                  trans_unit_id="104-1"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Elastic database tools</internal_link_text>
                  <internal_link_url>sql-database-elastic-scale-get-started.md</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="2"
                  internal_item_parent_id="104"
                  trans_unit_id="104-2"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="3"
                  internal_item_parent_id="104"
                  trans_unit_id="104-3"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>row-level security (RLS)</internal_link_text>
                  <internal_link_url>https://msdn.microsoft.com/library/dn765131</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="4"
                  internal_item_parent_id="104"
                  trans_unit_id="104-4"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="105">
                <SegmentId>fc9fda8e-05fd-47b1-ac0a-0ab90c4af20e</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="105"
                  trans_unit_id="105-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <MarkdownInternalBoldItem
                  internal_item_id="2"
                  internal_item_parent_id="105"
                  trans_unit_id="105-2"
                  internal_item_type="Bold">
                  <internal_items />
                  <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                </MarkdownInternalBoldItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="105"
                  trans_unit_id="105-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <MarkdownInternalBoldItem
                  internal_item_id="4"
                  internal_item_parent_id="105"
                  trans_unit_id="105-4"
                  internal_item_type="Bold">
                  <internal_items />
                  <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                </MarkdownInternalBoldItem>
                <InternalNormalItem
                  internal_item_id="5"
                  internal_item_parent_id="105"
                  trans_unit_id="105-5"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="104">
            <SegmentId>82d275d4-9bd3-400e-b94c-6b60311dfa0f</SegmentId>
            <LinkItem
              internal_item_id="1"
              internal_item_parent_id="104"
              trans_unit_id="104-1"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Elastic database tools</internal_link_text>
              <internal_link_url>sql-database-elastic-scale-get-started.md</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="2"
              internal_item_parent_id="104"
              trans_unit_id="104-2"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="3"
              internal_item_parent_id="104"
              trans_unit_id="104-3"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>row-level security (RLS)</internal_link_text>
              <internal_link_url>https://msdn.microsoft.com/library/dn765131</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="4"
              internal_item_parent_id="104"
              trans_unit_id="104-4"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="105">
            <SegmentId>fc9fda8e-05fd-47b1-ac0a-0ab90c4af20e</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="105"
              trans_unit_id="105-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <MarkdownInternalBoldItem
              internal_item_id="2"
              internal_item_parent_id="105"
              trans_unit_id="105-2"
              internal_item_type="Bold">
              <internal_items />
              <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
            </MarkdownInternalBoldItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="105"
              trans_unit_id="105-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <MarkdownInternalBoldItem
              internal_item_id="4"
              internal_item_parent_id="105"
              trans_unit_id="105-4"
              internal_item_type="Bold">
              <internal_items />
              <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
            </MarkdownInternalBoldItem>
            <InternalNormalItem
              internal_item_id="5"
              internal_item_parent_id="105"
              trans_unit_id="105-5"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="9e1a231e-e275-4059-9a5b-25b5aa7d0860"
        item_type="List"
        item_footer=""
        trans_unit_id="9e1a231e-e275-4059-9a5b-25b5aa7d0860">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="d6b8902f-1e2c-4f63-b94d-cdfd85ef4aaa"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="d6b8902f-1e2c-4f63-b94d-cdfd85ef4aaa">
              <Lines>
                <MarkdownLine>
                  <LineId>8a816d21-3deb-48d7-bc97-31633a2ad040</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="106">
                      <SegmentId>01bae238-af9b-4ba9-8367-4b0246e056dc</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="106"
                        trans_unit_id="106-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="106"
                        trans_unit_id="106-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="107">
                      <SegmentId>4d21a921-ab26-46a1-bffa-81f106d3fa48</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="107"
                        trans_unit_id="107-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="106">
                  <SegmentId>01bae238-af9b-4ba9-8367-4b0246e056dc</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="106"
                    trans_unit_id="106-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="106"
                    trans_unit_id="106-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="107">
                  <SegmentId>4d21a921-ab26-46a1-bffa-81f106d3fa48</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="107"
                    trans_unit_id="107-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="4828afb2-6216-4f0a-9f01-c9f10bac0c0f"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="4828afb2-6216-4f0a-9f01-c9f10bac0c0f">
              <Lines>
                <MarkdownLine>
                  <LineId>f6eea301-48e1-4c69-bc46-9f44b22311e6</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="108">
                      <SegmentId>30dfafdb-848f-4338-8e19-36a63e4f4d52</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="108"
                        trans_unit_id="108-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="108"
                        trans_unit_id="108-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="109">
                      <SegmentId>efe12209-2699-4980-9757-0af97c5b71b0</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="109"
                        trans_unit_id="109-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="110">
                      <SegmentId>30cb2a0a-9904-4e17-8964-f567246b6c81</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="110"
                        trans_unit_id="110-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <LinkItem
                        internal_item_id="2"
                        internal_item_parent_id="110"
                        trans_unit_id="110-2"
                        internal_item_type="Link">
                        <internal_items />
                        <internal_link_type>Inline</internal_link_type>
                        <internal_link_text>Azure SQL Database update (V12)</internal_link_text>
                        <internal_link_url>sql-database-preview-whats-new.md</internal_link_url>
                        <internal_link_title />
                      </LinkItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="110"
                        trans_unit_id="110-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="108">
                  <SegmentId>30dfafdb-848f-4338-8e19-36a63e4f4d52</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="108"
                    trans_unit_id="108-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="108"
                    trans_unit_id="108-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="109">
                  <SegmentId>efe12209-2699-4980-9757-0af97c5b71b0</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="109"
                    trans_unit_id="109-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="110">
                  <SegmentId>30cb2a0a-9904-4e17-8964-f567246b6c81</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="110"
                    trans_unit_id="110-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <LinkItem
                    internal_item_id="2"
                    internal_item_parent_id="110"
                    trans_unit_id="110-2"
                    internal_item_type="Link">
                    <internal_items />
                    <internal_link_type>Inline</internal_link_type>
                    <internal_link_text>Azure SQL Database update (V12)</internal_link_text>
                    <internal_link_url>sql-database-preview-whats-new.md</internal_link_url>
                    <internal_link_title />
                  </LinkItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="110"
                    trans_unit_id="110-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="e045f8b5-dd94-4f47-a77b-7e247d9992fa"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="e045f8b5-dd94-4f47-a77b-7e247d9992fa">
        <Lines>
          <MarkdownLine>
            <LineId>751d3a7b-b11c-4ef0-b2e0-99d237858f85</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="111">
                <SegmentId>0fd2433d-1a08-4038-8c82-3eb882735e1d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="111"
                  trans_unit_id="111-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="112">
                <SegmentId>bf220f14-3ab3-41bc-973f-cf67d07acc82</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="112"
                  trans_unit_id="112-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="111">
            <SegmentId>0fd2433d-1a08-4038-8c82-3eb882735e1d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="111"
              trans_unit_id="111-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="112">
            <SegmentId>bf220f14-3ab3-41bc-973f-cf67d07acc82</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="112"
              trans_unit_id="112-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="e20882df-6407-4100-a0b1-7a9cb54c17b9"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="e20882df-6407-4100-a0b1-7a9cb54c17b9">
        <Lines>
          <MarkdownLine>
            <LineId>5dab71d5-be39-48a4-b9b4-fff2dde8fbee</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="113">
                <SegmentId>ce683540-4795-42b3-934c-7b8282b26883</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="113"
                  trans_unit_id="113-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="113"
                  trans_unit_id="113-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>data dependent routing</internal_link_text>
                  <internal_link_url>sql-database-elastic-scale-data-dependent-routing.md</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="113"
                  trans_unit_id="113-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="114">
                <SegmentId>81ba294c-4d52-4d84-bf41-b3a773914d48</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="114"
                  trans_unit_id="114-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="115">
                <SegmentId>446bf1ca-bfa2-41c9-ac36-4d3220abb9dd</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="115"
                  trans_unit_id="115-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="113">
            <SegmentId>ce683540-4795-42b3-934c-7b8282b26883</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="113"
              trans_unit_id="113-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="113"
              trans_unit_id="113-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>data dependent routing</internal_link_text>
              <internal_link_url>sql-database-elastic-scale-data-dependent-routing.md</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="113"
              trans_unit_id="113-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="114">
            <SegmentId>81ba294c-4d52-4d84-bf41-b3a773914d48</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="114"
              trans_unit_id="114-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="115">
            <SegmentId>446bf1ca-bfa2-41c9-ac36-4d3220abb9dd</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="115"
              trans_unit_id="115-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="b471aa09-dbaf-4d1e-86f4-aec6e5fb4801"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="b471aa09-dbaf-4d1e-86f4-aec6e5fb4801">
        <Lines>
          <MarkdownLine>
            <LineId>39627d60-f18f-49bd-bc49-8df58a09c8a9</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="116">
                <SegmentId>96569fb5-1f9b-48c9-8ccc-e7a14aae8e54</SegmentId>
                <ImageItem
                  internal_item_id="1"
                  internal_item_parent_id="116"
                  trans_unit_id="116-1"
                  internal_item_type="Image">
                  <internal_items />
                  <internal_Image_type>Reference</internal_Image_type>
                  <internal_link_text>Blogging app architecture</internal_link_text>
                  <internal_link_id>1</internal_link_id>
                </ImageItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="116">
            <SegmentId>96569fb5-1f9b-48c9-8ccc-e7a14aae8e54</SegmentId>
            <ImageItem
              internal_item_id="1"
              internal_item_parent_id="116"
              trans_unit_id="116-1"
              internal_item_type="Image">
              <internal_items />
              <internal_Image_type>Reference</internal_Image_type>
              <internal_link_text>Blogging app architecture</internal_link_text>
              <internal_link_id>1</internal_link_id>
            </ImageItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="326525e5-06f1-4ae9-9fcc-afdd9ba2278d"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="326525e5-06f1-4ae9-9fcc-afdd9ba2278d">
        <segment
          trans_unit_id="117">
          <SegmentId>d23c75f9-1294-456b-a6c8-7d177e9a8751</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="117"
            trans_unit_id="117-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="d4fcd9a1-7e87-4094-9d2e-0a04fddac148"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="d4fcd9a1-7e87-4094-9d2e-0a04fddac148">
        <segment
          trans_unit_id="118">
          <SegmentId>991f1792-dcbd-411e-a464-a93ff30b2338</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="118"
            trans_unit_id="118-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="0f81408e-4d46-4f59-93a9-ac833553e41e"
        item_type="List"
        item_footer=""
        trans_unit_id="0f81408e-4d46-4f59-93a9-ac833553e41e">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="4afd31be-990f-4865-ac0a-de4baec0b16a"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="4afd31be-990f-4865-ac0a-de4baec0b16a">
              <Lines>
                <MarkdownLine>
                  <LineId>62ba9545-b3d0-4a9d-9cee-792f4b1b71c5</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="119">
                      <SegmentId>81932180-9d99-43b1-99be-58fad240c3eb</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="119"
                        trans_unit_id="119-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="119">
                  <SegmentId>81932180-9d99-43b1-99be-58fad240c3eb</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="119"
                    trans_unit_id="119-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="e6127651-a9bd-42b6-94a1-a61999222dbf"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="e6127651-a9bd-42b6-94a1-a61999222dbf">
              <Lines>
                <MarkdownLine>
                  <LineId>e35de836-f4f3-4261-b2e2-29ed5bf66789</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="120">
                      <SegmentId>104d212b-8142-476d-b369-0cf527f374ce</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="120"
                        trans_unit_id="120-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="120">
                  <SegmentId>104d212b-8142-476d-b369-0cf527f374ce</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="120"
                    trans_unit_id="120-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="1cb14b2e-cdc1-4897-a351-f93fa24266bb"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="1cb14b2e-cdc1-4897-a351-f93fa24266bb">
              <Lines>
                <MarkdownLine>
                  <LineId>68ecc59d-0640-4c73-a099-7034f6807912</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="121">
                      <SegmentId>daa54ea6-0d6e-4e82-aea2-02cc7723365a</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="121"
                        trans_unit_id="121-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <LinkItem
                        internal_item_id="2"
                        internal_item_parent_id="121"
                        trans_unit_id="121-2"
                        internal_item_type="Link">
                        <internal_items />
                        <internal_link_type>Inline</internal_link_type>
                        <internal_link_text>Elastic DB Tools for Azure SQL - Multi-Tenant Shards</internal_link_text>
                        <internal_link_url>http://go.microsoft.com/?linkid=9888163</internal_link_url>
                        <internal_link_title />
                      </LinkItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="121">
                  <SegmentId>daa54ea6-0d6e-4e82-aea2-02cc7723365a</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="121"
                    trans_unit_id="121-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <LinkItem
                    internal_item_id="2"
                    internal_item_parent_id="121"
                    trans_unit_id="121-2"
                    internal_item_type="Link">
                    <internal_items />
                    <internal_link_type>Inline</internal_link_type>
                    <internal_link_text>Elastic DB Tools for Azure SQL - Multi-Tenant Shards</internal_link_text>
                    <internal_link_url>http://go.microsoft.com/?linkid=9888163</internal_link_url>
                    <internal_link_title />
                  </LinkItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownListBlock
              item_id="35be20e0-8967-4d0c-8b51-358db6d29d18"
              item_type="List"
              item_footer="footer_not_set"
              trans_unit_id="35be20e0-8967-4d0c-8b51-358db6d29d18">
              <inner_list_items>
                <ListItem>
                  <MarkdownParagraphBlock
                    item_id="4e490f91-de58-416c-bbaa-3d4f997e990d"
                    item_type="NormalParagraph"
                    item_footer="footer_not_set"
                    trans_unit_id="4e490f91-de58-416c-bbaa-3d4f997e990d">
                    <Lines>
                      <MarkdownLine>
                        <LineId>208d3835-ef6d-48f6-9dbd-f3e1c33a9bda</LineId>
                        <paragraph_segments>
                          <MarkdownSegment
                            trans_unit_id="122">
                            <SegmentId>8f249222-b46b-4a97-8f81-3542e5a797d4</SegmentId>
                            <InternalNormalItem
                              internal_item_id="1"
                              internal_item_parent_id="122"
                              trans_unit_id="122-1"
                              internal_item_type="Normal">
                              <internal_items />
                            </InternalNormalItem>
                            <MarkdownInternalBoldItem
                              internal_item_id="2"
                              internal_item_parent_id="122"
                              trans_unit_id="122-2"
                              internal_item_type="Bold">
                              <internal_items />
                              <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                            </MarkdownInternalBoldItem>
                          </MarkdownSegment>
                        </paragraph_segments>
                        <PrefixWSLength>1</PrefixWSLength>
                        <SuffixWSLength>0</SuffixWSLength>
                      </MarkdownLine>
                    </Lines>
                    <paragraph_segments>
                      <MarkdownSegment
                        trans_unit_id="122">
                        <SegmentId>8f249222-b46b-4a97-8f81-3542e5a797d4</SegmentId>
                        <InternalNormalItem
                          internal_item_id="1"
                          internal_item_parent_id="122"
                          trans_unit_id="122-1"
                          internal_item_type="Normal">
                          <internal_items />
                        </InternalNormalItem>
                        <MarkdownInternalBoldItem
                          internal_item_id="2"
                          internal_item_parent_id="122"
                          trans_unit_id="122-2"
                          internal_item_type="Bold">
                          <internal_items />
                          <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                        </MarkdownInternalBoldItem>
                      </MarkdownSegment>
                    </paragraph_segments>
                  </MarkdownParagraphBlock>
                  <Identifier>*</Identifier>
                  <IndentsLength>
                    <int>0</int>
                  </IndentsLength>
                </ListItem>
              </inner_list_items>
              <ListType>Charactor</ListType>
            </MarkdownListBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>2</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="9c24a186-e2fe-4dfe-8b4d-be1989ab0dc9"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="9c24a186-e2fe-4dfe-8b4d-be1989ab0dc9">
        <Lines>
          <MarkdownLine>
            <LineId>b65c8161-5ca8-4a6e-8a2e-1cb81674ba22</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="123">
                <SegmentId>d6ea18f4-07ca-45f7-982e-2cc72d20f7bd</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="123"
                  trans_unit_id="123-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="123"
                  trans_unit_id="123-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Elastic DB Tools for Azure SQL - Entity Framework Integration</internal_link_text>
                  <internal_link_url>sql-database-elastic-scale-use-entity-framework-applications-visual-studio.md</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="123"
                  trans_unit_id="123-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="124">
                <SegmentId>4ab684aa-bc2d-4167-8061-84f118878dc2</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="124"
                  trans_unit_id="124-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="123">
            <SegmentId>d6ea18f4-07ca-45f7-982e-2cc72d20f7bd</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="123"
              trans_unit_id="123-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="123"
              trans_unit_id="123-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Elastic DB Tools for Azure SQL - Entity Framework Integration</internal_link_text>
              <internal_link_url>sql-database-elastic-scale-use-entity-framework-applications-visual-studio.md</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="123"
              trans_unit_id="123-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="124">
            <SegmentId>4ab684aa-bc2d-4167-8061-84f118878dc2</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="124"
              trans_unit_id="124-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="60ba8b32-b35e-4b4c-8701-cf60bdfb35cd"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="60ba8b32-b35e-4b4c-8701-cf60bdfb35cd">
        <Lines>
          <MarkdownLine>
            <LineId>064af3ce-fd33-4568-ae34-64e888a0e748</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="125">
                <SegmentId>c6ec7d77-64f5-413e-ba55-4195d3db8ad4</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="125"
                  trans_unit_id="125-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="126">
                <SegmentId>7b3654f8-b3ea-4190-a080-211b37d99b05</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="126"
                  trans_unit_id="126-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="125">
            <SegmentId>c6ec7d77-64f5-413e-ba55-4195d3db8ad4</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="125"
              trans_unit_id="125-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="126">
            <SegmentId>7b3654f8-b3ea-4190-a080-211b37d99b05</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="126"
              trans_unit_id="126-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="dd5522da-ddb9-4f2e-afe3-16ac2e69d31a"
        item_type="List"
        item_footer=""
        trans_unit_id="dd5522da-ddb9-4f2e-afe3-16ac2e69d31a">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="0367856d-9753-40fb-a55d-e8ab36a975c0"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="0367856d-9753-40fb-a55d-e8ab36a975c0">
              <Lines>
                <MarkdownLine>
                  <LineId>edd7033e-d5b2-4c0f-a6fa-4359e7dbc452</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="127">
                      <SegmentId>541d5b53-e136-4f61-9349-02511081c7fe</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="127"
                        trans_unit_id="127-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="127">
                  <SegmentId>541d5b53-e136-4f61-9349-02511081c7fe</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="127"
                    trans_unit_id="127-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>1.</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="2716f6c1-eb3d-4b04-83f3-d8bbb8f04f70"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="2716f6c1-eb3d-4b04-83f3-d8bbb8f04f70">
              <Lines>
                <MarkdownLine>
                  <LineId>a550c4be-b62e-466c-b256-59363d3f8ec1</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="128">
                      <SegmentId>e97a1646-6a62-43c7-ad1d-cf042fe78672</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="128"
                        trans_unit_id="128-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="128">
                  <SegmentId>e97a1646-6a62-43c7-ad1d-cf042fe78672</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="128"
                    trans_unit_id="128-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>2.</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="678dc2d7-dda5-4e3a-b372-6bbee97304ef"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="678dc2d7-dda5-4e3a-b372-6bbee97304ef">
              <Lines>
                <MarkdownLine>
                  <LineId>febf9aa4-dd47-4fa7-b50a-429672897368</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="129">
                      <SegmentId>103a2176-2f1f-4812-9f61-1bb592be88f7</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="129"
                        trans_unit_id="129-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="129">
                  <SegmentId>103a2176-2f1f-4812-9f61-1bb592be88f7</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="129"
                    trans_unit_id="129-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>3.</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Number</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="377ee401-4347-42d2-bafd-e0759db5da1c"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="377ee401-4347-42d2-bafd-e0759db5da1c">
        <Lines>
          <MarkdownLine>
            <LineId>a19f87f2-08b4-4535-b113-2e0abaafa1bd</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="130">
                <SegmentId>6d79edd5-aa33-4856-9187-cc03933903f8</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="130"
                  trans_unit_id="130-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="131">
                <SegmentId>ee772c00-25ef-4139-a5ce-bb1134c87191</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="131"
                  trans_unit_id="131-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="132">
                <SegmentId>2f9ba8d5-75e2-4ea8-8a91-46164526e263</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="132"
                  trans_unit_id="132-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="130">
            <SegmentId>6d79edd5-aa33-4856-9187-cc03933903f8</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="130"
              trans_unit_id="130-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="131">
            <SegmentId>ee772c00-25ef-4139-a5ce-bb1134c87191</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="131"
              trans_unit_id="131-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="132">
            <SegmentId>2f9ba8d5-75e2-4ea8-8a91-46164526e263</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="132"
              trans_unit_id="132-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="64d45799-47d6-4c8a-9cea-c9c3bc3b866a"
        item_type="List"
        item_footer="&#xA;"
        trans_unit_id="64d45799-47d6-4c8a-9cea-c9c3bc3b866a">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="23cb261c-d19b-485b-a920-7efb27a2eb31"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="23cb261c-d19b-485b-a920-7efb27a2eb31">
              <Lines>
                <MarkdownLine>
                  <LineId>ac9983c7-4c1e-4de0-b817-29f1ea3bd651</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="133">
                      <SegmentId>73b8568e-1fbd-4bd7-b1e5-ea75bfe6304c</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="133"
                        trans_unit_id="133-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="133"
                        trans_unit_id="133-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="134">
                      <SegmentId>d6b8bfe8-cd23-459b-aa2a-86bd74eac338</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="134"
                        trans_unit_id="134-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="133">
                  <SegmentId>73b8568e-1fbd-4bd7-b1e5-ea75bfe6304c</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="133"
                    trans_unit_id="133-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="133"
                    trans_unit_id="133-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="134">
                  <SegmentId>d6b8bfe8-cd23-459b-aa2a-86bd74eac338</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="134"
                    trans_unit_id="134-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>1.</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="019415a4-dcb3-4ae3-8c87-9fdacddb5450"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="019415a4-dcb3-4ae3-8c87-9fdacddb5450">
              <Lines>
                <MarkdownLine>
                  <LineId>8ef61953-100d-4edf-8ef0-dd2aaac68f35</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="135">
                      <SegmentId>725c761f-dcaa-425d-8a06-532914283dca</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="135"
                        trans_unit_id="135-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="135"
                        trans_unit_id="135-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="136">
                      <SegmentId>b54099bc-5ab4-4c2e-9908-7d22f964690c</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="136"
                        trans_unit_id="136-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="135">
                  <SegmentId>725c761f-dcaa-425d-8a06-532914283dca</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="135"
                    trans_unit_id="135-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="135"
                    trans_unit_id="135-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="136">
                  <SegmentId>b54099bc-5ab4-4c2e-9908-7d22f964690c</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="136"
                    trans_unit_id="136-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>2.</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Number</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="16bd1f85-041c-4913-b980-93be2d94bee4"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="16bd1f85-041c-4913-b980-93be2d94bee4">
        <segment
          trans_unit_id="137">
          <SegmentId>5ea441ec-8d2f-4df8-9a0e-bed9c560799f</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="137"
            trans_unit_id="137-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="7d32d3f1-7f1f-4dc1-b341-085566f3b292"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="7d32d3f1-7f1f-4dc1-b341-085566f3b292">
        <Lines>
          <MarkdownLine>
            <LineId>15ce3a31-c59e-44c9-a205-06738b351769</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="138">
                <SegmentId>069f3688-3002-4d34-98e3-90965a51db6c</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="138"
                  trans_unit_id="138-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="139">
                <SegmentId>08bdb3aa-7af0-444a-a4d7-4034aa34a8b3</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="139"
                  trans_unit_id="139-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="139"
                  trans_unit_id="139-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>CONTEXT_INFO</internal_link_text>
                  <internal_link_url>https://msdn.microsoft.com/library/ms180125</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="139"
                  trans_unit_id="139-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="140">
                <SegmentId>628fb48b-c177-48ee-94d6-fb63aa4bff67</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="140"
                  trans_unit_id="140-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <ItalicsItem
                  internal_item_id="2"
                  internal_item_parent_id="140"
                  trans_unit_id="140-2"
                  internal_item_type="Italics">
                  <internal_items />
                  <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                </ItalicsItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="140"
                  trans_unit_id="140-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="138">
            <SegmentId>069f3688-3002-4d34-98e3-90965a51db6c</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="138"
              trans_unit_id="138-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="139">
            <SegmentId>08bdb3aa-7af0-444a-a4d7-4034aa34a8b3</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="139"
              trans_unit_id="139-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="139"
              trans_unit_id="139-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>CONTEXT_INFO</internal_link_text>
              <internal_link_url>https://msdn.microsoft.com/library/ms180125</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="139"
              trans_unit_id="139-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="140">
            <SegmentId>628fb48b-c177-48ee-94d6-fb63aa4bff67</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="140"
              trans_unit_id="140-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <ItalicsItem
              internal_item_id="2"
              internal_item_parent_id="140"
              trans_unit_id="140-2"
              internal_item_type="Italics">
              <internal_items />
              <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
            </ItalicsItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="140"
              trans_unit_id="140-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="029a1bb3-673f-4f59-aeea-9170b09da5fb"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="029a1bb3-673f-4f59-aeea-9170b09da5fb">
        <segment
          trans_unit_id="141">
          <SegmentId>5230c2f1-a69b-4cfa-ab1d-2a10e356f155</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="141"
            trans_unit_id="141-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="b466ba60-95c9-4e7d-8a4d-08d21ecf675b"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="b466ba60-95c9-4e7d-8a4d-08d21ecf675b">
        <Lines>
          <MarkdownLine>
            <LineId>7763c95c-38dd-44ee-83e9-231d55f1b31b</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="142">
                <SegmentId>823e4ced-43b4-4940-9c5c-d8ba1aec45d1</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="142"
                  trans_unit_id="142-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="142"
                  trans_unit_id="142-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Data Dependent Routing using EF DbContext</internal_link_text>
                  <internal_link_url>sql-database-elastic-scale-use-entity-framework-applications-visual-studio.md/#data-dependent-routing-using-ef-dbcontext</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="142"
                  trans_unit_id="142-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="143">
                <SegmentId>fd73675e-1956-4a62-9f16-c83b6ccbd633</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="143"
                  trans_unit_id="143-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="144">
                <SegmentId>82f7b398-3931-4bff-855c-3a9cea7b4c68</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="144"
                  trans_unit_id="144-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="142">
            <SegmentId>823e4ced-43b4-4940-9c5c-d8ba1aec45d1</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="142"
              trans_unit_id="142-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="142"
              trans_unit_id="142-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Data Dependent Routing using EF DbContext</internal_link_text>
              <internal_link_url>sql-database-elastic-scale-use-entity-framework-applications-visual-studio.md/#data-dependent-routing-using-ef-dbcontext</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="142"
              trans_unit_id="142-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="143">
            <SegmentId>fd73675e-1956-4a62-9f16-c83b6ccbd633</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="143"
              trans_unit_id="143-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="144">
            <SegmentId>82f7b398-3931-4bff-855c-3a9cea7b4c68</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="144"
              trans_unit_id="144-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="5b9cd290-c979-44c2-8d02-8842f615bf41"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="5b9cd290-c979-44c2-8d02-8842f615bf41">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// ElasticScaleContext.cs 
// ... 
// C'tor for data dependent routing. This call will open a validated connection routed to the proper 
// shard by the shard map manager. Note that the base class c'tor call will fail for an open connection 
// if migrations need to be done and SQL credentials are used. This is the reason for the  
// separation of c'tors into the DDR case (this c'tor) and the internal c'tor for new shards. 
public ElasticScaleContext(ShardMap shardMap, T shardingKey, string connectionStr)
    : base(OpenDDRConnection(shardMap, shardingKey, connectionStr), true /* contextOwnsConnection */)
{
}

public static SqlConnection OpenDDRConnection(ShardMap shardMap, T shardingKey, string connectionStr)
{
    // No initialization
    Database.SetInitializer&lt;ElasticScaleContext&lt;T&gt;&gt;(null);

    // Ask shard map to broker a validated connection for the given key
    SqlConnection conn = null;
    try
    {
        conn = shardMap.OpenConnectionForKey(shardingKey, connectionStr, ConnectionOptions.Validate);

        // Set CONTEXT_INFO to shardingKey to enable Row-Level Security filtering
        SqlCommand cmd = conn.CreateCommand();
        cmd.CommandText = @"SET CONTEXT_INFO @shardingKey";
        cmd.Parameters.AddWithValue("@shardingKey", shardingKey);
        cmd.ExecuteNonQuery();

        return conn;
    }
    catch (Exception)
    {
        if (conn != null)
        {
            conn.Dispose();
        }

        throw;
    }
} 
// ... </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="8b8c9007-709e-4ec7-8627-cf9654b75b6a"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="8b8c9007-709e-4ec7-8627-cf9654b75b6a">
        <Lines>
          <MarkdownLine>
            <LineId>050f4c93-1494-46c3-8863-b37e88b3f541</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="145">
                <SegmentId>c8dbead4-6ae2-40f7-97a0-8c5fca359ec1</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="145"
                  trans_unit_id="145-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="145">
            <SegmentId>c8dbead4-6ae2-40f7-97a0-8c5fca359ec1</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="145"
              trans_unit_id="145-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="28e2ad7d-6965-40ce-befd-8ed93c7e5955"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="28e2ad7d-6965-40ce-befd-8ed93c7e5955">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// Program.cs 
SqlDatabaseUtils.SqlRetryPolicy.ExecuteAction(() =&gt; 
{   
    using (var db = new ElasticScaleContext&lt;int&gt;(sharding.ShardMap, tenantId, connStrBldr.ConnectionString))   
    {     
        var query = from b in db.Blogs
                    orderby b.Name
                    select b;

        Console.WriteLine("All blogs for TenantId {0}:", tenantId);     
        foreach (var item in query)     
        {       
            Console.WriteLine(item.Name);     
        }   
    } 
}); </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="e481720a-8623-4777-854c-ba2c2246863e"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="e481720a-8623-4777-854c-ba2c2246863e">
        <segment
          trans_unit_id="146">
          <SegmentId>aa31a616-e1e3-4695-8271-2734524e7c3a</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="146"
            trans_unit_id="146-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="7ff6fda1-8937-48af-9d72-34cc080bd6dd"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="7ff6fda1-8937-48af-9d72-34cc080bd6dd">
        <Lines>
          <MarkdownLine>
            <LineId>bf0fb648-052e-4831-b656-3ac9b581f28e</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="147">
                <SegmentId>2b19fba6-e444-43bc-8cc5-3b1799cee7ee</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="147"
                  trans_unit_id="147-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="148">
                <SegmentId>367fb6ee-50a3-4a83-a968-94bdc45c730f</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="148"
                  trans_unit_id="148-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="147">
            <SegmentId>2b19fba6-e444-43bc-8cc5-3b1799cee7ee</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="147"
              trans_unit_id="147-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="148">
            <SegmentId>367fb6ee-50a3-4a83-a968-94bdc45c730f</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="148"
              trans_unit_id="148-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="1f790693-c077-4f52-a2d7-95e7100aaef2"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="1f790693-c077-4f52-a2d7-95e7100aaef2">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>// Program.cs
// ...

// Wrapper function for ShardMap.OpenConnectionForKey() that automatically sets CONTEXT_INFO to the correct
// tenantId before returning a connection. As a best practice, you should only open connections using this 
// method to ensure that CONTEXT_INFO is always set before executing a query.
public static SqlConnection OpenConnectionForTenant(ShardMap shardMap, int tenantId, string connectionStr)
{
    SqlConnection conn = null;
    try
    {
        // Ask shard map to broker a validated connection for the given key
        conn = shardMap.OpenConnectionForKey(tenantId, connectionStr, ConnectionOptions.Validate);

        // Set CONTEXT_INFO to shardingKey to enable Row-Level Security filtering
        SqlCommand cmd = conn.CreateCommand();
        cmd.CommandText = @"SET CONTEXT_INFO @shardingKey";
        cmd.Parameters.AddWithValue("@shardingKey", tenantId);
        cmd.ExecuteNonQuery();

        return conn;
    }
    catch (Exception)
    {
        if (conn != null)
        {
            conn.Dispose();
        }

        throw;
    }
}

// ...

// Example query via ADO.NET SqlClient
// If row-level security is enabled, only Tenant 4's blogs will be listed
SqlDatabaseUtils.SqlRetryPolicy.ExecuteAction(() =&gt;
{
    using (SqlConnection conn = OpenConnectionForTenant(sharding.ShardMap, tenantId4, connStrBldr.ConnectionString))
    {
        SqlCommand cmd = conn.CreateCommand();
        cmd.CommandText = @"SELECT * FROM Blogs";

        Console.WriteLine("--\nAll blogs for TenantId {0} (using ADO.NET SqlClient):", tenantId4);
        SqlDataReader reader = cmd.ExecuteReader();
        while (reader.Read())
        {
            Console.WriteLine("{0}", reader["Name"]);
        }
    }
});
</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="b51ea933-fe18-481b-9ac8-90a257b7a607"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="b51ea933-fe18-481b-9ac8-90a257b7a607">
        <segment
          trans_unit_id="149">
          <SegmentId>442b09f7-9a1a-4a60-a5a1-35c411a4cc45</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="149"
            trans_unit_id="149-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="76b2d6f8-fd4f-46c0-8dbf-7cf372964fbc"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="76b2d6f8-fd4f-46c0-8dbf-7cf372964fbc">
        <segment
          trans_unit_id="150">
          <SegmentId>4a0834dd-0a8e-4153-9b39-9acc8cfb3644</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="150"
            trans_unit_id="150-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="0e6c6d1e-4a59-4598-802c-c42be2683ce1"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="0e6c6d1e-4a59-4598-802c-c42be2683ce1">
        <Lines>
          <MarkdownLine>
            <LineId>0967ac82-b720-4bec-af48-286923c24fdc</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="151">
                <SegmentId>62ecdeb8-95e6-410d-80c6-327815a46ef5</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="151"
                  trans_unit_id="151-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="151">
            <SegmentId>62ecdeb8-95e6-410d-80c6-327815a46ef5</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="151"
              trans_unit_id="151-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="1fc81d10-07ca-4d59-8ec8-392e78bcaf49"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="1fc81d10-07ca-4d59-8ec8-392e78bcaf49">
        <Lines>
          <MarkdownLine>
            <LineId>6103197b-ce06-46cb-99b1-720f8ee4c734</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="152">
                <SegmentId>17c6b627-6f61-4352-89e2-c138689d4bc4</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="152"
                  trans_unit_id="152-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="153">
                <SegmentId>81c0304e-729b-4a8d-872b-d9b8d27348e2</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="153"
                  trans_unit_id="153-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="154">
                <SegmentId>ea6b21b8-83a0-463d-b8c6-db3a5d9109bd</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="154"
                  trans_unit_id="154-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="155">
                <SegmentId>5d5f186f-a77a-4f52-bb75-c516222563e8</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="155"
                  trans_unit_id="155-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="152">
            <SegmentId>17c6b627-6f61-4352-89e2-c138689d4bc4</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="152"
              trans_unit_id="152-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="153">
            <SegmentId>81c0304e-729b-4a8d-872b-d9b8d27348e2</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="153"
              trans_unit_id="153-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="154">
            <SegmentId>ea6b21b8-83a0-463d-b8c6-db3a5d9109bd</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="154"
              trans_unit_id="154-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="155">
            <SegmentId>5d5f186f-a77a-4f52-bb75-c516222563e8</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="155"
              trans_unit_id="155-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="ed41eb99-8509-400f-8888-e4ae2f577488"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="ed41eb99-8509-400f-8888-e4ae2f577488">
        <Lines>
          <MarkdownLine>
            <LineId>11d2d60e-6d0e-4893-9c63-13560c0f1336</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="156">
                <SegmentId>94c45756-c51a-4eca-82da-3478aedf2427</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="156"
                  trans_unit_id="156-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="156"
                  trans_unit_id="156-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Elastic Database Jobs</internal_link_text>
                  <internal_link_url>sql-database-elastic-jobs-overview.md</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="156"
                  trans_unit_id="156-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="156">
            <SegmentId>94c45756-c51a-4eca-82da-3478aedf2427</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="156"
              trans_unit_id="156-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="156"
              trans_unit_id="156-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Elastic Database Jobs</internal_link_text>
              <internal_link_url>sql-database-elastic-jobs-overview.md</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="156"
              trans_unit_id="156-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="d02053aa-75ed-4159-b9a8-6d43f033ade6"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="d02053aa-75ed-4159-b9a8-6d43f033ade6">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>CREATE SCHEMA rls -- separate schema to organize RLS objects 
GO

CREATE FUNCTION rls.fn_tenantAccessPredicate(@TenantId int)     
    RETURNS TABLE     
    WITH SCHEMABINDING
AS
    RETURN SELECT 1 AS fn_accessResult          
        WHERE DATABASE_PRINCIPAL_ID() = DATABASE_PRINCIPAL_ID('dbo') -- the user in your application’s connection string (dbo is only for demo purposes!)         
        AND CONVERT(int, CONVERT(varbinary(4), CONTEXT_INFO())) = @TenantId -- @TenantId (int) is 4 bytes 
GO

CREATE SECURITY POLICY rls.tenantAccessPolicy
    ADD FILTER PREDICATE rls.fn_tenantAccessPredicate(TenantId) ON dbo.Blogs,
    ADD FILTER PREDICATE rls.fn_tenantAccessPredicate(TenantId) ON dbo.Posts
GO </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownNoteBlock"
        item_id="7238b7ac-05bc-457e-99cb-6e288da5f60f"
        item_type="Note"
        item_footer=""
        trans_unit_id="7238b7ac-05bc-457e-99cb-6e288da5f60f">
        <Lines>
          <MarkdownLine>
            <LineId>2099f2a5-0147-4af8-8ac5-caab32aa6cf7</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="157">
                <SegmentId>4ba0faba-3717-492b-a8ed-140c791f68f0</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="157"
                  trans_unit_id="157-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="158">
                <SegmentId>5614090c-8eb8-47a9-91ed-f8beb376f3e6</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="158"
                  trans_unit_id="158-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="158"
                  trans_unit_id="158-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Apply Row-Level Security to all tables – helper script (blog)</internal_link_text>
                  <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/03/31/apply-row-level-security-to-all-tables-helper-script</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="158"
                  trans_unit_id="158-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>2</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <NoteSign>&gt; [AZURE.TIP] </NoteSign>
        <Prefixes>
          <string />
        </Prefixes>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="157">
            <SegmentId>4ba0faba-3717-492b-a8ed-140c791f68f0</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="157"
              trans_unit_id="157-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="158">
            <SegmentId>5614090c-8eb8-47a9-91ed-f8beb376f3e6</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="158"
              trans_unit_id="158-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="158"
              trans_unit_id="158-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Apply Row-Level Security to all tables – helper script (blog)</internal_link_text>
              <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/03/31/apply-row-level-security-to-all-tables-helper-script</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="158"
              trans_unit_id="158-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="fd196a3b-c2cd-4f82-94a8-ddfc1e462862"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="fd196a3b-c2cd-4f82-94a8-ddfc1e462862">
        <Lines>
          <MarkdownLine>
            <LineId>8135b4eb-53b3-4284-b81f-09dfdbb0b40c</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="159">
                <SegmentId>b239ad9a-6780-4a4b-b95b-099a9423b580</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="159"
                  trans_unit_id="159-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="159">
            <SegmentId>b239ad9a-6780-4a4b-b95b-099a9423b580</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="159"
              trans_unit_id="159-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="9226c897-0fe6-447c-bad7-184e910eb2ad"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="9226c897-0fe6-447c-bad7-184e910eb2ad">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>ALTER SECURITY POLICY rls.tenantAccessPolicy     
    ADD FILTER PREDICATE rls.fn_tenantAccessPredicate(TenantId) ON dbo.MyNewTable 
GO </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="5083642d-44a7-4d74-8413-4ff2138ae5d1"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="5083642d-44a7-4d74-8413-4ff2138ae5d1">
        <Lines>
          <MarkdownLine>
            <LineId>0dae7707-70b7-423c-bc5f-8e89543c4114</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="160">
                <SegmentId>c83df5de-6b58-40bf-a992-d6337f04eee0</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="160"
                  trans_unit_id="160-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="160">
            <SegmentId>c83df5de-6b58-40bf-a992-d6337f04eee0</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="160"
              trans_unit_id="160-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="198ff538-fd20-49ea-a248-4334f90b5661"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="198ff538-fd20-49ea-a248-4334f90b5661">
        <segment
          trans_unit_id="161">
          <SegmentId>4df75209-f356-48e2-a18c-c90836c8bbeb</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="161"
            trans_unit_id="161-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="a563aa20-844c-4dd3-b85a-b616a1df6ec9"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="a563aa20-844c-4dd3-b85a-b616a1df6ec9">
        <Lines>
          <MarkdownLine>
            <LineId>53c1b86e-b8ad-4755-a972-86e46202412d</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="162">
                <SegmentId>6391a5ce-c21c-4627-9308-7ebaf07be1a6</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="162"
                  trans_unit_id="162-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="163">
                <SegmentId>8015e984-810a-423e-b0de-93af31441684</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="163"
                  trans_unit_id="163-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="164">
                <SegmentId>fe48b340-9f6d-4e18-b52a-39fc35b9caa3</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="164"
                  trans_unit_id="164-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="165">
                <SegmentId>3cdfe9bf-bf90-4d26-85af-467d882b718b</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="165"
                  trans_unit_id="165-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="165"
                  trans_unit_id="165-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Row-Level Security: Blocking unauthorized INSERTs (blog)</internal_link_text>
                  <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/03/23/row-level-security-blocking-unauthorized-inserts</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="165"
                  trans_unit_id="165-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="162">
            <SegmentId>6391a5ce-c21c-4627-9308-7ebaf07be1a6</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="162"
              trans_unit_id="162-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="163">
            <SegmentId>8015e984-810a-423e-b0de-93af31441684</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="163"
              trans_unit_id="163-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="164">
            <SegmentId>fe48b340-9f6d-4e18-b52a-39fc35b9caa3</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="164"
              trans_unit_id="164-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="165">
            <SegmentId>3cdfe9bf-bf90-4d26-85af-467d882b718b</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="165"
              trans_unit_id="165-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="165"
              trans_unit_id="165-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Row-Level Security: Blocking unauthorized INSERTs (blog)</internal_link_text>
              <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/03/23/row-level-security-blocking-unauthorized-inserts</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="165"
              trans_unit_id="165-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="869643ba-63e1-4017-8586-25b572340b38"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="869643ba-63e1-4017-8586-25b572340b38">
        <Lines>
          <MarkdownLine>
            <LineId>aa1f0fab-a556-4074-926c-f6cbeb548134</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="166">
                <SegmentId>127c77ce-6893-4b76-affe-a411c21045ad</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="166"
                  trans_unit_id="166-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="166">
            <SegmentId>127c77ce-6893-4b76-affe-a411c21045ad</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="166"
              trans_unit_id="166-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="371402e3-3c9c-44ca-834d-30fb696508be"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="371402e3-3c9c-44ca-834d-30fb696508be">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>-- Create a scalar version of the predicate function for use in check constraints 
CREATE FUNCTION rls.fn_tenantAccessPredicateScalar(@TenantId int)     
    RETURNS bit 
AS     
    BEGIN     
        IF EXISTS( SELECT 1 FROM rls.fn_tenantAccessPredicate(@TenantId) )         
            RETURN 1     
        RETURN 0 
    END 
GO 

-- Add the function as a check constraint on all sharded tables 
ALTER TABLE Blogs     
    WITH NOCHECK -- don't check data already in table     
    ADD CONSTRAINT chk_blocking_Blogs -- needs a unique name     
    CHECK( rls.fn_tenantAccessPredicateScalar(TenantId) = 1 ) 
GO

ALTER TABLE Posts     
    WITH NOCHECK     
    ADD CONSTRAINT chk_blocking_Posts     
    CHECK( rls.fn_tenantAccessPredicateScalar(TenantId) = 1 ) 
GO </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="568dd6d4-ced8-4583-ad80-f25e13b9971a"
        item_type="NormalParagraph"
        item_footer="&#xA;"
        trans_unit_id="568dd6d4-ced8-4583-ad80-f25e13b9971a">
        <Lines>
          <MarkdownLine>
            <LineId>c923a5ee-bbca-4178-b22f-9824a309505d</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="167">
                <SegmentId>0b65761c-4499-4e92-85e1-25e001fcc6b2</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="167"
                  trans_unit_id="167-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="168">
                <SegmentId>71704174-84b4-48e8-ae60-c55e62644c06</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="168"
                  trans_unit_id="168-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="169">
                <SegmentId>5311a575-061c-4423-80a4-3b77a6c44551</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="169"
                  trans_unit_id="169-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="167">
            <SegmentId>0b65761c-4499-4e92-85e1-25e001fcc6b2</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="167"
              trans_unit_id="167-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="168">
            <SegmentId>71704174-84b4-48e8-ae60-c55e62644c06</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="168"
              trans_unit_id="168-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="169">
            <SegmentId>5311a575-061c-4423-80a4-3b77a6c44551</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="169"
              trans_unit_id="169-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="61bca1f7-ac5c-4bdc-8e08-844677d87c9f"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="61bca1f7-ac5c-4bdc-8e08-844677d87c9f">
        <segment
          trans_unit_id="170">
          <SegmentId>a4229422-f4d2-4a64-b6dd-bbb4d61a2dc0</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="170"
            trans_unit_id="170-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="cce582aa-fad0-4861-9e7e-04e39260ce03"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="cce582aa-fad0-4861-9e7e-04e39260ce03">
        <Lines>
          <MarkdownLine>
            <LineId>1768d842-e42b-48ee-9406-5ad69635af1b</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="171">
                <SegmentId>64b2fdca-987c-4f08-9fe6-ddecc7ba1efb</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="171"
                  trans_unit_id="171-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="172">
                <SegmentId>778805ae-4f1e-4f5b-b5e5-cb06bd06f2d1</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="172"
                  trans_unit_id="172-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="171">
            <SegmentId>64b2fdca-987c-4f08-9fe6-ddecc7ba1efb</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="171"
              trans_unit_id="171-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="172">
            <SegmentId>778805ae-4f1e-4f5b-b5e5-cb06bd06f2d1</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="172"
              trans_unit_id="172-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="ac3c7d6e-9fe3-4561-a1a5-7066eabbda45"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="ac3c7d6e-9fe3-4561-a1a5-7066eabbda45">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>-- Create default constraints to auto-populate TenantId with the value of CONTEXT_INFO for inserts 
ALTER TABLE Blogs     
    ADD CONSTRAINT df_TenantId_Blogs      
    DEFAULT CONVERT(int, CONVERT(varbinary(4), CONTEXT_INFO())) FOR TenantId 
GO

ALTER TABLE Posts     
    ADD CONSTRAINT df_TenantId_Posts      
    DEFAULT CONVERT(int, CONVERT(varbinary(4), CONTEXT_INFO())) FOR TenantId 
GO </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="230aa50c-f8a2-42bf-a9f0-d5974913f351"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="230aa50c-f8a2-42bf-a9f0-d5974913f351">
        <Lines>
          <MarkdownLine>
            <LineId>096c8c67-dda5-4981-accc-1ea6f19b8a1e</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="173">
                <SegmentId>9cd7fa8e-6a3f-47f8-90f9-37e245f5a77d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="173"
                  trans_unit_id="173-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="173">
            <SegmentId>9cd7fa8e-6a3f-47f8-90f9-37e245f5a77d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="173"
              trans_unit_id="173-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="4cd39d75-f231-4ce2-9c33-5b12784b5ff8"
        item_type="FencedCodeBlock"
        item_footer=""
        trans_unit_id="4cd39d75-f231-4ce2-9c33-5b12784b5ff8">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>SqlDatabaseUtils.SqlRetryPolicy.ExecuteAction(() =&gt; 
{   
    using (var db = new ElasticScaleContext&lt;int&gt;(sharding.ShardMap, tenantId, connStrBldr.ConnectionString))
    {
        var blog = new Blog { Name = name }; // default constraint sets TenantId automatically     
        db.Blogs.Add(blog);     
        db.SaveChanges();   
    } 
}); </code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownNoteBlock"
        item_id="488caf89-22b0-4c23-8656-c3a8743d4d67"
        item_type="Note"
        item_footer=""
        trans_unit_id="488caf89-22b0-4c23-8656-c3a8743d4d67">
        <Lines>
          <MarkdownLine>
            <LineId>84ffdd38-0905-4ab1-bd70-1483d42d78dd</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="174">
                <SegmentId>f177e1dc-8248-4e71-ba87-caa42b57b536</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="174"
                  trans_unit_id="174-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="175">
                <SegmentId>3b84a619-b90e-400c-8b3f-1137653dff16</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="175"
                  trans_unit_id="175-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="176">
                <SegmentId>2b438d3a-ffba-44ee-8f1b-03366ecbf0e9</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="176"
                  trans_unit_id="176-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="177">
                <SegmentId>a2de1ffd-840b-48b7-a3be-b7fd47bcb3ca</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="177"
                  trans_unit_id="177-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>1</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <NoteSign>&gt; [AZURE.NOTE] </NoteSign>
        <Prefixes>
          <string />
        </Prefixes>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="174">
            <SegmentId>f177e1dc-8248-4e71-ba87-caa42b57b536</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="174"
              trans_unit_id="174-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="175">
            <SegmentId>3b84a619-b90e-400c-8b3f-1137653dff16</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="175"
              trans_unit_id="175-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="176">
            <SegmentId>2b438d3a-ffba-44ee-8f1b-03366ecbf0e9</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="176"
              trans_unit_id="176-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="177">
            <SegmentId>a2de1ffd-840b-48b7-a3be-b7fd47bcb3ca</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="177"
              trans_unit_id="177-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="2810d395-8910-45cd-8d2c-90ecb9297498"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="2810d395-8910-45cd-8d2c-90ecb9297498">
        <segment
          trans_unit_id="178">
          <SegmentId>13141e03-9c5c-459d-ae76-e2d1d94d9fe3</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="178"
            trans_unit_id="178-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="23b89331-f85a-4c97-9274-fe6566f89056"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="23b89331-f85a-4c97-9274-fe6566f89056">
        <Lines>
          <MarkdownLine>
            <LineId>42e07c3e-5346-4dc0-9bad-0b19242ae44d</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="179">
                <SegmentId>ae9ff4ce-e102-405f-a9ee-f2a9d5b58f29</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="179"
                  trans_unit_id="179-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="180">
                <SegmentId>77664694-63aa-44e2-9e76-099712fd10e8</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="180"
                  trans_unit_id="180-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="181">
                <SegmentId>0faafe97-1d08-4196-99b3-36e06479fa49</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="181"
                  trans_unit_id="181-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="179">
            <SegmentId>ae9ff4ce-e102-405f-a9ee-f2a9d5b58f29</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="179"
              trans_unit_id="179-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="180">
            <SegmentId>77664694-63aa-44e2-9e76-099712fd10e8</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="180"
              trans_unit_id="180-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="181">
            <SegmentId>0faafe97-1d08-4196-99b3-36e06479fa49</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="181"
              trans_unit_id="181-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownFencedCodeBlock"
        item_id="d2716488-6c5e-4cf6-b920-f94594a1dde2"
        item_type="FencedCodeBlock"
        item_footer="&#xA;"
        trans_unit_id="d2716488-6c5e-4cf6-b920-f94594a1dde2">
        <codeblock_wraper>```</codeblock_wraper>
        <code_block>-- New predicate function that adds superuser logic
CREATE FUNCTION rls.fn_tenantAccessPredicateWithSuperUser(@TenantId int)
    RETURNS TABLE
    WITH SCHEMABINDING
AS
    RETURN SELECT 1 AS fn_accessResult 
        WHERE 
        (
            DATABASE_PRINCIPAL_ID() = DATABASE_PRINCIPAL_ID('dbo') -- note, should not be dbo!
            AND CONVERT(int, CONVERT(varbinary(4), CONTEXT_INFO())) = @TenantId
        ) 
        OR
        (
            DATABASE_PRINCIPAL_ID() = DATABASE_PRINCIPAL_ID('superuser')
        )
GO

-- Atomically swap in the new predicate function on each table
ALTER SECURITY POLICY rls.tenantAccessPolicy
    ALTER FILTER PREDICATE rls.fn_tenantAccessPredicateWithSuperUser(TenantId) ON dbo.Blogs,
    ALTER FILTER PREDICATE rls.fn_tenantAccessPredicateWithSuperUser(TenantId) ON dbo.Posts
GO</code_block>
        <fenced_code_lang />
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="cb0e8950-1d30-4574-a48e-6daa020bc7eb"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="cb0e8950-1d30-4574-a48e-6daa020bc7eb">
        <segment
          trans_unit_id="182">
          <SegmentId>18f85fb0-1e76-4b2a-9a8a-046dc679b3b9</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="182"
            trans_unit_id="182-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>3</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="2dfe174c-41dd-44fa-98ab-825ad34e4ea5"
        item_type="List"
        item_footer="&#xA;"
        trans_unit_id="2dfe174c-41dd-44fa-98ab-825ad34e4ea5">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="de24881f-064f-44d9-87d0-4be023e551d3"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="de24881f-064f-44d9-87d0-4be023e551d3">
              <Lines>
                <MarkdownLine>
                  <LineId>63e258db-166e-4803-a519-2844ae81f922</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="183">
                      <SegmentId>8691879a-dbae-42ed-acf8-ed536fdec1c1</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="183"
                        trans_unit_id="183-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="183"
                        trans_unit_id="183-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="183">
                  <SegmentId>8691879a-dbae-42ed-acf8-ed536fdec1c1</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="183"
                    trans_unit_id="183-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="183"
                    trans_unit_id="183-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="6c413cc1-587b-451a-94b3-662837a5280f"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="6c413cc1-587b-451a-94b3-662837a5280f">
              <Lines>
                <MarkdownLine>
                  <LineId>72f0f280-8430-429e-b87b-dcc9849fb6dd</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="184">
                      <SegmentId>1929b81e-1bb7-497f-8ae6-7d62cef89dd0</SegmentId>
                      <MarkdownInternalBoldItem
                        internal_item_id="1"
                        internal_item_parent_id="184"
                        trans_unit_id="184-1"
                        internal_item_type="Bold">
                        <internal_items />
                        <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                      </MarkdownInternalBoldItem>
                      <InternalNormalItem
                        internal_item_id="2"
                        internal_item_parent_id="184"
                        trans_unit_id="184-2"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="185">
                      <SegmentId>aed15b83-9535-4ba4-a92a-cadd1a8892ff</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="185"
                        trans_unit_id="185-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <LinkItem
                        internal_item_id="2"
                        internal_item_parent_id="185"
                        trans_unit_id="185-2"
                        internal_item_type="Link">
                        <internal_items />
                        <internal_link_type>Inline</internal_link_type>
                        <internal_link_text>Apply Row-Level Security automatically to newly created tables (blog)</internal_link_text>
                        <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/05/22/apply-row-level-security-automatically-to-newly-created-tables.aspx</internal_link_url>
                        <internal_link_title />
                      </LinkItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="185"
                        trans_unit_id="185-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="184">
                  <SegmentId>1929b81e-1bb7-497f-8ae6-7d62cef89dd0</SegmentId>
                  <MarkdownInternalBoldItem
                    internal_item_id="1"
                    internal_item_parent_id="184"
                    trans_unit_id="184-1"
                    internal_item_type="Bold">
                    <internal_items />
                    <internal_itatic_bold_item_type>Star</internal_itatic_bold_item_type>
                  </MarkdownInternalBoldItem>
                  <InternalNormalItem
                    internal_item_id="2"
                    internal_item_parent_id="184"
                    trans_unit_id="184-2"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="185">
                  <SegmentId>aed15b83-9535-4ba4-a92a-cadd1a8892ff</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="185"
                    trans_unit_id="185-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <LinkItem
                    internal_item_id="2"
                    internal_item_parent_id="185"
                    trans_unit_id="185-2"
                    internal_item_type="Link">
                    <internal_items />
                    <internal_link_type>Inline</internal_link_type>
                    <internal_link_text>Apply Row-Level Security automatically to newly created tables (blog)</internal_link_text>
                    <internal_link_url>http://blogs.msdn.com/b/sqlsecurity/archive/2015/05/22/apply-row-level-security-automatically-to-newly-created-tables.aspx</internal_link_url>
                    <internal_link_title />
                  </LinkItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="185"
                    trans_unit_id="185-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="6edaa427-1b94-4d93-9996-0e9f61af04b8"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="6edaa427-1b94-4d93-9996-0e9f61af04b8">
        <segment
          trans_unit_id="186">
          <SegmentId>02f722d0-18f6-4b0d-88c6-bfbd02063a30</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="186"
            trans_unit_id="186-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="84b7bcc6-ebad-40e0-897e-5db677413675"
        item_type="NormalParagraph"
        item_footer="&#xA;"
        trans_unit_id="84b7bcc6-ebad-40e0-897e-5db677413675">
        <Lines>
          <MarkdownLine>
            <LineId>feb3f4a5-8928-46a4-b20a-e54d40df615a</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="187">
                <SegmentId>d48d6f95-4d1f-4f8e-8237-b4ab5dedafab</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="187"
                  trans_unit_id="187-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="188">
                <SegmentId>6df3f5fc-69ff-4906-a511-ae0e8f3b227d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="188"
                  trans_unit_id="188-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="189">
                <SegmentId>2151f837-162e-48e7-a635-1308408586f4</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="189"
                  trans_unit_id="189-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="189"
                  trans_unit_id="189-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Elastic Database Tools Documentation Map</internal_link_text>
                  <internal_link_url>sql-database-elastic-scale-documentation-map.md</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="189"
                  trans_unit_id="189-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="4"
                  internal_item_parent_id="189"
                  trans_unit_id="189-4"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Row-Level Security reference</internal_link_text>
                  <internal_link_url>https://msdn.microsoft.com/library/dn765131</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="5"
                  internal_item_parent_id="189"
                  trans_unit_id="189-5"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="187">
            <SegmentId>d48d6f95-4d1f-4f8e-8237-b4ab5dedafab</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="187"
              trans_unit_id="187-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="188">
            <SegmentId>6df3f5fc-69ff-4906-a511-ae0e8f3b227d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="188"
              trans_unit_id="188-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="189">
            <SegmentId>2151f837-162e-48e7-a635-1308408586f4</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="189"
              trans_unit_id="189-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="189"
              trans_unit_id="189-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Elastic Database Tools Documentation Map</internal_link_text>
              <internal_link_url>sql-database-elastic-scale-documentation-map.md</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="189"
              trans_unit_id="189-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="4"
              internal_item_parent_id="189"
              trans_unit_id="189-4"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Row-Level Security reference</internal_link_text>
              <internal_link_url>https://msdn.microsoft.com/library/dn765131</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="5"
              internal_item_parent_id="189"
              trans_unit_id="189-5"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="6c778b9d-a185-4002-a2f5-b490ad542323"
        item_type="NormalParagraph"
        item_footer="&#xA;&#xA;&#xA;&#xA;&#xA;&#xA;&#xA;"
        trans_unit_id="6c778b9d-a185-4002-a2f5-b490ad542323">
        <Lines>
          <MarkdownLine>
            <LineId>069818fa-5e41-403c-9a66-4ea762c991f9</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="190">
                <SegmentId>db0a83e0-7562-416c-9b1d-140d2a037439</SegmentId>
                <MarkdownInternalTokenItem
                  internal_item_id="1"
                  internal_item_parent_id="190"
                  trans_unit_id="190-1"
                  internal_item_type="Token">
                  <internal_items />
                  <TokenPrefix>AZURE.INCLUDE </TokenPrefix>
                  <TokenShortName>elastic-scale-include</TokenShortName>
                  <TokenHyperLink>../../includes/elastic-scale-include.md</TokenHyperLink>
                </MarkdownInternalTokenItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="190">
            <SegmentId>db0a83e0-7562-416c-9b1d-140d2a037439</SegmentId>
            <MarkdownInternalTokenItem
              internal_item_id="1"
              internal_item_parent_id="190"
              trans_unit_id="190-1"
              internal_item_type="Token">
              <internal_items />
              <TokenPrefix>AZURE.INCLUDE </TokenPrefix>
              <TokenShortName>elastic-scale-include</TokenShortName>
              <TokenHyperLink>../../includes/elastic-scale-include.md</TokenHyperLink>
            </MarkdownInternalTokenItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
    </ArrayOfMarkdownBlockBase>
  </block_element>
  <references>
    <ArrayOfMarkdownLinkedReference xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownLinkedReference
        item_id="b1638422-2daf-4dd6-9ef7-ada67a0837d2"
        item_type="LinkedReference"
        item_footer="footer_not_set"
        trans_unit_id="b1638422-2daf-4dd6-9ef7-ada67a0837d2">
        <link_id>1</link_id>
        <link_uri>./media/sql-database-elastic-tools-multi-tenant-row-level-security/blogging-app.png</link_uri>
        <link_title />
      </MarkdownLinkedReference>
    </ArrayOfMarkdownLinkedReference>
  </references>
</markdown_skeleton_root>