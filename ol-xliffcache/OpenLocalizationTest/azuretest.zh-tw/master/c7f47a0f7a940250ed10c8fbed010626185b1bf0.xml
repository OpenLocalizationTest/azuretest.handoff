<markdown_skeleton_root>
  <block_element>
    <ArrayOfMarkdownBlockBase xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="8387c824-f892-4c00-8c66-fc2292fa14a7"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="8387c824-f892-4c00-8c66-fc2292fa14a7">
        <Lines>
          <MarkdownLine>
            <LineId>dcdece2e-df36-48f8-a817-bfd8bda06419</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="101">
                <SegmentId>dba5928d-6592-412a-a9be-eb3e38056b11</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="101"
                  trans_unit_id="101-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="102">
                <SegmentId>98463d2c-1969-47b7-b0fa-06628d4634ba</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="102"
                  trans_unit_id="102-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="103">
                <SegmentId>189aa716-b212-4379-9382-77f7937c9df8</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="103"
                  trans_unit_id="103-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="104">
                <SegmentId>19452ee8-e0ee-43fb-8da1-3faebad632e2</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="104"
                  trans_unit_id="104-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="105">
                <SegmentId>c5df04a4-e8b7-4289-9ae4-f7f90e032a36</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="105"
                  trans_unit_id="105-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="101">
            <SegmentId>dba5928d-6592-412a-a9be-eb3e38056b11</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="101"
              trans_unit_id="101-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="102">
            <SegmentId>98463d2c-1969-47b7-b0fa-06628d4634ba</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="102"
              trans_unit_id="102-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="103">
            <SegmentId>189aa716-b212-4379-9382-77f7937c9df8</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="103"
              trans_unit_id="103-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="104">
            <SegmentId>19452ee8-e0ee-43fb-8da1-3faebad632e2</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="104"
              trans_unit_id="104-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="105">
            <SegmentId>c5df04a4-e8b7-4289-9ae4-f7f90e032a36</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="105"
              trans_unit_id="105-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="f82a4eb5-7c6b-4a95-a8b4-89395372a574"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="f82a4eb5-7c6b-4a95-a8b4-89395372a574">
        <Lines>
          <MarkdownLine>
            <LineId>100d66cd-4dd9-49db-b360-0f881c7116e7</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="106">
                <SegmentId>c3501e8d-b8a3-42a3-bb84-e1552e69974e</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="106"
                  trans_unit_id="106-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="107">
                <SegmentId>4c9635d8-0e44-4e81-9d79-fae9c02f98c2</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="107"
                  trans_unit_id="107-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="107"
                  trans_unit_id="107-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>ServiceFilter</internal_link_text>
                  <internal_link_url>http://dl.windowsazure.com/androiddocs/com/microsoft/windowsazure/mobileservices/ServiceFilter.html</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="107"
                  trans_unit_id="107-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="4"
                  internal_item_parent_id="107"
                  trans_unit_id="107-4"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>Android client library</internal_link_text>
                  <internal_link_url>http://dl.windowsazure.com/androiddocs/</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="5"
                  internal_item_parent_id="107"
                  trans_unit_id="107-5"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="106">
            <SegmentId>c3501e8d-b8a3-42a3-bb84-e1552e69974e</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="106"
              trans_unit_id="106-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="107">
            <SegmentId>4c9635d8-0e44-4e81-9d79-fae9c02f98c2</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="107"
              trans_unit_id="107-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="107"
              trans_unit_id="107-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>ServiceFilter</internal_link_text>
              <internal_link_url>http://dl.windowsazure.com/androiddocs/com/microsoft/windowsazure/mobileservices/ServiceFilter.html</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="107"
              trans_unit_id="107-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="4"
              internal_item_parent_id="107"
              trans_unit_id="107-4"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>Android client library</internal_link_text>
              <internal_link_url>http://dl.windowsazure.com/androiddocs/</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="5"
              internal_item_parent_id="107"
              trans_unit_id="107-5"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="7e9cd51c-56b0-4d8d-b0ab-ef7e41f9abc9"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="7e9cd51c-56b0-4d8d-b0ab-ef7e41f9abc9">
        <Lines>
          <MarkdownLine>
            <LineId>8b2cfa40-3775-4926-a92e-2443bc6b23dc</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="108">
                <SegmentId>889b773d-1245-4df7-b03c-1d6c21d70069</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="108"
                  trans_unit_id="108-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="109">
                <SegmentId>66b32628-2def-48cc-ac8b-6c5f55c9886f</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="109"
                  trans_unit_id="109-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="108">
            <SegmentId>889b773d-1245-4df7-b03c-1d6c21d70069</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="108"
              trans_unit_id="108-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="109">
            <SegmentId>66b32628-2def-48cc-ac8b-6c5f55c9886f</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="109"
              trans_unit_id="109-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="7209e2a7-4b1b-47e0-adbe-487816b98439"
        item_type="List"
        item_footer="&#xA;&#xA;&#xA;&#xA;"
        trans_unit_id="7209e2a7-4b1b-47e0-adbe-487816b98439">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="a4c85dd5-ec64-43ae-8f97-74e9008b777b"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="a4c85dd5-ec64-43ae-8f97-74e9008b777b">
              <Lines>
                <MarkdownLine>
                  <LineId>ff6819ff-5a3e-432d-8ce4-2d07e7f0bb14</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="110">
                      <SegmentId>9c0553b1-16a8-40e4-96e5-6067590bfc2a</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="110"
                        trans_unit_id="110-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="110">
                  <SegmentId>9c0553b1-16a8-40e4-96e5-6067590bfc2a</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="110"
                    trans_unit_id="110-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="d5be9794-3076-43e9-8334-5cde83372fb8"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="d5be9794-3076-43e9-8334-5cde83372fb8">
              <code_block> import java.util.concurrent.atomic.AtomicBoolean;
 import java.util.concurrent.ExecutionException;

 import com.microsoft.windowsazure.mobileservices.MobileServiceException;

</code_block>
            </MarkdownCodeBlock>
            <Identifier>1.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="14ba0173-668c-479f-b606-296009c47929"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="14ba0173-668c-479f-b606-296009c47929">
              <Lines>
                <MarkdownLine>
                  <LineId>efa3774f-7d57-464d-8e49-3b14ea523502</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="111">
                      <SegmentId>91bb13e7-de56-4486-9c9d-5d939f338ffa</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="111"
                        trans_unit_id="111-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <CodeSpanItem
                        internal_item_id="2"
                        internal_item_parent_id="111"
                        trans_unit_id="111-2"
                        internal_item_type="CodeSpan">
                        <internal_items />
                        <ItemValue>ToDoActivity</ItemValue>
                      </CodeSpanItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="111"
                        trans_unit_id="111-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="111">
                  <SegmentId>91bb13e7-de56-4486-9c9d-5d939f338ffa</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="111"
                    trans_unit_id="111-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <CodeSpanItem
                    internal_item_id="2"
                    internal_item_parent_id="111"
                    trans_unit_id="111-2"
                    internal_item_type="CodeSpan">
                    <internal_items />
                    <ItemValue>ToDoActivity</ItemValue>
                  </CodeSpanItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="111"
                    trans_unit_id="111-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="fbcd22ae-d33b-4888-be28-a4374e08354e"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="fbcd22ae-d33b-4888-be28-a4374e08354e">
              <code_block> public boolean bAuthenticating = false;
 public final Object mAuthenticationLock = new Object();

</code_block>
            </MarkdownCodeBlock>
            <MarkdownParagraphBlock
              item_id="064bf0d4-768a-4a94-b600-4ff7f7c0abc5"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="064bf0d4-768a-4a94-b600-4ff7f7c0abc5">
              <Lines>
                <MarkdownLine>
                  <LineId>526a4e9b-d465-42ab-bc15-88080262fe65</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="112">
                      <SegmentId>5a1b581f-6d26-49f3-9b54-b28ea6553099</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="112"
                        trans_unit_id="112-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="113">
                      <SegmentId>8e053f2b-ed9b-400b-a6a3-e7a4f834c1f2</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="113"
                        trans_unit_id="113-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="114">
                      <SegmentId>08052f83-1538-4a80-b482-87a2d8257333</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="114"
                        trans_unit_id="114-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="112">
                  <SegmentId>5a1b581f-6d26-49f3-9b54-b28ea6553099</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="112"
                    trans_unit_id="112-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="113">
                  <SegmentId>8e053f2b-ed9b-400b-a6a3-e7a4f834c1f2</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="113"
                    trans_unit_id="113-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="114">
                  <SegmentId>08052f83-1538-4a80-b482-87a2d8257333</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="114"
                    trans_unit_id="114-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>2.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="44a2b751-e4b7-4c51-8839-6e73862ea756"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="44a2b751-e4b7-4c51-8839-6e73862ea756">
              <Lines>
                <MarkdownLine>
                  <LineId>d516bf78-1d22-4eca-b0db-11cc51c052d6</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="115">
                      <SegmentId>af92dba6-dd98-439b-9baf-a953ae379d46</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="115"
                        trans_unit_id="115-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="115">
                  <SegmentId>af92dba6-dd98-439b-9baf-a953ae379d46</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="115"
                    trans_unit_id="115-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="3c44faac-768a-4d68-bfef-3454c355844b"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="3c44faac-768a-4d68-bfef-3454c355844b">
              <code_block> /**
  * Detects if authentication is in progress and waits for it to complete. 
  * Returns true if authentication was detected as in progress. False otherwise.
  */
 public boolean detectAndWaitForAuthentication()
 {
     boolean detected = false;
     synchronized(mAuthenticationLock)
     {
         do
         {
             if (bAuthenticating == true)
                 detected = true;
             try
             {
                 mAuthenticationLock.wait(1000);
             }
             catch(InterruptedException e)
             {}
         }
         while(bAuthenticating == true);
     }
     if (bAuthenticating == true)
         return true;

     return detected;
 }

</code_block>
            </MarkdownCodeBlock>
            <Identifier>3.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="028bd815-5dbc-4bf4-b031-ffa53fb78aa5"
              item_type="NormalParagraph"
              item_footer="&#xA;"
              trans_unit_id="028bd815-5dbc-4bf4-b031-ffa53fb78aa5">
              <Lines>
                <MarkdownLine>
                  <LineId>352dfeb5-6d3a-466b-8a9f-6f33609af74a</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="116">
                      <SegmentId>f9ee24e6-7eab-4a4f-afa2-6f9fdf67da83</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="116"
                        trans_unit_id="116-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="117">
                      <SegmentId>905ee0d9-abf6-4277-9768-faf1733e7a65</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="117"
                        trans_unit_id="117-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="116">
                  <SegmentId>f9ee24e6-7eab-4a4f-afa2-6f9fdf67da83</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="116"
                    trans_unit_id="116-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="117">
                  <SegmentId>905ee0d9-abf6-4277-9768-faf1733e7a65</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="117"
                    trans_unit_id="117-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="79d8ffec-343c-4f6e-a6a8-75ec7651a2d4"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="79d8ffec-343c-4f6e-a6a8-75ec7651a2d4">
              <code_block> /**
  * Waits for authentication to complete then adds or updates the token 
  * in the X-ZUMO-AUTH request header.
  * 
  * @param request
  *            The request that receives the updated token.
  */
 private void waitAndUpdateRequestToken(ServiceFilterRequest request)
 {
     MobileServiceUser user = null;
     if (detectAndWaitForAuthentication())
     {
         user = mClient.getCurrentUser();
         if (user != null)
         {
             request.removeHeader("X-ZUMO-AUTH");
             request.addHeader("X-ZUMO-AUTH", user.getAuthenticationToken());
         }
     }
 }

</code_block>
            </MarkdownCodeBlock>
            <Identifier>4.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="b8f0a386-f46f-400f-be18-3c79b34046a5"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="b8f0a386-f46f-400f-be18-3c79b34046a5">
              <Lines>
                <MarkdownLine>
                  <LineId>235a46cd-7493-467d-a77d-e66c60755feb</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="118">
                      <SegmentId>5af25524-4de6-4c61-8e7c-811f83533454</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="118"
                        trans_unit_id="118-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <CodeSpanItem
                        internal_item_id="2"
                        internal_item_parent_id="118"
                        trans_unit_id="118-2"
                        internal_item_type="CodeSpan">
                        <internal_items />
                        <ItemValue>authenticate</ItemValue>
                      </CodeSpanItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="118"
                        trans_unit_id="118-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="119">
                      <SegmentId>d3a0f854-0d96-48e2-afbe-35a8d86cca25</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="119"
                        trans_unit_id="119-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="118">
                  <SegmentId>5af25524-4de6-4c61-8e7c-811f83533454</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="118"
                    trans_unit_id="118-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <CodeSpanItem
                    internal_item_id="2"
                    internal_item_parent_id="118"
                    trans_unit_id="118-2"
                    internal_item_type="CodeSpan">
                    <internal_items />
                    <ItemValue>authenticate</ItemValue>
                  </CodeSpanItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="118"
                    trans_unit_id="118-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="119">
                  <SegmentId>d3a0f854-0d96-48e2-afbe-35a8d86cca25</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="119"
                    trans_unit_id="119-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="bce4a99b-608f-40d2-b942-65e60b771d72"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="bce4a99b-608f-40d2-b942-65e60b771d72">
              <code_block> /**
  * Authenticates with the desired login provider. Also caches the token. 
  * 
  * If a local token cache is detected, the token cache is used instead of an actual 
  * login unless bRefresh is set to true forcing a refresh.
  * 
  * @param bRefreshCache
  *            Indicates whether to force a token refresh. 
  */
 private void authenticate(boolean bRefreshCache) {

     bAuthenticating = true;

     if (bRefreshCache || !loadUserTokenCache(mClient))
     {
         // New login using the provider and update the token cache.
         mClient.login(MobileServiceAuthenticationProvider.MicrosoftAccount,
                 new UserAuthenticationCallback() {
                     @Override
                     public void onCompleted(MobileServiceUser user,
                             Exception exception, ServiceFilterResponse response) {

                         synchronized(mAuthenticationLock)
                         {
                             if (exception == null) {
                                 cacheUserToken(mClient.getCurrentUser());
                                 createTable();
                             } else {
                                 createAndShowDialog(exception.getMessage(), "Login Error");
                             }
                             bAuthenticating = false;
                             mAuthenticationLock.notifyAll();
                         }
                     }
                 });
     }
     else
     {
         // Other threads may be blocked waiting to be notified when 
         // authentication is complete.
         synchronized(mAuthenticationLock)
         {
             bAuthenticating = false;
             mAuthenticationLock.notifyAll();
         }
         createTable();
     }
 }   

</code_block>
            </MarkdownCodeBlock>
            <Identifier>5.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="f17b7c05-7aea-47e2-8a38-1a2e82bf9286"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="f17b7c05-7aea-47e2-8a38-1a2e82bf9286">
              <Lines>
                <MarkdownLine>
                  <LineId>9151a830-e86b-4e77-af1a-3fc117303d45</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="120">
                      <SegmentId>dccc539d-89a5-4228-ba6c-6dae65ea8f19</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="120"
                        trans_unit_id="120-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <CodeSpanItem
                        internal_item_id="2"
                        internal_item_parent_id="120"
                        trans_unit_id="120-2"
                        internal_item_type="CodeSpan">
                        <internal_items />
                        <ItemValue>RefreshTokenCacheFilter</ItemValue>
                      </CodeSpanItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="120"
                        trans_unit_id="120-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="120">
                  <SegmentId>dccc539d-89a5-4228-ba6c-6dae65ea8f19</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="120"
                    trans_unit_id="120-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <CodeSpanItem
                    internal_item_id="2"
                    internal_item_parent_id="120"
                    trans_unit_id="120-2"
                    internal_item_type="CodeSpan">
                    <internal_items />
                    <ItemValue>RefreshTokenCacheFilter</ItemValue>
                  </CodeSpanItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="120"
                    trans_unit_id="120-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="3afae1cb-a46d-4b67-a3dd-e2cf438e38a7"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="3afae1cb-a46d-4b67-a3dd-e2cf438e38a7">
              <code_block> /**
 * The RefreshTokenCacheFilter class filters responses for HTTP status code 401. 
  * When 401 is encountered, the filter calls the authenticate method on the 
  * UI thread. Out going requests and retries are blocked during authentication. 
  * Once authentication is complete, the token cache is updated and 
  * any blocked request will receive the X-ZUMO-AUTH header added or updated to 
  * that request.   
  */
 private class RefreshTokenCacheFilter implements ServiceFilter {

     AtomicBoolean mAtomicAuthenticatingFlag = new AtomicBoolean();                     

     @Override
     public ListenableFuture&lt;ServiceFilterResponse&gt; handleRequest(
             final ServiceFilterRequest request, 
             final NextServiceFilterCallback nextServiceFilterCallback
             )
     {
         // In this example, if authentication is already in progress we block the request
         // until authentication is complete to avoid unnecessary authentications as 
         // a result of HTTP status code 401. 
         // If authentication was detected, add the token to the request.
         waitAndUpdateRequestToken(request);

         // Send the request down the filter chain
         // retrying up to 5 times on 401 response codes.
         ListenableFuture&lt;ServiceFilterResponse&gt; future = null;
         ServiceFilterResponse response = null;
         int responseCode = 401;
         for (int i = 0; (i &lt; 5 ) &amp;&amp; (responseCode == 401); i++)
         {
             future = nextServiceFilterCallback.onNext(request);
             try {
                 response = future.get();
                 responseCode = response.getStatus().getStatusCode();
             } catch (InterruptedException e) {
                e.printStackTrace();
             } catch (ExecutionException e) {
                 if (e.getCause().getClass() == MobileServiceException.class)
                 {
                     MobileServiceException mEx = (MobileServiceException) e.getCause();
                     responseCode = mEx.getResponse().getStatus().getStatusCode();
                     if (responseCode == 401)
                     {
                         // Two simultaneous requests from independent threads could get HTTP status 401. 
                         // Protecting against that right here so multiple authentication requests are
                         // not setup to run on the UI thread.
                         // We only want to authenticate once. Requests should just wait and retry 
                         // with the new token.
                         if (mAtomicAuthenticatingFlag.compareAndSet(false, true))                                                                                                      
                         {
                             // Authenticate on UI thread
                             runOnUiThread(new Runnable() {
                                 @Override
                                 public void run() {
                                     // Force a token refresh during authentication.
                                     authenticate(true);
         // ToDoActivity.mMainActivity.authenticate(true);

                                 }
                             });
                         }

                         // Wait for authentication to complete then update the token in the request. 
                         waitAndUpdateRequestToken(request);
                         mAtomicAuthenticatingFlag.set(false);                                                  
                     }
                 }
             }
         }
         return future;
     }
 }


</code_block>
            </MarkdownCodeBlock>
            <MarkdownParagraphBlock
              item_id="125237e1-491e-4750-aed1-2de7f86fe11e"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="125237e1-491e-4750-aed1-2de7f86fe11e">
              <Lines>
                <MarkdownLine>
                  <LineId>b8331c38-f990-4675-98a1-0725bfe4f158</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="121">
                      <SegmentId>3d476780-015f-4f1a-9445-63c3a12f6c60</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="121"
                        trans_unit_id="121-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="122">
                      <SegmentId>9c54e414-6dbe-48c9-888b-528c8a280f33</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="122"
                        trans_unit_id="122-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="123">
                      <SegmentId>61d4166f-515f-44c1-bde8-c2ab890ecc9a</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="123"
                        trans_unit_id="123-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                    <MarkdownSegment
                      trans_unit_id="124">
                      <SegmentId>f1d4a437-0bad-4398-ac12-e41e3c37d2e1</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="124"
                        trans_unit_id="124-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="121">
                  <SegmentId>3d476780-015f-4f1a-9445-63c3a12f6c60</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="121"
                    trans_unit_id="121-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="122">
                  <SegmentId>9c54e414-6dbe-48c9-888b-528c8a280f33</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="122"
                    trans_unit_id="122-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="123">
                  <SegmentId>61d4166f-515f-44c1-bde8-c2ab890ecc9a</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="123"
                    trans_unit_id="123-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
                <MarkdownSegment
                  trans_unit_id="124">
                  <SegmentId>f1d4a437-0bad-4398-ac12-e41e3c37d2e1</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="124"
                    trans_unit_id="124-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>6.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="e2b4effb-c663-4b1c-bdac-bedec6eed332"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="e2b4effb-c663-4b1c-bdac-bedec6eed332">
              <Lines>
                <MarkdownLine>
                  <LineId>877bdf50-5a82-48a4-af4c-327cec36d047</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="125">
                      <SegmentId>05d2b155-5283-4144-9a31-2339a3765560</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="125"
                        trans_unit_id="125-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <CodeSpanItem
                        internal_item_id="2"
                        internal_item_parent_id="125"
                        trans_unit_id="125-2"
                        internal_item_type="CodeSpan">
                        <internal_items />
                        <ItemValue>ProgressFilter</ItemValue>
                      </CodeSpanItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="125"
                        trans_unit_id="125-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="125">
                  <SegmentId>05d2b155-5283-4144-9a31-2339a3765560</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="125"
                    trans_unit_id="125-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <CodeSpanItem
                    internal_item_id="2"
                    internal_item_parent_id="125"
                    trans_unit_id="125-2"
                    internal_item_type="CodeSpan">
                    <internal_items />
                    <ItemValue>ProgressFilter</ItemValue>
                  </CodeSpanItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="125"
                    trans_unit_id="125-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="5d4695d4-054a-45a2-a024-cac0e9015efb"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="5d4695d4-054a-45a2-a024-cac0e9015efb">
              <code_block> /**
 * The ProgressFilter class renders a progress bar on the screen during the time the App is waiting for the response of a previous request.
 * the filter shows the progress bar on the beginning of the request, and hides it when the response arrived.
 */
 private class ProgressFilter implements ServiceFilter {
     @Override
     public ListenableFuture&lt;ServiceFilterResponse&gt; handleRequest(ServiceFilterRequest request, NextServiceFilterCallback nextServiceFilterCallback) {

         final SettableFuture&lt;ServiceFilterResponse&gt; resultFuture = SettableFuture.create();

         runOnUiThread(new Runnable() {

             @Override
             public void run() {
                 if (mProgressBar != null) mProgressBar.setVisibility(ProgressBar.VISIBLE);
             }
         });

         ListenableFuture&lt;ServiceFilterResponse&gt; future = nextServiceFilterCallback.onNext(request);

         Futures.addCallback(future, new FutureCallback&lt;ServiceFilterResponse&gt;() {
             @Override
             public void onFailure(Throwable e) {
                 resultFuture.setException(e);
             }

             @Override
             public void onSuccess(ServiceFilterResponse response) {
                 runOnUiThread(new Runnable() {

                     @Override
                     public void run() {
                         if (mProgressBar != null) mProgressBar.setVisibility(ProgressBar.GONE);
                     }
                 });

                 resultFuture.set(response);
             }
         });

         return resultFuture;
     }
 }

</code_block>
            </MarkdownCodeBlock>
            <MarkdownParagraphBlock
              item_id="7d591fb5-4bd4-453e-8df2-bdecf29d7502"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="7d591fb5-4bd4-453e-8df2-bdecf29d7502">
              <Lines>
                <MarkdownLine>
                  <LineId>236ae2e3-ead0-4462-ae71-7cce10b26a2b</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="126">
                      <SegmentId>99841818-3074-483e-8b23-c55541762b61</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="126"
                        trans_unit_id="126-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="126">
                  <SegmentId>99841818-3074-483e-8b23-c55541762b61</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="126"
                    trans_unit_id="126-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>7.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="13c20a37-5ee8-4694-be49-1da3c8779ad1"
              item_type="NormalParagraph"
              item_footer=""
              trans_unit_id="13c20a37-5ee8-4694-be49-1da3c8779ad1">
              <Lines>
                <MarkdownLine>
                  <LineId>e99ab500-fce8-4b34-80e7-d02712fc41d3</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="127">
                      <SegmentId>67e0a3cc-0d75-4d58-8085-5e999515fcaf</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="127"
                        trans_unit_id="127-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                      <CodeSpanItem
                        internal_item_id="2"
                        internal_item_parent_id="127"
                        trans_unit_id="127-2"
                        internal_item_type="CodeSpan">
                        <internal_items />
                        <ItemValue>onCreate</ItemValue>
                      </CodeSpanItem>
                      <InternalNormalItem
                        internal_item_id="3"
                        internal_item_parent_id="127"
                        trans_unit_id="127-3"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="127">
                  <SegmentId>67e0a3cc-0d75-4d58-8085-5e999515fcaf</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="127"
                    trans_unit_id="127-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                  <CodeSpanItem
                    internal_item_id="2"
                    internal_item_parent_id="127"
                    trans_unit_id="127-2"
                    internal_item_type="CodeSpan">
                    <internal_items />
                    <ItemValue>onCreate</ItemValue>
                  </CodeSpanItem>
                  <InternalNormalItem
                    internal_item_id="3"
                    internal_item_parent_id="127"
                    trans_unit_id="127-3"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <MarkdownCodeBlock
              item_id="c394b6a6-8a3a-41ef-9060-88a70601ff07"
              item_type="CodeBlock"
              item_footer="footer_not_set"
              trans_unit_id="c394b6a6-8a3a-41ef-9060-88a70601ff07">
              <code_block> @Override
 public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);

     setContentView(R.layout.activity_to_do);
     mProgressBar = (ProgressBar) findViewById(R.id.loadingProgressBar);

     // Initialize the progress bar
     mProgressBar.setVisibility(ProgressBar.GONE);

     try {
         // Create the Mobile Service Client instance, using the provided
         // Mobile Service URL and key
         mClient = new MobileServiceClient(
                 "https://&lt;YOUR MOBILE SERVICE&gt;.azure-mobile.net/",
                 "&lt;YOUR MOBILE SERVICE KEY&gt;", this)
                    .withFilter(new ProgressFilter())
                    .withFilter(new RefreshTokenCacheFilter());

         // Authenticate passing false to load the current token cache if available.
         authenticate(false);

     } catch (MalformedURLException e) {
         createAndShowDialog(new Exception("Error creating the Mobile Service. " +
             "Verify the URL"), "Error");
     }
 }


In this code, `RefreshTokenCacheFilter` is used in addition to `ProgressFilter`. Also during `onCreate` we want to load the token cache. So `false` is passed in to the `authenticate` method.
</code_block>
            </MarkdownCodeBlock>
            <Identifier>8.</Identifier>
            <IndentsLength>
              <int>0</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
              <int>3</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Number</ListType>
      </MarkdownBlockBase>
    </ArrayOfMarkdownBlockBase>
  </block_element>
  <references>
    <ArrayOfMarkdownLinkedReference xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
  </references>
</markdown_skeleton_root>