<markdown_skeleton_root>
  <block_element>
    <ArrayOfMarkdownBlockBase xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownBlockBase
        xsi:type="MarkdownAzureMetadataBlock"
        item_id="85de647b-dee9-4faf-ab3b-a84e02641d48"
        item_type="AzureMetadata"
        item_footer="footer_not_set"
        trans_unit_id="85de647b-dee9-4faf-ab3b-a84e02641d48">
        <LocalizeItemList>
          <MarkdownInternalXmlItem
            internal_item_id="372806a3-1ce6-46d3-8f50-1ff73201c2b7"
            trans_unit_id="101"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
          <MarkdownInternalXmlItem
            internal_item_id="951070b4-06f1-41a5-b6f0-2da0393aa91a"
            trans_unit_id="102"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
        </LocalizeItemList>
        <ItemValue>&lt;properties
    pageTitle="372806a3-1ce6-46d3-8f50-1ff73201c2b7"
    description="951070b4-06f1-41a5-b6f0-2da0393aa91a"
    services="machine-learning,hdinsight"
    solutions=""
    documentationCenter=""
    authors="hangzh-msft"
    manager="paulettm" 
    editor="cgronlun"  /&gt;

&lt;tags
    ms.service="machine-learning"
    ms.workload="data-services"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/01/2015"
    ms.author="hangzh;bradsev" /&gt;

</ItemValue>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="101113d8-e4b9-48eb-9228-b1cc1c8c270a"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="101113d8-e4b9-48eb-9228-b1cc1c8c270a">
        <segment
          trans_unit_id="103">
          <SegmentId>590458d1-5306-4119-b999-bd80db0c351b</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="103"
            trans_unit_id="103-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>1</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="a7c4fd62-b601-4800-91f8-9abbdb95dd5c"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="a7c4fd62-b601-4800-91f8-9abbdb95dd5c">
        <Lines>
          <MarkdownLine>
            <LineId>6e9b0ce5-7213-4857-883d-edffe1717cee</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="104">
                <SegmentId>5ae48a1b-5657-4916-8f9f-e79031a2ae09</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="104"
                  trans_unit_id="104-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="105">
                <SegmentId>4a87b2c9-278d-4ea8-b9e5-cdc2d1905152</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="105"
                  trans_unit_id="105-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="106">
                <SegmentId>b7e995ad-a5da-47ee-8524-84df5ca514b0</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="106"
                  trans_unit_id="106-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="104">
            <SegmentId>5ae48a1b-5657-4916-8f9f-e79031a2ae09</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="104"
              trans_unit_id="104-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="105">
            <SegmentId>4a87b2c9-278d-4ea8-b9e5-cdc2d1905152</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="105"
              trans_unit_id="105-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="106">
            <SegmentId>b7e995ad-a5da-47ee-8524-84df5ca514b0</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="106"
              trans_unit_id="106-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="8c5837c3-7850-4f94-a83b-9a4af559340f"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="8c5837c3-7850-4f94-a83b-9a4af559340f">
        <Lines>
          <MarkdownLine>
            <LineId>d0fcfe29-f51d-456c-8332-eef7fa775c14</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="107">
                <SegmentId>4583cc58-4041-4afa-90a7-764fce4c64ba</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="107"
                  trans_unit_id="107-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="108">
                <SegmentId>4a2ef5b3-c2de-4c6b-9f57-88da5d8d8095</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="108"
                  trans_unit_id="108-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="107">
            <SegmentId>4583cc58-4041-4afa-90a7-764fce4c64ba</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="107"
              trans_unit_id="107-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="108">
            <SegmentId>4a2ef5b3-c2de-4c6b-9f57-88da5d8d8095</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="108"
              trans_unit_id="108-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="b529770e-cc79-4fd1-96c2-b5f3d82ecd8e"
        item_type="List"
        item_footer=""
        trans_unit_id="b529770e-cc79-4fd1-96c2-b5f3d82ecd8e">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="e76eb33a-9dd2-48be-8995-4633fb2a6178"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="e76eb33a-9dd2-48be-8995-4633fb2a6178">
              <Lines>
                <MarkdownLine>
                  <LineId>6980242b-dd41-48d9-8845-4aee05bb6e8f</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="109">
                      <SegmentId>f73b7369-72ce-40d2-8421-85324b518e37</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="109"
                        trans_unit_id="109-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="109">
                  <SegmentId>f73b7369-72ce-40d2-8421-85324b518e37</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="109"
                    trans_unit_id="109-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="26196ae1-9e44-4fbf-9110-e3e31a25aaac"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="26196ae1-9e44-4fbf-9110-e3e31a25aaac">
              <Lines>
                <MarkdownLine>
                  <LineId>5d54013d-48e4-462c-8f26-d8018339f20f</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="110">
                      <SegmentId>3b505de3-6f42-4e96-be0b-bebb549f2604</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="110"
                        trans_unit_id="110-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="110">
                  <SegmentId>3b505de3-6f42-4e96-be0b-bebb549f2604</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="110"
                    trans_unit_id="110-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="bf6af849-d95e-42c6-ab8d-2a719a5c197d"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="bf6af849-d95e-42c6-ab8d-2a719a5c197d">
              <Lines>
                <MarkdownLine>
                  <LineId>f382b9cb-dd7a-4eff-88c0-4cd3c9390716</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="111">
                      <SegmentId>ccd09a1a-e24b-48fc-b9c3-5e7bc9e6735b</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="111"
                        trans_unit_id="111-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="111">
                  <SegmentId>ccd09a1a-e24b-48fc-b9c3-5e7bc9e6735b</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="111"
                    trans_unit_id="111-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="9da78d3c-4029-4582-a9fc-3ab4eb01727b"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="9da78d3c-4029-4582-a9fc-3ab4eb01727b">
        <Lines>
          <MarkdownLine>
            <LineId>ba1c20ae-9b8d-4a06-b4e2-4eeaae4b4c88</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="112">
                <SegmentId>203f8db4-e14f-4087-a279-c261fbd3936a</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="112"
                  trans_unit_id="112-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="113">
                <SegmentId>d0228948-8176-44c5-ab76-7db7a76cd5f0</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="113"
                  trans_unit_id="113-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="114">
                <SegmentId>f6a2375a-4880-4c68-81e6-37706efe3892</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="114"
                  trans_unit_id="114-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="114"
                  trans_unit_id="114-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>How to Submit Hive Queries</internal_link_text>
                  <internal_link_url>machine-learning-data-science-process-hive-tables.md#submit</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="114"
                  trans_unit_id="114-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="112">
            <SegmentId>203f8db4-e14f-4087-a279-c261fbd3936a</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="112"
              trans_unit_id="112-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="113">
            <SegmentId>d0228948-8176-44c5-ab76-7db7a76cd5f0</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="113"
              trans_unit_id="113-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="114">
            <SegmentId>f6a2375a-4880-4c68-81e6-37706efe3892</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="114"
              trans_unit_id="114-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="114"
              trans_unit_id="114-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>How to Submit Hive Queries</internal_link_text>
              <internal_link_url>machine-learning-data-science-process-hive-tables.md#submit</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="114"
              trans_unit_id="114-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="4bfd6a0d-990b-4d8f-8c59-cc0450febc56"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="4bfd6a0d-990b-4d8f-8c59-cc0450febc56">
        <segment
          trans_unit_id="115">
          <SegmentId>70a32fb3-6ce5-44ef-b0bf-33120f5ca1a9</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="115"
            trans_unit_id="115-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="uniform"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="115"
            trans_unit_id="115-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="115"
            trans_unit_id="115-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="dc80024a-cd6f-4bc7-a8fc-69e9c4ad5ca2"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="dc80024a-cd6f-4bc7-a8fc-69e9c4ad5ca2">
        <Lines>
          <MarkdownLine>
            <LineId>ab17476c-9293-4013-a81a-b3de2f6769ae</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="116">
                <SegmentId>b8b586be-f140-4d4a-923d-43f57097908c</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="116"
                  trans_unit_id="116-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="117">
                <SegmentId>1256e86a-1164-406f-8db8-57e88797ce3a</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="117"
                  trans_unit_id="117-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="116">
            <SegmentId>b8b586be-f140-4d4a-923d-43f57097908c</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="116"
              trans_unit_id="116-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="117">
            <SegmentId>1256e86a-1164-406f-8db8-57e88797ce3a</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="117"
              trans_unit_id="117-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="1d02bf5e-7ebe-4e38-8a3e-f07896d9f330"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="1d02bf5e-7ebe-4e38-8a3e-f07896d9f330">
        <Lines>
          <MarkdownLine>
            <LineId>b4534971-4db3-4df8-9970-62b768653674</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="118">
                <SegmentId>bde16a7e-0238-4875-ae40-be8774f73909</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="118"
                  trans_unit_id="118-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="118">
            <SegmentId>bde16a7e-0238-4875-ae40-be8774f73909</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="118"
              trans_unit_id="118-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="e2caf42e-6203-4e42-b796-0aebc3b59b6b"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="e2caf42e-6203-4e42-b796-0aebc3b59b6b">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    field1, field2, …, fieldN
from
    (
    select
        field1, field2, …, fieldN, rand() as samplekey
    from &lt;hive table name&gt;
    )a
where samplekey&lt;='${hiveconf:sampleRate}'

</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="97903418-0a41-47d3-9880-596ed1830d3c"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="97903418-0a41-47d3-9880-596ed1830d3c">
        <Lines>
          <MarkdownLine>
            <LineId>22d68135-bae6-4b46-8620-fb0f57833d59</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="119">
                <SegmentId>060ed786-131b-48e7-8ae2-c016339bd2cc</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="119"
                  trans_unit_id="119-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <CodeSpanItem
                  internal_item_id="2"
                  internal_item_parent_id="119"
                  trans_unit_id="119-2"
                  internal_item_type="CodeSpan">
                  <internal_items />
                  <ItemValue>&lt;sample rate, 0-1&gt;</ItemValue>
                </CodeSpanItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="119"
                  trans_unit_id="119-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="119">
            <SegmentId>060ed786-131b-48e7-8ae2-c016339bd2cc</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="119"
              trans_unit_id="119-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <CodeSpanItem
              internal_item_id="2"
              internal_item_parent_id="119"
              trans_unit_id="119-2"
              internal_item_type="CodeSpan">
              <internal_items />
              <ItemValue>&lt;sample rate, 0-1&gt;</ItemValue>
            </CodeSpanItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="119"
              trans_unit_id="119-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="0e8a9cb5-ed3c-4037-8d21-519f22367a76"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="0e8a9cb5-ed3c-4037-8d21-519f22367a76">
        <segment
          trans_unit_id="120">
          <SegmentId>8d86eba6-28b0-4f75-87e9-4c75bc9f6492</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="120"
            trans_unit_id="120-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="group"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="120"
            trans_unit_id="120-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="120"
            trans_unit_id="120-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="56b24749-725f-4d91-bbbb-ab1bf87dc3e4"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="56b24749-725f-4d91-bbbb-ab1bf87dc3e4">
        <Lines>
          <MarkdownLine>
            <LineId>89eb1ba4-e24f-4b50-825c-da57c9b794d6</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="121">
                <SegmentId>ce0090fa-57a2-441b-9129-0cba2250bdc1</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="121"
                  trans_unit_id="121-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="122">
                <SegmentId>889659fc-73de-42c8-85cf-42543fd3f310</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="122"
                  trans_unit_id="122-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
          <MarkdownLine>
            <LineId>a23dc796-398e-4d3e-bc0d-6f7bd493faa8</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="123">
                <SegmentId>6aea6e54-738d-4412-978e-b005c5ce7821</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="123"
                  trans_unit_id="123-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="121">
            <SegmentId>ce0090fa-57a2-441b-9129-0cba2250bdc1</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="121"
              trans_unit_id="121-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="122">
            <SegmentId>889659fc-73de-42c8-85cf-42543fd3f310</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="122"
              trans_unit_id="122-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="123">
            <SegmentId>6aea6e54-738d-4412-978e-b005c5ce7821</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="123"
              trans_unit_id="123-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="9b51c696-9423-4ad9-ac7f-fda8247b15ee"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="9b51c696-9423-4ad9-ac7f-fda8247b15ee">
        <Lines>
          <MarkdownLine>
            <LineId>b2089cb9-030f-4c87-8206-0af16d56d4b8</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="124">
                <SegmentId>517a6172-966e-4c2e-90ee-cbcf4c34dee4</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="124"
                  trans_unit_id="124-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="124">
            <SegmentId>517a6172-966e-4c2e-90ee-cbcf4c34dee4</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="124"
              trans_unit_id="124-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="c447eac8-8f0a-4462-885f-835b7b79e332"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="c447eac8-8f0a-4462-885f-835b7b79e332">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    b.field1, b.field2, …, b.catfield, …, b.fieldN
from
    (
    select
        field1, field2, …, catfield, …, fieldN
    from &lt;table name&gt;
    )b
join
    (
    select
        catfield
    from
        (
        select
            catfield, rand() as samplekey
        from &lt;table name&gt;
        group by catfield
        )a
    where samplekey&lt;='${hiveconf:sampleRate}'
    )c
on b.catfield=c.catfield

</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="24a8b762-9589-4362-941b-e1fa8c8b3933"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="24a8b762-9589-4362-941b-e1fa8c8b3933">
        <segment
          trans_unit_id="125">
          <SegmentId>9d18b0e6-06ac-4a39-8274-35a58385d523</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="125"
            trans_unit_id="125-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="stratified"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="125"
            trans_unit_id="125-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="125"
            trans_unit_id="125-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="1858ccab-1c6e-42d7-93ff-0b11d765150e"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="1858ccab-1c6e-42d7-93ff-0b11d765150e">
        <Lines>
          <MarkdownLine>
            <LineId>8c0da19b-2fe1-40d2-a419-64143681c9bd</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="126">
                <SegmentId>f9b2d745-f778-4aca-8ab0-687c45cfd3f6</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="126"
                  trans_unit_id="126-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="127">
                <SegmentId>3a66d04f-a2a3-477a-a44b-32adab383100</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="127"
                  trans_unit_id="127-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="128">
                <SegmentId>f7d6c6da-5d4c-4d2c-a1bd-70f290a7f3ba</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="128"
                  trans_unit_id="128-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="126">
            <SegmentId>f9b2d745-f778-4aca-8ab0-687c45cfd3f6</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="126"
              trans_unit_id="126-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="127">
            <SegmentId>3a66d04f-a2a3-477a-a44b-32adab383100</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="127"
              trans_unit_id="127-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="128">
            <SegmentId>f7d6c6da-5d4c-4d2c-a1bd-70f290a7f3ba</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="128"
              trans_unit_id="128-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="00cf0423-7b77-40e7-8f11-d2839a0857ef"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="00cf0423-7b77-40e7-8f11-d2839a0857ef">
        <Lines>
          <MarkdownLine>
            <LineId>0c388181-d1cd-47e7-bdb6-0068817b88c8</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="129">
                <SegmentId>2322417d-d99a-4294-ba2a-27efc52797d0</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="129"
                  trans_unit_id="129-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="129">
            <SegmentId>2322417d-d99a-4294-ba2a-27efc52797d0</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="129"
              trans_unit_id="129-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="ba537dfd-d8ee-445d-81b6-8be4345ee7f8"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="ba537dfd-d8ee-445d-81b6-8be4345ee7f8">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    field1, field2, field3, ..., fieldN, state
from
    (
    select
        field1, field2, field3, ..., fieldN, state,
        count(*) over (partition by state) as state_cnt,
        rank() over (partition by state order by rand()) as state_rank
    from &lt;table name&gt;
    ) a
where state_rank &lt;= state_cnt*'${hiveconf:sampleRate}'


</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="9526bfcf-9afa-4b94-a828-f6373fbe7181"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="9526bfcf-9afa-4b94-a828-f6373fbe7181">
        <Lines>
          <MarkdownLine>
            <LineId>1c076e31-55c5-4be3-8a9b-39d3bddb81b8</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="130">
                <SegmentId>8b1c7f1b-3110-4226-8a6c-6010ae6d0291</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="130"
                  trans_unit_id="130-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="130"
                  trans_unit_id="130-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>LanguageManual Sampling</internal_link_text>
                  <internal_link_url>https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Sampling</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="130"
                  trans_unit_id="130-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="130">
            <SegmentId>8b1c7f1b-3110-4226-8a6c-6010ae6d0291</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="130"
              trans_unit_id="130-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="130"
              trans_unit_id="130-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>LanguageManual Sampling</internal_link_text>
              <internal_link_url>https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Sampling</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="130"
              trans_unit_id="130-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="65d9772f-b96e-47f1-8a69-078d69b6e6ba"
        item_type="NormalParagraph"
        item_footer="&#xA;&#xA;"
        trans_unit_id="65d9772f-b96e-47f1-8a69-078d69b6e6ba">
        <Lines>
          <MarkdownLine>
            <LineId>5646054a-b196-408f-994e-d6f9eb3301ea</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="131">
                <SegmentId>06689c01-6126-4c5b-b9dd-c6d1f907c9b6</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="131"
                  trans_unit_id="131-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="131">
            <SegmentId>06689c01-6126-4c5b-b9dd-c6d1f907c9b6</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="131"
              trans_unit_id="131-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
    </ArrayOfMarkdownBlockBase>
  </block_element>
  <references>
    <ArrayOfMarkdownLinkedReference xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
  </references>
</markdown_skeleton_root>