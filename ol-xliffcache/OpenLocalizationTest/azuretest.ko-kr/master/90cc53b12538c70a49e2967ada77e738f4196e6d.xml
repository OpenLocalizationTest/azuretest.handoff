<markdown_skeleton_root>
  <block_element>
    <ArrayOfMarkdownBlockBase xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <MarkdownBlockBase
        xsi:type="MarkdownAzureMetadataBlock"
        item_id="51939a82-a64c-4068-9c6c-a816586d3a94"
        item_type="AzureMetadata"
        item_footer="footer_not_set"
        trans_unit_id="51939a82-a64c-4068-9c6c-a816586d3a94">
        <LocalizeItemList>
          <MarkdownInternalXmlItem
            internal_item_id="6946f157-a107-4255-8e79-5dab9c023933"
            trans_unit_id="101"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
          <MarkdownInternalXmlItem
            internal_item_id="1e231e3f-aa1d-419a-be95-0dee6ad586ed"
            trans_unit_id="102"
            internal_item_type="Xml">
            <internal_items />
          </MarkdownInternalXmlItem>
        </LocalizeItemList>
        <ItemValue>&lt;properties
    pageTitle="6946f157-a107-4255-8e79-5dab9c023933"
    description="1e231e3f-aa1d-419a-be95-0dee6ad586ed"
    services="machine-learning,hdinsight"
    solutions=""
    documentationCenter=""
    authors="hangzh-msft"
    manager="paulettm" 
    editor="cgronlun"  /&gt;

&lt;tags
    ms.service="machine-learning"
    ms.workload="data-services"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="09/01/2015"
    ms.author="hangzh;bradsev" /&gt;

</ItemValue>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="b740ef8f-1947-4f2b-a102-b234b31c2a21"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="b740ef8f-1947-4f2b-a102-b234b31c2a21">
        <segment
          trans_unit_id="103">
          <SegmentId>73555bcf-faac-46ab-a3ff-144c84e0ffb6</SegmentId>
          <InternalNormalItem
            internal_item_id="1"
            internal_item_parent_id="103"
            trans_unit_id="103-1"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>1</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="0d28ab08-da25-4812-94db-f7d0b7f48d35"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="0d28ab08-da25-4812-94db-f7d0b7f48d35">
        <Lines>
          <MarkdownLine>
            <LineId>786d449d-d201-43da-a9ea-81960aa696ce</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="104">
                <SegmentId>034fe00b-00b1-4aac-839d-b1fcda6dbbe3</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="104"
                  trans_unit_id="104-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="105">
                <SegmentId>df8c3cff-3848-4517-b785-96ada15b44b7</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="105"
                  trans_unit_id="105-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="106">
                <SegmentId>aeb1b244-cc30-4913-abd2-903205dcb4fe</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="106"
                  trans_unit_id="106-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="104">
            <SegmentId>034fe00b-00b1-4aac-839d-b1fcda6dbbe3</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="104"
              trans_unit_id="104-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="105">
            <SegmentId>df8c3cff-3848-4517-b785-96ada15b44b7</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="105"
              trans_unit_id="105-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="106">
            <SegmentId>aeb1b244-cc30-4913-abd2-903205dcb4fe</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="106"
              trans_unit_id="106-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="9e36e0c6-3d95-4841-9d05-c345e2250507"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="9e36e0c6-3d95-4841-9d05-c345e2250507">
        <Lines>
          <MarkdownLine>
            <LineId>103154bb-cbe5-4f8e-b8fb-61f95c70d71c</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="107">
                <SegmentId>1f519607-0c35-4682-ab38-d688082e1a27</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="107"
                  trans_unit_id="107-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="108">
                <SegmentId>258eccec-8b03-48d2-89e2-b659cb04f874</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="108"
                  trans_unit_id="108-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="107">
            <SegmentId>1f519607-0c35-4682-ab38-d688082e1a27</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="107"
              trans_unit_id="107-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="108">
            <SegmentId>258eccec-8b03-48d2-89e2-b659cb04f874</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="108"
              trans_unit_id="108-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownListBlock"
        item_id="9368b4ef-6ee5-45e4-9054-3c81c8c6ebb0"
        item_type="List"
        item_footer=""
        trans_unit_id="9368b4ef-6ee5-45e4-9054-3c81c8c6ebb0">
        <inner_list_items>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="bc00acb9-c7b6-4f1a-a045-d524a733ca03"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="bc00acb9-c7b6-4f1a-a045-d524a733ca03">
              <Lines>
                <MarkdownLine>
                  <LineId>324b49e0-6658-4557-91cb-332a6d9b4330</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="109">
                      <SegmentId>8a347493-a9d6-42e1-990f-b9239d02b1c3</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="109"
                        trans_unit_id="109-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="109">
                  <SegmentId>8a347493-a9d6-42e1-990f-b9239d02b1c3</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="109"
                    trans_unit_id="109-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="17eea4dd-766b-4455-a4d1-b08a340d33b3"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="17eea4dd-766b-4455-a4d1-b08a340d33b3">
              <Lines>
                <MarkdownLine>
                  <LineId>323d7e69-6997-4ffc-b06d-85d150d23683</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="110">
                      <SegmentId>73df13da-688e-4ba5-8b73-524ee5d8cc6a</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="110"
                        trans_unit_id="110-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="110">
                  <SegmentId>73df13da-688e-4ba5-8b73-524ee5d8cc6a</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="110"
                    trans_unit_id="110-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
          <ListItem>
            <MarkdownParagraphBlock
              item_id="2910093b-fa79-428d-8a66-43bc356e4cbe"
              item_type="NormalParagraph"
              item_footer="footer_not_set"
              trans_unit_id="2910093b-fa79-428d-8a66-43bc356e4cbe">
              <Lines>
                <MarkdownLine>
                  <LineId>c4bdc22f-1f48-4151-aad1-4d2fd616d34b</LineId>
                  <paragraph_segments>
                    <MarkdownSegment
                      trans_unit_id="111">
                      <SegmentId>ac46008b-543b-441f-8e0f-bb65ed5d4c5b</SegmentId>
                      <InternalNormalItem
                        internal_item_id="1"
                        internal_item_parent_id="111"
                        trans_unit_id="111-1"
                        internal_item_type="Normal">
                        <internal_items />
                      </InternalNormalItem>
                    </MarkdownSegment>
                  </paragraph_segments>
                  <PrefixWSLength>1</PrefixWSLength>
                  <SuffixWSLength>0</SuffixWSLength>
                </MarkdownLine>
              </Lines>
              <paragraph_segments>
                <MarkdownSegment
                  trans_unit_id="111">
                  <SegmentId>ac46008b-543b-441f-8e0f-bb65ed5d4c5b</SegmentId>
                  <InternalNormalItem
                    internal_item_id="1"
                    internal_item_parent_id="111"
                    trans_unit_id="111-1"
                    internal_item_type="Normal">
                    <internal_items />
                  </InternalNormalItem>
                </MarkdownSegment>
              </paragraph_segments>
            </MarkdownParagraphBlock>
            <Identifier>*</Identifier>
            <IndentsLength>
              <int>0</int>
            </IndentsLength>
          </ListItem>
        </inner_list_items>
        <ListType>Charactor</ListType>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="c5508090-4f5e-44b9-ab45-8687f897c1f7"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="c5508090-4f5e-44b9-ab45-8687f897c1f7">
        <Lines>
          <MarkdownLine>
            <LineId>44fbfd33-6926-4733-978b-dce7beacec35</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="112">
                <SegmentId>3455b329-d8aa-4159-920f-0439d804ef7e</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="112"
                  trans_unit_id="112-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="113">
                <SegmentId>b41a4818-e5e4-41d0-bb06-11e969c2e4f9</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="113"
                  trans_unit_id="113-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="114">
                <SegmentId>dcbc718f-c7d9-4153-943d-77e9e0c53b0a</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="114"
                  trans_unit_id="114-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="114"
                  trans_unit_id="114-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>How to Submit Hive Queries</internal_link_text>
                  <internal_link_url>machine-learning-data-science-process-hive-tables.md#submit</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="114"
                  trans_unit_id="114-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="112">
            <SegmentId>3455b329-d8aa-4159-920f-0439d804ef7e</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="112"
              trans_unit_id="112-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="113">
            <SegmentId>b41a4818-e5e4-41d0-bb06-11e969c2e4f9</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="113"
              trans_unit_id="113-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="114">
            <SegmentId>dcbc718f-c7d9-4153-943d-77e9e0c53b0a</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="114"
              trans_unit_id="114-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="114"
              trans_unit_id="114-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>How to Submit Hive Queries</internal_link_text>
              <internal_link_url>machine-learning-data-science-process-hive-tables.md#submit</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="114"
              trans_unit_id="114-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="957af94a-f186-447e-916c-d1d3424a8754"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="957af94a-f186-447e-916c-d1d3424a8754">
        <segment
          trans_unit_id="115">
          <SegmentId>377ce2c3-d329-4c74-8e16-e427eea84990</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="115"
            trans_unit_id="115-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="uniform"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="115"
            trans_unit_id="115-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="115"
            trans_unit_id="115-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="e97a937a-fc04-4be6-8407-f01e0676ea42"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="e97a937a-fc04-4be6-8407-f01e0676ea42">
        <Lines>
          <MarkdownLine>
            <LineId>1c2a50d5-a043-4e27-890e-50eb20699be4</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="116">
                <SegmentId>09008374-e1ef-48a6-a9df-b34c85f42dec</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="116"
                  trans_unit_id="116-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="117">
                <SegmentId>272824c6-42f9-4e59-b005-b3298659eda3</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="117"
                  trans_unit_id="117-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="116">
            <SegmentId>09008374-e1ef-48a6-a9df-b34c85f42dec</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="116"
              trans_unit_id="116-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="117">
            <SegmentId>272824c6-42f9-4e59-b005-b3298659eda3</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="117"
              trans_unit_id="117-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="19aea847-945b-472f-8e6c-67d1cf9b57fd"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="19aea847-945b-472f-8e6c-67d1cf9b57fd">
        <Lines>
          <MarkdownLine>
            <LineId>d2726ad7-8e95-45c7-9a8e-46f7eec5a18f</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="118">
                <SegmentId>ed868027-3618-4a1e-9e25-783825ecb4cd</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="118"
                  trans_unit_id="118-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="118">
            <SegmentId>ed868027-3618-4a1e-9e25-783825ecb4cd</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="118"
              trans_unit_id="118-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="1431c68f-a435-4d7e-9cc3-d4c7705c76d9"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="1431c68f-a435-4d7e-9cc3-d4c7705c76d9">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    field1, field2, …, fieldN
from
    (
    select
        field1, field2, …, fieldN, rand() as samplekey
    from &lt;hive table name&gt;
    )a
where samplekey&lt;='${hiveconf:sampleRate}'

</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="5f2add4b-42c7-4645-9734-d0f1f3512eea"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="5f2add4b-42c7-4645-9734-d0f1f3512eea">
        <Lines>
          <MarkdownLine>
            <LineId>393d84a5-7bff-4c5f-8b7e-3456e877aa1a</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="119">
                <SegmentId>9b7e2db1-ceaa-43ba-a5fc-937b3454c80d</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="119"
                  trans_unit_id="119-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <CodeSpanItem
                  internal_item_id="2"
                  internal_item_parent_id="119"
                  trans_unit_id="119-2"
                  internal_item_type="CodeSpan">
                  <internal_items />
                  <ItemValue>&lt;sample rate, 0-1&gt;</ItemValue>
                </CodeSpanItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="119"
                  trans_unit_id="119-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="119">
            <SegmentId>9b7e2db1-ceaa-43ba-a5fc-937b3454c80d</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="119"
              trans_unit_id="119-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <CodeSpanItem
              internal_item_id="2"
              internal_item_parent_id="119"
              trans_unit_id="119-2"
              internal_item_type="CodeSpan">
              <internal_items />
              <ItemValue>&lt;sample rate, 0-1&gt;</ItemValue>
            </CodeSpanItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="119"
              trans_unit_id="119-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="a9cc1718-7f5b-4200-8b7f-6e14879531d7"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="a9cc1718-7f5b-4200-8b7f-6e14879531d7">
        <segment
          trans_unit_id="120">
          <SegmentId>5f0f2657-bc22-4318-8894-18b046e6b185</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="120"
            trans_unit_id="120-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="group"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="120"
            trans_unit_id="120-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="120"
            trans_unit_id="120-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="a923f550-bb6d-4058-b17c-bb03fc885542"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="a923f550-bb6d-4058-b17c-bb03fc885542">
        <Lines>
          <MarkdownLine>
            <LineId>cf08f4bb-f7b8-4bb7-a442-b98829c2c4f3</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="121">
                <SegmentId>c0fe53db-e65c-4c25-8291-dd33f2119c42</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="121"
                  trans_unit_id="121-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="122">
                <SegmentId>018f9b2d-b302-4e17-9a7a-e37e7263fc9a</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="122"
                  trans_unit_id="122-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
          <MarkdownLine>
            <LineId>55edc75b-85bf-4acb-b056-d8191f26b910</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="123">
                <SegmentId>87762fcd-3f08-4003-a8c2-abca3d6a9e6b</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="123"
                  trans_unit_id="123-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="121">
            <SegmentId>c0fe53db-e65c-4c25-8291-dd33f2119c42</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="121"
              trans_unit_id="121-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="122">
            <SegmentId>018f9b2d-b302-4e17-9a7a-e37e7263fc9a</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="122"
              trans_unit_id="122-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="123">
            <SegmentId>87762fcd-3f08-4003-a8c2-abca3d6a9e6b</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="123"
              trans_unit_id="123-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="61f3a71d-167e-4e4f-b6b5-10ba7680f9d2"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="61f3a71d-167e-4e4f-b6b5-10ba7680f9d2">
        <Lines>
          <MarkdownLine>
            <LineId>e94b2ea1-90ee-4999-aaa5-45eba7f13135</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="124">
                <SegmentId>2fcdd484-5ecf-4e2f-a17e-e6df51d87951</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="124"
                  trans_unit_id="124-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="124">
            <SegmentId>2fcdd484-5ecf-4e2f-a17e-e6df51d87951</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="124"
              trans_unit_id="124-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="41890eec-b2fd-48b0-a730-26f48da912dc"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="41890eec-b2fd-48b0-a730-26f48da912dc">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    b.field1, b.field2, …, b.catfield, …, b.fieldN
from
    (
    select
        field1, field2, …, catfield, …, fieldN
    from &lt;table name&gt;
    )b
join
    (
    select
        catfield
    from
        (
        select
            catfield, rand() as samplekey
        from &lt;table name&gt;
        group by catfield
        )a
    where samplekey&lt;='${hiveconf:sampleRate}'
    )c
on b.catfield=c.catfield

</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownHeaderBlock"
        item_id="d7d145a8-5cb4-4505-9083-3f1fa3c7eb6b"
        item_type="Header"
        item_footer="footer_not_set"
        trans_unit_id="d7d145a8-5cb4-4505-9083-3f1fa3c7eb6b">
        <segment
          trans_unit_id="125">
          <SegmentId>f5c5cf61-4c44-4ec9-bf01-8dc2900029af</SegmentId>
          <MarkdownInternalHtmlTag
            internal_item_id="1"
            internal_item_parent_id="125"
            trans_unit_id="125-1"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;a name="stratified"&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <MarkdownInternalHtmlTag
            internal_item_id="2"
            internal_item_parent_id="125"
            trans_unit_id="125-2"
            internal_item_type="HtmlTag">
            <internal_items />
            <itemValue>&lt;/a&gt;</itemValue>
          </MarkdownInternalHtmlTag>
          <InternalNormalItem
            internal_item_id="3"
            internal_item_parent_id="125"
            trans_unit_id="125-3"
            internal_item_type="Normal">
            <internal_items />
          </InternalNormalItem>
        </segment>
        <header_type>Star</header_type>
        <header_level>2</header_level>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="04f081ce-acdf-42da-be9e-3f5edcf9ed53"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="04f081ce-acdf-42da-be9e-3f5edcf9ed53">
        <Lines>
          <MarkdownLine>
            <LineId>85bc21ff-25cd-49e7-bf72-8ec7eb868357</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="126">
                <SegmentId>3fe9216f-7358-4abb-afbe-c7ff83875d74</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="126"
                  trans_unit_id="126-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="127">
                <SegmentId>c45ca3b9-2f10-4419-8592-8540e910cd87</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="127"
                  trans_unit_id="127-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
              <MarkdownSegment
                trans_unit_id="128">
                <SegmentId>b4f3ac8c-73a1-4580-a741-f4bfa99d4a60</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="128"
                  trans_unit_id="128-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="126">
            <SegmentId>3fe9216f-7358-4abb-afbe-c7ff83875d74</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="126"
              trans_unit_id="126-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="127">
            <SegmentId>c45ca3b9-2f10-4419-8592-8540e910cd87</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="127"
              trans_unit_id="127-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
          <MarkdownSegment
            trans_unit_id="128">
            <SegmentId>b4f3ac8c-73a1-4580-a741-f4bfa99d4a60</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="128"
              trans_unit_id="128-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="a6dc01d6-fcd9-435d-960a-a8f2430e9280"
        item_type="NormalParagraph"
        item_footer=""
        trans_unit_id="a6dc01d6-fcd9-435d-960a-a8f2430e9280">
        <Lines>
          <MarkdownLine>
            <LineId>d82b41c1-7050-4ef5-827c-2c446b15a230</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="129">
                <SegmentId>33d1e95c-1c26-4c83-b945-5659376348ac</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="129"
                  trans_unit_id="129-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="129">
            <SegmentId>33d1e95c-1c26-4c83-b945-5659376348ac</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="129"
              trans_unit_id="129-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownCodeBlock"
        item_id="d8728bfb-cd8d-47e9-b421-c44de5be9715"
        item_type="CodeBlock"
        item_footer="footer_not_set"
        trans_unit_id="d8728bfb-cd8d-47e9-b421-c44de5be9715">
        <code_block>SET sampleRate=&lt;sample rate, 0-1&gt;;
select
    field1, field2, field3, ..., fieldN, state
from
    (
    select
        field1, field2, field3, ..., fieldN, state,
        count(*) over (partition by state) as state_cnt,
        rank() over (partition by state order by rand()) as state_rank
    from &lt;table name&gt;
    ) a
where state_rank &lt;= state_cnt*'${hiveconf:sampleRate}'


</code_block>
      </MarkdownBlockBase>
      <MarkdownBlockBase
        xsi:type="MarkdownParagraphBlock"
        item_id="ca704d89-87b7-4b1c-a7d7-c3606d753fca"
        item_type="NormalParagraph"
        item_footer="&#xA;&#xA;"
        trans_unit_id="ca704d89-87b7-4b1c-a7d7-c3606d753fca">
        <Lines>
          <MarkdownLine>
            <LineId>8a5f08f7-9031-49c2-b69c-7af585b5517f</LineId>
            <paragraph_segments>
              <MarkdownSegment
                trans_unit_id="130">
                <SegmentId>57e00954-e03b-4d53-b940-e9123a7ac926</SegmentId>
                <InternalNormalItem
                  internal_item_id="1"
                  internal_item_parent_id="130"
                  trans_unit_id="130-1"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
                <LinkItem
                  internal_item_id="2"
                  internal_item_parent_id="130"
                  trans_unit_id="130-2"
                  internal_item_type="Link">
                  <internal_items />
                  <internal_link_type>Inline</internal_link_type>
                  <internal_link_text>LanguageManual Sampling</internal_link_text>
                  <internal_link_url>https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Sampling</internal_link_url>
                  <internal_link_title />
                </LinkItem>
                <InternalNormalItem
                  internal_item_id="3"
                  internal_item_parent_id="130"
                  trans_unit_id="130-3"
                  internal_item_type="Normal">
                  <internal_items />
                </InternalNormalItem>
              </MarkdownSegment>
            </paragraph_segments>
            <PrefixWSLength>0</PrefixWSLength>
            <SuffixWSLength>0</SuffixWSLength>
          </MarkdownLine>
        </Lines>
        <paragraph_segments>
          <MarkdownSegment
            trans_unit_id="130">
            <SegmentId>57e00954-e03b-4d53-b940-e9123a7ac926</SegmentId>
            <InternalNormalItem
              internal_item_id="1"
              internal_item_parent_id="130"
              trans_unit_id="130-1"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
            <LinkItem
              internal_item_id="2"
              internal_item_parent_id="130"
              trans_unit_id="130-2"
              internal_item_type="Link">
              <internal_items />
              <internal_link_type>Inline</internal_link_type>
              <internal_link_text>LanguageManual Sampling</internal_link_text>
              <internal_link_url>https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Sampling</internal_link_url>
              <internal_link_title />
            </LinkItem>
            <InternalNormalItem
              internal_item_id="3"
              internal_item_parent_id="130"
              trans_unit_id="130-3"
              internal_item_type="Normal">
              <internal_items />
            </InternalNormalItem>
          </MarkdownSegment>
        </paragraph_segments>
      </MarkdownBlockBase>
    </ArrayOfMarkdownBlockBase>
  </block_element>
  <references>
    <ArrayOfMarkdownLinkedReference xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
  </references>
</markdown_skeleton_root>